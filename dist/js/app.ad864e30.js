(function(e){function t(t){for(var a,s,i=t[0],n=t[1],d=t[2],p=0,u=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&u.push(l[s][0]),l[s]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);c&&c(t);while(u.length)u.shift()();return r.push.apply(r,d||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,i=1;i<o.length;i++){var n=o[i];0!==l[n]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},l={app:0},r=[];function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=n;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0106":function(e,t,o){"use strict";var a=o("f2fb"),l=o.n(a);l.a},"0116":function(e,t,o){"use strict";var a=o("08c2"),l=o.n(a);l.a},"031a":function(e,t,o){"use strict";var a=o("4f76"),l=o.n(a);l.a},"0429":function(e,t,o){},"08c2":function(e,t,o){},"1b6c":function(e,t,o){},2046:function(e,t,o){},"23a8":function(e,t,o){},"32dc":function(e,t,o){"use strict";var a=o("a0f3"),l=o.n(a);l.a},3541:function(e,t,o){"use strict";var a=o("c630"),l=o.n(a);l.a},"36be":function(e,t,o){},"399b":function(e,t,o){},4623:function(e,t,o){},"46b0":function(e,t,o){},"46f5":function(e,t,o){"use strict";var a=o("46b0"),l=o.n(a);l.a},"4f76":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],s={name:"App"},i=s,n=o("2877"),d=Object(n["a"])(i,l,r,!1,null,null,null),c=d.exports,p=o("5c96"),u=o.n(p),m=(o("0fae"),o("8c4f")),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-form",{ref:"form",staticClass:"login-box",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[o("h3",{staticClass:"login-title",staticStyle:{margin:"0 auto 0px auto"}},[e._v("欢迎登录")]),o("div",{staticStyle:{margin:"10px 0px 10px 25px"}},[o("el-button",{attrs:{id:"passwordLogin",type:"text",disabled:e.password},on:{click:function(t){e.password=!0}}},[e._v("密码登录")]),o("el-button",{attrs:{id:"phoneLogin",type:"text",disabled:!e.password},on:{click:function(t){e.password=!1}}},[e._v("手机登录")])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:e.password,expression:"password"}]},[o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.password,expression:"!password"}]},[o("el-form-item",{attrs:{label:"手机号"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入手机号"},model:{value:e.formII.uphone,callback:function(t){e.$set(e.formII,"uphone",t)},expression:"formII.uphone"}})],1),o("el-form-item",{attrs:{label:"验证码"}},[o("el-input",{staticStyle:{width:"62%"},attrs:{type:"text",placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formII.valCode,callback:function(t){e.$set(e.formII,"valCode",t)},expression:"formII.valCode"}}),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.sendAuthCode,expression:"sendAuthCode"}],on:{click:e.getAuthCode}},[e._v("获取验证码")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.sendAuthCode,expression:"!sendAuthCode"}],staticStyle:{width:"34%"},attrs:{disabled:""}},[e._v(e._s(e.authTime)+" s")])],1)],1),o("el-form-item",{attrs:{id:"buttons"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")]),o("el-button",{attrs:{type:"success"}},[e._v("注册")])],1)],1)],1)},h=[],b={name:"Login",data:function(){return{sendAuthCode:!0,authTime:0,password:!0,phone:!1,form:{username:"",password:""},formII:{uphone:"",valCode:""},rules:{username:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]},dialogVisible:!1}},methods:{getAuthCode:function(){var e=this;if(""==this.formII.uphone)this.$message.error("请输入电话号码");else{this.$axios.post("/valCode",this.$qs.stringify({uphone:this.formII.uphone})).then((function(t){console.log(t),5e4==t.code&&e.$message.error("系统出错，获取验证码失败")})),this.sendAuthCode=!1,this.authTime=60;var t=setInterval((function(){e.authTime--,e.authTime<=0&&(e.sendAuthCode=!0,clearInterval(t))}),1e3)}},onSubmit:function(){var e=this;this.password?this.$axios.post("/loginByPassword",this.form).then((function(t){if(20001==t.code){var o=t.data.username;sessionStorage.setItem("user",JSON.stringify(o)),e.$store.dispatch("setUser",o),e.$router.push("/main")}else e.$message.error("用户名或者密码错误，请重新输入")})).catch((function(e){console.log(e)})):this.$axios.post("/loginByPhone",this.formII).then((function(t){if(20001==t.code){var o=t.data.username;sessionStorage.setItem("user",JSON.stringify(o)),e.$store.dispatch("setUser",o),e.$router.push("/main")}else e.$message.error("手机号或验证码有误，请重新输入")})).catch((function(e){console.log(e)}))},beforeRouteEnter:function(e,t,o){o((function(e){e.$store.dispatch("setUser",null)}))}}},g=b,y=(o("bd2d"),Object(n["a"])(g,f,h,!1,null,"79e185aa",null)),v=y.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main"}},[a("el-container",[a("el-header",{attrs:{height:"130px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("img",{staticStyle:{"padding-top":"15px"},attrs:{src:o("cf05"),width:"200px",height:"100"}})]),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"title"},[a("span",[e._v("天翼电子商务进销存系统")]),a("br"),a("span",[e._v("Electronic Business Invoicing System")])])]),a("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:3}},[a("el-dropdown",[a("el-button",[a("i",{staticClass:"el-icon-user-solid"}),e._v(" admin "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",{on:{click:e.changePassword}},[e._v("修改密码")])]),a("el-dropdown-item",[a("a",{on:{click:e.logout}},[e._v("退出")])])],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("div",{staticClass:"nevigationBar"},[a("el-menu",{staticStyle:{"max-height":"100px"},attrs:{id:"menubar",mode:"vertical","default-active":this.$route.path,router:""}},[a("el-menu-item",{attrs:{index:"/main"}},[a("i",{staticClass:"el-icon-house"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._l(e.menus,(function(t){return a("el-submenu",{key:t.mid,attrs:{index:t.mid+""}},[a("template",{slot:"title"},[a("span",[e._v(e._s(t.menuName))])]),e._l(t.children,(function(t){return a("div",{key:t.mid,attrs:{index:t.mid+""}},[0!=t.children.length?a("div",[a("el-submenu",{attrs:{index:t.mid+""}},[a("template",{slot:"title"},[a("span",[e._v(e._s(t.menuName))])]),e._l(t.children,(function(t){return a("el-menu-item",{key:t.mid,attrs:{index:t.menuUrl}},[e._v(" "+e._s(t.menuName)+" ")])}))],2)],1):a("div",[a("el-menu-item",{key:t.mid,attrs:{index:t.menuUrl}},[e._v(" "+e._s(t.menuName)+" ")])],1)])}))],2)}))],2)],1)]),a("el-main",[a("div",{attrs:{id:"showComponent"}},[a("router-view")],1)])],1)],1)],1)},F=[],x={name:"Main",data:function(){return{menus:[]}},methods:{changePassword:function(){this.$router.push({path:"/main/changePassword"})},getMenus:function(){var e=this;this.$axios.get("/getMenus").then((function(t){console.log(t),e.menus=t.data}))},logout:function(){this.$router.push("/"),this.$axios.get("/logout"),localStorage.removeItem("token")}},computed:{isLogin:function(){return sessionStorage.getItem("loginUser")?this.$store.commit("userStatus",sessionStorage.getItem("loginUser")):this.$store.commit("userStatus",null),this.$store.getters.isLogin}},created:function(){"null"==sessionStorage.getItem("loginUser")&&this.$router.push("/"),this.getMenus()}},w=x,S=(o("0106"),Object(n["a"])(w,k,F,!1,null,"05f4b0ca",null)),_=S.exports,$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",staticStyle:{width:"120px"},attrs:{placeholder:"所有部门"},model:{value:e.searchForm.deptName,callback:function(t){e.$set(e.searchForm,"deptName",t)},expression:"searchForm.deptName"}},e._l(e.deptList,(function(e){return o("el-option",{key:e.deptName,attrs:{value:e.deptId,label:e.deptName}})})),1)],1),o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",attrs:{placeholder:"用户状态"},model:{value:e.searchForm.accountStatus,callback:function(t){e.$set(e.searchForm,"accountStatus",t)},expression:"searchForm.accountStatus"}},[o("el-option",{attrs:{label:"有效",value:"1"}}),o("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",staticStyle:{width:"80px"},attrs:{placeholder:"职务"},model:{value:e.searchForm.position,callback:function(t){e.$set(e.searchForm,"position",t)},expression:"searchForm.position"}},[o("el-option",{attrs:{label:"总监",value:"总监"}}),o("el-option",{attrs:{label:"经理",value:"经理"}}),o("el-option",{attrs:{label:"助理",value:"助理"}})],1)],1),o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",staticStyle:{width:"80px"},attrs:{placeholder:"角色"},model:{value:e.searchForm.role,callback:function(t){e.$set(e.searchForm,"role",t)},expression:"searchForm.role"}},e._l(e.roleList,(function(e){return o("el-option",{key:e.rid,attrs:{value:e.roleName,label:e.roleName}})})),1)],1),o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",staticStyle:{width:"80px"},attrs:{placeholder:"性别"},model:{value:e.searchForm.gender,callback:function(t){e.$set(e.searchForm,"gender",t)},expression:"searchForm.gender"}},[o("el-option",{attrs:{label:"男",value:"1"}}),o("el-option",{attrs:{label:"女",value:"0"}})],1)],1),o("el-form-item",{attrs:{label:"用户姓名:"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.uname,callback:function(t){e.$set(e.searchForm,"uname",t)},expression:"searchForm.uname"}})],1),o("el-form-item",{attrs:{label:"登录名:"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.username,callback:function(t){e.$set(e.searchForm,"username",t)},expression:"searchForm.username"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:e.search}},[e._v("查询")]),o("el-button",{attrs:{type:"warning"},on:{click:e.reset}},[e._v("重置")]),o("el-button",{attrs:{type:"info"},on:{click:e.handleInsert}},[e._v("添加")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"uid",label:"序号",width:"55px"}}),o("el-table-column",{attrs:{prop:"username",label:"用户登录名"}}),o("el-table-column",{attrs:{prop:"uname",label:"用户姓名"}}),o("el-table-column",{attrs:{prop:"deptName",label:"归属部门","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"gender",label:"用户性别","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"accountStatus",label:"用户状态","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"position",label:"用户职务","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"uphone",label:"手机号码","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"email",label:"用户邮箱","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"role",label:"角色","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.row),e.operatedRowId=t.$index}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.deletionId=t.row.uid,e.delDialog=!0}}},[e._v("删除")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[2,3,5,10],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"温馨提示",visible:e.delDialog,width:"30%"},on:{"update:visible":function(t){e.delDialog=t}}},[o("span",[e._v("此操作将永久删除该记录, 是否继续?")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.delDialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delDialog=!1,e.deleteById()}}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"用户信息",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"用户名：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),o("el-form-item",{attrs:{label:"密码：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),o("el-form-item",{attrs:{label:"用户姓名：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.uname,callback:function(t){e.$set(e.addForm,"uname",t)},expression:"addForm.uname"}})],1),o("el-form-item",{attrs:{label:"手机号码：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.uphone,callback:function(t){e.$set(e.addForm,"uphone",t)},expression:"addForm.uphone"}})],1),o("el-form-item",{attrs:{label:"用户邮箱：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),o("el-form-item",{attrs:{label:"归属部门：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"所有部门"},model:{value:e.addForm.deptName,callback:function(t){e.$set(e.addForm,"deptName",t)},expression:"addForm.deptName"}},e._l(e.deptList,(function(e){return o("el-option",{key:e.deptName,attrs:{value:e.deptId,label:e.deptName}})})),1)],1),o("el-form-item",{attrs:{label:"用户状态：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"用户状态"},model:{value:e.addForm.accountStatus,callback:function(t){e.$set(e.addForm,"accountStatus",t)},expression:"addForm.accountStatus"}},[o("el-option",{attrs:{label:"有效",value:"1"}}),o("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),o("el-form-item",{attrs:{label:"角色：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"角色"},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}},e._l(e.roleList,(function(e){return o("el-option",{key:e.rid,attrs:{value:e.roleName,label:e.roleName}})})),1)],1),o("el-form-item",{attrs:{label:"用户职务：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"职务"},model:{value:e.addForm.position,callback:function(t){e.$set(e.addForm,"position",t)},expression:"addForm.position"}},[o("el-option",{attrs:{label:"总监",value:"总监"}}),o("el-option",{attrs:{label:"经理",value:"经理"}}),o("el-option",{attrs:{label:"助理",value:"助理"}})],1)],1),o("el-form-item",{attrs:{label:"用户性别：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"性别"},model:{value:e.addForm.gender,callback:function(t){e.$set(e.addForm,"gender",t)},expression:"addForm.gender"}},[o("el-option",{attrs:{label:"男",value:"1"}}),o("el-option",{attrs:{label:"女",value:"0"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.clearForm()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEvent(),e.clearForm()}}},[e._v("确 定")])],1)],1)],1)],1)},C=[],N={data:function(){return{formLabelWidth:"120px",tableData:[],deptList:[],page:{},operatedRowId:"",deletionId:-1,delDialog:!1,addDialog:!1,action:"",searchForm:{},addForm:{username:"",password:"",uname:"",uphone:"",email:"",deptName:"",role:"",position:"",gender:"",accountStatus:""},updateForm:{},roleList:{}}},methods:{clearForm:function(){this.addDialog=!1,this.addForm={}},handleEvent:function(){var e=this;"insert"==this.action?this.$axios.post("/user/insertUser",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})})):this.$axios.put("/user/updateUser",this.addForm).then((function(t){console.log(t),2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},handleEdit:function(e){this.addForm.uid=e.uid,this.addForm.username=e.username,this.addForm.password=e.password,this.addForm.uname=e.uname,this.addForm.uphone=e.uphone,this.addForm.email=e.email,this.addForm.deptName=e.deptName,this.addForm.role=e.role,this.addForm.position=e.position,this.addForm.gender=e.gender,this.addForm.accountStatus=e.accountStatus,this.action="update",this.addDialog=!0},handleInsert:function(){this.addForm={},this.addDialog=!0,this.action="insert"},deleteById:function(){var e=this;this.$axios.delete("/user/deleteUser/"+this.deletionId).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},reset:function(){this.searchForm={},this.handlePageQuery(this.page.pageNum,this.page.pageSize)},search:function(){var e=this,t={pageNum:this.page.pageNum,pageSize:this.page.pageSize};Object.assign(t,this.searchForm),this.$axios.get("/user/searchUsers",{params:t}).then((function(t){e.tableData=t.data.list,e.page=t.data}))},query:function(){var e=this;this.$axios.get("/user/getAllUsers").then((function(t){e.tableData=t.data.list,e.page=t.data}))},getAllDepts:function(){var e=this;this.$axios.get("/dept/getAllDept").then((function(t){e.deptList=t.data}))},getAllRoles:function(){var e=this;this.$axios.get("/role/getAllRole").then((function(t){e.roleList=t.data}))},handleSizeChange:function(e){this.handlePageQuery(this.page.pageNum,e)},handleCurrentChange:function(e){this.handlePageQuery(e,this.page.pageSize)},handlePageQuery:function(e,t){var o=this,a={pageNum:e,pageSize:t};Object.assign(a,this.searchForm),this.$axios.get("/user/searchUsers",{params:a}).then((function(e){o.tableData=e.data.list,o.page=e.data}))}},created:function(){this.query(),this.getAllDepts(),this.getAllRoles()}},P=N,D=(o("d8af"),Object(n["a"])(P,$,C,!1,null,"413668da",null)),z=D.exports,T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",staticStyle:{width:"120px"},attrs:{placeholder:"所有部门"},model:{value:e.searchForm.deptName,callback:function(t){e.$set(e.searchForm,"deptName",t)},expression:"searchForm.deptName"}},e._l(e.deptList,(function(e){return o("el-option",{key:e.deptName,attrs:{value:e.deptId,label:e.deptName}})})),1)],1),o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",attrs:{placeholder:"角色状态"},model:{value:e.searchForm.accountStatus,callback:function(t){e.$set(e.searchForm,"accountStatus",t)},expression:"searchForm.accountStatus"}},[o("el-option",{attrs:{label:"有效",value:"1"}}),o("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),o("el-form-item",{attrs:{label:"角色名称:"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.roleName,callback:function(t){e.$set(e.searchForm,"roleName",t)},expression:"searchForm.roleName"}})],1),o("el-form-item",{attrs:{label:"角色描述"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.description,callback:function(t){e.$set(e.searchForm,"description",t)},expression:"searchForm.description"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:e.search}},[e._v("查询")]),o("el-button",{attrs:{type:"warning"},on:{click:e.reset}},[e._v("重置")]),o("el-button",{attrs:{type:"info"},on:{click:e.handleInsert}},[e._v("添加")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"rid",label:"序号",width:"80px"}}),o("el-table-column",{attrs:{prop:"roleCode",label:"角色编码"}}),o("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),o("el-table-column",{attrs:{prop:"description",label:"描述","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"roleStatus",label:"角色状态","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"auth",label:"权限设定","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.row),e.operatedRowId=t.$index}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.deletionId=t.row.rid,e.delDialog=!0}}},[e._v("删除")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[2,3,5,10],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"温馨提示",visible:e.delDialog,width:"30%"},on:{"update:visible":function(t){e.delDialog=t}}},[o("span",[e._v("此操作将永久删除该记录, 是否继续?")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.delDialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delDialog=!1,e.deleteById()}}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"角色信息",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"角色编码：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.roleCode,callback:function(t){e.$set(e.addForm,"roleCode",t)},expression:"addForm.roleCode"}})],1),o("el-form-item",{attrs:{label:"角色名称：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1),o("el-form-item",{attrs:{label:"角色描述：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),o("el-form-item",{attrs:{label:"角色状态：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"角色状态"},model:{value:e.addForm.roleStatus,callback:function(t){e.$set(e.addForm,"roleStatus",t)},expression:"addForm.roleStatus"}},[o("el-option",{attrs:{label:"有效",value:"1"}}),o("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),o("el-form-item",{attrs:{label:"角色权限：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"所有权限"},model:{value:e.addForm.auth,callback:function(t){e.$set(e.addForm,"auth",t)},expression:"addForm.auth"}},e._l(e.authList,(function(e){return o("el-option",{key:e.authName,attrs:{value:e.authId,label:e.authName}})})),1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.clearForm(),e.getCheckedKeys()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEvent(),e.clearForm()}}},[e._v("确 定")])],1)],1)],1)],1)},q=[],L=(o("a4d3"),o("e01a"),{data:function(){return{formLabelWidth:"25%",tableData:[],deptList:[],page:{},operatedRowId:"",deletionId:-1,delDialog:!1,addDialog:!1,action:"",searchForm:{},addForm:{roleCode:"",roleName:"",description:"",roleStatus:"",auth:""},authList:[]}},methods:{getCheckedKeys:function(){console.log(this.$refs.tree.getCheckedKeys())},clearForm:function(){this.addDialog=!1,this.addForm={}},handleEvent:function(){var e=this;"insert"==this.action?this.$axios.post("/role/insertRole",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})})):this.$axios.put("/role/updateRole",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},handleEdit:function(e){this.addDialog=!0,this.addForm.rid=e.rid,this.addForm.roleCode=e.roleCode,this.addForm.roleName=e.roleName,this.addForm.description=e.description,this.addForm.roleStatus=e.roleStatus,this.addForm.auth=e.auth,this.action="update"},handleInsert:function(){this.addForm={},this.addDialog=!0,this.action="insert"},deleteById:function(){var e=this;this.$axios.delete("/role/deleteRole/"+this.deletionId).then((function(t){console.log(t),2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},reset:function(){this.searchForm={},this.handlePageQuery(this.page.pageNum,this.page.pageSize),this.$refs.tree.setCheckedKeys([])},search:function(){var e=this,t={pageNum:this.page.pageNum,pageSize:this.page.pageSize};Object.assign(t,this.searchForm),this.$axios.get("/role/searchRoles",{params:t}).then((function(t){e.tableData=t.data.list,e.page=t.data}))},query:function(){var e=this;this.$axios.get("/role/getAllRoleWithPage").then((function(t){e.tableData=t.data.list,e.page=t.data}))},getAllDepts:function(){var e=this;this.$axios.get("/dept/getAllDept").then((function(t){e.deptList=t.data}))},getAllAuth:function(){var e=this;this.$axios.get("/auth/getAllAuth").then((function(t){e.authList=t.data}))},handleSizeChange:function(e){this.handlePageQuery(this.page.pageNum,e)},handleCurrentChange:function(e){this.handlePageQuery(e,this.page.pageSize)},handlePageQuery:function(e,t){var o=this,a={pageNum:e,pageSize:t};Object.assign(a,this.searchForm),this.$axios.get("/role/searchRoles",{params:a}).then((function(e){o.tableData=e.data.list,o.page=e.data}))}},created:function(){this.query(),this.getAllAuth(),this.getAllDepts()}}),I=L,O=(o("031a"),Object(n["a"])(I,T,q,!1,null,"2c832aa1",null)),B=O.exports,M=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",staticStyle:{width:"120px"},attrs:{placeholder:"权限类型"},model:{value:e.searchForm.authName,callback:function(t){e.$set(e.searchForm,"authName",t)},expression:"searchForm.authName"}},e._l(e.distinctAuthList,(function(e){return o("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),o("el-form-item",[o("el-select",{staticClass:"selectBoxWidth",attrs:{placeholder:"权限状态"},model:{value:e.searchForm.authStatus,callback:function(t){e.$set(e.searchForm,"authStatus",t)},expression:"searchForm.authStatus"}},[o("el-option",{attrs:{label:"有效",value:"1"}}),o("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),o("el-form-item",{attrs:{label:"角色名称："}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.roleName,callback:function(t){e.$set(e.searchForm,"roleName",t)},expression:"searchForm.roleName"}})],1),o("el-form-item",{attrs:{label:"权限描述："}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.description,callback:function(t){e.$set(e.searchForm,"description",t)},expression:"searchForm.description"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:e.search}},[e._v("查询")]),o("el-button",{attrs:{type:"warning"},on:{click:e.reset}},[e._v("重置")]),o("el-button",{attrs:{type:"info"},on:{click:e.handleInsert}},[e._v("添加")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"authId",label:"序号",width:"120px"}}),o("el-table-column",{attrs:{prop:"authName",label:"权限类型"}}),o("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),o("el-table-column",{attrs:{prop:"authStatus",label:"状态","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"description",label:"权限描述","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"menuId",label:"权限范围","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{round:"",plain:"",size:"mini"},on:{click:function(o){return e.showMenuIds(t.row)}}},[e._v("查看")])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.row),e.setKeysForEdit(t.row),e.operatedRowId=t.$index}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.deletionId=t.row.authId,e.delDialog=!0}}},[e._v("删除")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[2,3,5,10],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"温馨提示",visible:e.delDialog,width:"30%"},on:{"update:visible":function(t){e.delDialog=t}}},[o("span",[e._v("此操作将永久删除该记录, 是否继续?")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.delDialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delDialog=!1,e.deleteById()}}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"权限信息",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"权限名称：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.authName,callback:function(t){e.$set(e.addForm,"authName",t)},expression:"addForm.authName"}})],1),o("el-form-item",{attrs:{label:"角色名称：","label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1),o("el-form-item",{attrs:{label:"权限描述：","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),o("el-form-item",{attrs:{label:"权限状态：","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"addBoxWidth",attrs:{placeholder:"请选择"},model:{value:e.addForm.authStatus,callback:function(t){e.$set(e.addForm,"authStatus",t)},expression:"addForm.authStatus"}},[o("el-option",{attrs:{label:"有效",value:"1"}}),o("el-option",{attrs:{label:"无效",value:"0"}})],1)],1),o("el-form-item",{attrs:{label:"权限范围：","label-width":e.formLabelWidth}},[o("el-tree",{ref:"editTree",attrs:{data:e.menuId,"show-checkbox":"","node-key":"id","highlight-current":"",props:e.defaultProps}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.clearForm()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEvent(),e.clearForm()}}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"权限信息",visible:e.authDialog,width:"30%"},on:{"update:visible":function(t){e.authDialog=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"权限范围：","label-width":e.formLabelWidth}},[o("el-tree",{ref:"tree",attrs:{data:e.menuId,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:e.defaultProps}})],1)],1)],1)],1)],1)},V=[],R=(o("a15b"),o("d81d"),o("a9e3"),o("ac1f"),o("1276"),{data:function(){return{formLabelWidth:"25%",tableData:[],page:{},operatedRowId:"",checkAuthRowId:"",deletionId:-1,delDialog:!1,addDialog:!1,authDialog:!1,action:"",searchForm:{},addForm:{authName:"",roleName:"",description:"",authStatus:"",menuId:""},distinctAuthList:[],roleList:{},menuId:[{id:100,label:"商品与赠品管理",children:[{id:10001,label:"商品管理",children:[{id:1000101,label:"品牌管理"},{id:1000102,label:"商品管理"},{id:1000103,label:"产品查询"},{id:1000104,label:"类型管理"},{id:1000105,label:"供应商管理"},{id:1000106,label:"价格调整管理"},{id:1000107,label:"价格调整审核"}]},{id:10002,label:"赠品管理",children:[{id:1000201,label:"赠品管理"},{id:1000202,label:"赠品转商品管理"},{id:1000203,label:"赠品转商品审核"},{id:1000204,label:"商品转赠品管理"},{id:1000205,label:"商品转赠品审核"}]}]},{id:200,label:"B2C销售管理",children:[{id:20001,label:"B2C销售订单查询"},{id:20002,label:"B2C出库管理"}]},{id:300,label:"售后管理",children:[{id:30001,label:"B2C售后管理",children:[{id:3000101,label:"退货"},{id:3000102,label:"售后维修"}]},{id:30002,label:"B2C退货审核",children:[{id:3000201,label:"返厂出库管理"},{id:3000202,label:"返厂出库审核"},{id:3000203,label:"返厂入库管理"},{id:3000204,label:"返厂入库审核"}]}]},{id:400,label:"系统管理",children:[{id:40001,label:"用户管理"},{id:40002,label:"角色管理"},{id:40003,label:"权限管理"},{id:40004,label:"部门管理"}]},{id:500,label:"日志管理",children:[{id:50001,label:"用户日志"},{id:50002,label:"商品日志"},{id:50003,label:"字典项管理"}]}],defaultProps:{children:"children",label:"label"}}},methods:{showMenuIds:function(e){var t=this;this.authDialog=!0,this.$nextTick((function(){if(t.$refs.tree.setCheckedKeys([]),null!=e.menuId){var o=e.menuId.split(",").map(Number);t.$refs.tree.setCheckedKeys(o)}}))},setKeysForEdit:function(e){var t=this;this.$nextTick((function(){if(t.$refs.editTree.setCheckedKeys([]),null!=e.menuId){var o=e.menuId.split(",").map(Number);console.log(o),t.$refs.editTree.setCheckedKeys(o)}}))},clearForm:function(){this.addDialog=!1,this.addForm={}},handleEvent:function(){var e=this;this.addForm.menuId=this.$refs.editTree.getCheckedKeys().join(","),"insert"==this.action?this.$axios.post("/auth/insertAuth",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})})):this.$axios.put("/auth/updateAuth",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},handleEdit:function(e){this.addDialog=!0,this.addForm.authId=e.authId,this.addForm.authName=e.authName,this.addForm.roleName=e.roleName,this.addForm.description=e.description,this.addForm.authStatus=e.authStatus,this.action="update"},handleInsert:function(){var e=this;this.addForm={},this.addDialog=!0,this.$nextTick((function(){e.$refs.editTree.setCheckedKeys([])})),this.action="insert"},deleteById:function(){var e=this;this.$axios.delete("/auth/deleteAuth/"+this.deletionId).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},reset:function(){this.searchForm={},this.handlePageQuery(this.page.pageNum,this.page.pageSize),this.$refs.editTree.setCheckedKeys([])},search:function(){var e=this,t={pageNum:this.page.pageNum,pageSize:this.page.pageSize};Object.assign(t,this.searchForm),this.$axios.get("/auth/searchAuth",{params:t}).then((function(t){e.tableData=t.data.list,e.page=t.data}))},query:function(){var e=this;this.$axios.get("/auth/getAllAuthWithPage").then((function(t){e.tableData=t.data.list,e.page=t.data}))},handleSizeChange:function(e){this.handlePageQuery(this.page.pageNum,e)},handleCurrentChange:function(e){this.handlePageQuery(e,this.page.pageSize)},handlePageQuery:function(e,t){var o=this,a={pageNum:e,pageSize:t};Object.assign(a,this.searchForm),this.$axios.get("/auth/searchAuth",{params:a}).then((function(e){o.tableData=e.data.list,o.page=e.data}))},getDistinctAuth:function(){var e=this;this.$axios.get("/auth/getDistinctAuth").then((function(t){e.distinctAuthList=t.data}))}},created:function(){this.query(),this.getDistinctAuth()}}),A=R,W=(o("46f5"),Object(n["a"])(A,M,V,!1,null,"4ab63e30",null)),Q=W.exports,j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"部门名称:"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.deptName,callback:function(t){e.$set(e.searchForm,"deptName",t)},expression:"searchForm.deptName"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:e.search}},[e._v("查询")]),o("el-button",{attrs:{type:"warning"},on:{click:e.reset}},[e._v("重置")]),o("el-button",{attrs:{type:"info"},on:{click:e.handleInsert}},[e._v("添加")])],1)],1),o("el-table",{staticStyle:{width:"50%","margin-left":"25%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"deptId",label:"序号",width:"300%"}}),o("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}}),o("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.row),e.operatedRowId=t.$index}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.deletionId=t.row.deptId,e.delDialog=!0}}},[e._v("删除")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[2,3,5,10],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"温馨提示",visible:e.delDialog,width:"30%"},on:{"update:visible":function(t){e.delDialog=t}}},[o("span",[e._v("此操作将永久删除该记录, 是否继续?")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.delDialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delDialog=!1,e.deleteById()}}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"部门信息",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"部门名称：","label-width":e.formLabelWidth}},[o("el-input",{on:{input:function(t){return e.change(t)}},model:{value:e.addForm.deptName,callback:function(t){e.$set(e.addForm,"deptName",t)},expression:"addForm.deptName"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.clearForm()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEvent(),e.clearForm()}}},[e._v("确 定")])],1)],1)],1)],1)},E=[],U={data:function(){return{formLabelWidth:"25%",tableData:[],deptList:[],page:{},operatedRowId:"",deletionId:-1,delDialog:!1,addDialog:!1,action:"",searchForm:{},addForm:{deptName:""},roleList:{}}},methods:{change:function(){this.$forceUpdate()},clearForm:function(){this.addDialog=!1,this.addForm={}},handleEvent:function(){var e=this;"insert"==this.action?this.$axios.post("/dept/insertDept",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})})):this.$axios.put("/dept/updateDept",this.addForm).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},handleEdit:function(e){this.addDialog=!0,this.addForm.deptId=e.deptId,this.addForm.deptName=e.deptName,this.action="update"},handleInsert:function(){this.addForm={},this.addDialog=!0,this.action="insert"},deleteById:function(){var e=this;this.$axios.delete("/dept/deleteDept/"+this.deletionId).then((function(t){2e4==t.code?(e.handlePageQuery(e.page.pageNum,e.page.pageSize),e.$message({message:"操作成功",type:"success"})):e.$message({message:"操作失败",type:"error"})}))},reset:function(){this.searchForm={},this.handlePageQuery(this.page.pageNum,this.page.pageSize)},search:function(){var e=this,t={pageNum:this.page.pageNum,pageSize:this.page.pageSize};Object.assign(t,this.searchForm),this.$axios.get("/dept/searchDept",{params:t}).then((function(t){e.tableData=t.data.list,e.page=t.data}))},query:function(){var e=this;this.$axios.get("/dept/getAllDeptWithPage").then((function(t){e.tableData=t.data.list,e.page=t.data}))},handleSizeChange:function(e){this.handlePageQuery(this.page.pageNum,e)},handleCurrentChange:function(e){this.handlePageQuery(e,this.page.pageSize)},handlePageQuery:function(e,t){var o=this,a={pageNum:e,pageSize:t};Object.assign(a,this.searchForm),this.$axios.get("/dept/searchDept",{params:a}).then((function(e){o.tableData=e.data.list,o.page=e.data}))}},created:function(){this.query()}},G=U,H=(o("c6d1"),Object(n["a"])(G,j,E,!1,null,"1ada3eaa",null)),K=H.exports,J=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"clock",rawName:"v-clock"}],attrs:{id:"main"}},[[o("el-table",{staticStyle:{width:"66%"},attrs:{data:e.tableData,border:""}},[o("el-table-column",{attrs:{prop:"gid",label:"序号",width:"55"}}),o("el-table-column",{attrs:{prop:"gcode",label:"商品id",width:"120"}}),o("el-table-column",{attrs:{prop:"gname",label:"商品名称",width:"120"}}),o("el-table-column",{attrs:{prop:"gsort",label:"商品分类",width:"120"}}),o("el-table-column",{attrs:{prop:"gbrand",label:"商品品牌",width:"120"}}),o("el-table-column",{attrs:{prop:"gmodel",label:"商品型号",width:"120"}}),o("el-table-column",{attrs:{prop:"gcolor",label:"商品颜色",width:"120"}}),o("el-table-column",{attrs:{prop:"gmarketprize",label:"市场价",width:"120"}}),o("el-table-column",{attrs:{prop:"gmallprize",label:"商城价",width:"120"}}),o("el-table-column",{attrs:{prop:"gminsum",label:"库存",width:"120"}}),o("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.handleClick(t.row)}}},[e._v("选择")])]}}])})],1)],[o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[2,3,4,5],"page-size":e.everyPageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)},X=[],Y={data:function(){return{tableData:-1,currentPage4:-1,totalNum:-1,everyPageNum:3}},methods:{onSubmit1:function(){var e=this,t=window.Qs.stringify(this.formInline);this.$axios.get("/product/selectParent?"+t).then((function(t){2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){var t=this;this.everyPageNum=e;var o=window.Qs.stringify(this.formInline);this.$axios.get("/product/selectParent?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handleCurrentChange:function(e){var t=this;this.currentPage4=e;var o=window.Qs.stringify(this.formInline);this.$axios.get("/product/selectParent?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handleClick:function(e){sessionStorage.setItem("product",JSON.stringify(e)),this.$router.push("/main/PriceAudit")}},created:function(){var e=this;this.$axios.get("/product/selectParent").then((function(t){2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},mounted:function(){}},Z=Y,ee=(o("d47d"),Object(n["a"])(Z,J,X,!1,null,"f8c221bc",null)),te=ee.exports,oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticStyle:{"margin-top":"20px",width:"86%"}},[o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-input",{attrs:{placeholder:"商品名称",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.formValue.goodsname,callback:function(t){e.$set(e.formValue,"goodsname",t)},expression:"formValue.goodsname"}})],1),o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择生效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.formValue.effectivetime,callback:function(t){e.$set(e.formValue,"effectivetime",t)},expression:"formValue.effectivetime"}})],1),o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择失效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.formValue.failuretime,callback:function(t){e.$set(e.formValue,"failuretime",t)},expression:"formValue.failuretime"}})],1),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.mainQuery}},[e._v(" 搜索 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-sunrise"},on:{click:e.mainQuery}},[e._v(" 待审核 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-sunny"},on:{click:e.queryAudited}},[e._v(" 审核通过 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-heavy-rain"},on:{click:e.queryUnAudited}},[e._v(" 审核不通过 ")])],1),o("el-table",{ref:"multipleTable",staticStyle:{width:"86%"},attrs:{data:e.tableData,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称",width:"120"}}),o("el-table-column",{attrs:{prop:"goodstock",label:"库存",width:"120"}}),o("el-table-column",{attrs:{prop:"oldsale",label:"原商场价",width:"120"}}),o("el-table-column",{attrs:{prop:"newsale",label:"调整后商场价",width:"120"}}),o("el-table-column",{attrs:{prop:"effectivetime",label:"生效时间",width:"200"}}),o("el-table-column",{attrs:{prop:"failuretime",label:"失效时间",width:"200"}}),o("el-table-column",{attrs:{prop:"auditstatus",label:"审核状态",width:"120"}}),o("el-table-column",{attrs:{label:"操作",width:"520"},scopedSlots:e._u([{key:"default",fn:function(t){return["未审核"==t.row.auditstatus?o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible2=!0}}},[e._v(" 审核 ")]):e._e(),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-full-screen"},on:{click:function(t){e.viewDialogForm=!0}}},[e._v(" 查看 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",icon:"el-icon-copy-document"},on:{click:function(o){e.handleAuthorizationMenu(t.$index,t.row),e.trackVisible=!0}}},[e._v(" 审核跟踪 ")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[3,4,5,6],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange1,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"价格申请单:",visible:e.viewDialogForm},on:{"update:visible":function(t){e.viewDialogForm=t}}},[o("table",{attrs:{border:"1px",cellpadding:"20px",cellspacing:"0",id:"myTable"}},[o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品id：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.goodsid)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品名称：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.goodsname)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品库存：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.goodstock)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品原始价格：")]),o("td",{staticClass:"onRight"},[o("span",[e._v("市场价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.oldprice)}}),o("span",{staticStyle:{"margin-left":"200px"}},[e._v("商城价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.oldsale)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品调价幅度：")]),o("td",{staticClass:"onRight"},[o("span",[e._v("市场价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.newprice)}}),o("span",{staticStyle:{"margin-left":"200px"}},[e._v("商城价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.newsale)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格生效时间：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.effectivetime)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格失效时间：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.failuretime)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("活动情况及原因：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.reasons)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("备注：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.remark)}})])])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.viewDialogForm=!1}}},[e._v("返 回")])],1)]),o("el-dialog",{attrs:{title:"审核:",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[o("el-form",{ref:"insertFormRe",attrs:{model:e.updateForm}},[o("table",{attrs:{border:"1px",cellpadding:"20px",cellspacing:"0",id:"myTable"}},[o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品id：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsid,callback:function(t){e.$set(e.updateForm,"goodsid",t)},expression:"updateForm.goodsid"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品名称：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsname,callback:function(t){e.$set(e.updateForm,"goodsname",t)},expression:"updateForm.goodsname"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品库存：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodstock,callback:function(t){e.$set(e.updateForm,"goodstock",t)},expression:"updateForm.goodstock"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品原始价格：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"市场价",disabled:""},model:{value:e.updateForm.oldprice,callback:function(t){e.$set(e.updateForm,"oldprice",t)},expression:"updateForm.oldprice"}})],1),o("el-col",{staticStyle:{"margin-left":"60px"},attrs:{span:"5"}},[o("el-input",{attrs:{placeholder:"商场价",disabled:""},model:{value:e.updateForm.oldsale,callback:function(t){e.$set(e.updateForm,"oldsale",t)},expression:"updateForm.oldsale"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品调价幅度：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"市场价",disabled:""},model:{value:e.updateForm.newprice,callback:function(t){e.$set(e.updateForm,"newprice",t)},expression:"updateForm.newprice"}})],1),o("el-col",{staticStyle:{"margin-left":"60px"},attrs:{span:"5"}},[o("el-input",{attrs:{placeholder:"商场价",disabled:""},model:{value:e.updateForm.newsale,callback:function(t){e.$set(e.updateForm,"newsale",t)},expression:"updateForm.newsale"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格生效时间：")]),o("td",{staticClass:"onRight"},[o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择生效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",disabled:""},model:{value:e.updateForm.effectivetime,callback:function(t){e.$set(e.updateForm,"effectivetime",t)},expression:"updateForm.effectivetime"}})],1)])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格失效时间：")]),o("td",{staticClass:"onRight"},[o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择失效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",disabled:""},model:{value:e.updateForm.failuretime,callback:function(t){e.$set(e.updateForm,"failuretime",t)},expression:"updateForm.failuretime"}})],1)])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("活动情况及原因：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.reasons,callback:function(t){e.$set(e.updateForm,"reasons",t)},expression:"updateForm.reasons"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("备注：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("审核意见：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.auditopinion,callback:function(t){e.$set(e.updateForm,"auditopinion",t)},expression:"updateForm.auditopinion"}})],1)])])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"warning"},on:{click:function(t){e.dialogFormVisible2=!1,e.unAdopt()}}},[e._v("不 通 过")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1,e.adopt()}}},[e._v("通 过")])],1)],1),o("el-dialog",{attrs:{title:"审核记录:",visible:e.trackVisible},on:{"update:visible":function(t){e.trackVisible=t}}},[o("el-table",{staticStyle:{width:"70%"},attrs:{data:e.track,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{prop:"approner",label:"审批人",width:"120"}}),o("el-table-column",{attrs:{prop:"aduittime",label:"审批时间",width:"250"}}),o("el-table-column",{attrs:{prop:"auditstatus",label:"审批状态",width:"120"}}),o("el-table-column",{attrs:{prop:"auditopinion",label:"审批意见",width:"150"}})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.trackVisible=!1}}},[e._v("返 回")])],1)],1)],1)},ae=[],le={data:function(){return{calc:"",tableData:[],multipleSelection:[],page:{},formValue:{},delNum:"",viewDialogForm:!1,formLabelWidth:"120px",dialogFormVisible2:!1,trackVisible:!1,updateForm:{},track:[]}},methods:{mainQuery:function(){this.formValue.auditstatus=0,this.query()},queryAudited:function(){this.formValue.auditstatus=1,this.query()},queryUnAudited:function(){this.formValue.auditstatus=2,this.query()},insert:function(){var e=this;this.$axios.post("/audit",this.insertForm).then((function(t){2e4==t.code&&e.$message({message:"新增成功",type:"success"}),e.query()}))},adopt:function(){this.updateForm.auditstatus=1,this.update()},unAdopt:function(){this.updateForm.auditstatus=2,this.update()},update:function(){var e=this;this.$axios.post("/audit/createRecord",this.updateForm).then((function(t){2e4==t.code&&e.$message({message:"审核已处理",type:"success"}),e.query()}))},query:function(e){var t=this,o=e;void 0!=this.formValue&&(Object.assign(this.formValue,e),o=this.formValue),this.$axios.get("/audit/levelForm",{params:o}).then((function(e){t.tableData=e.data.list,t.page=e.data}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange1:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},handleSelectionChange:function(e){void 0!=e&&(this.multipleSelection=e)},handleCurrentChange:function(e){void 0!=e&&(console.log(e),this.updateForm=e,this.delNum=e.id,this.trackId=e.goodsid)},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},calcprice:function(){this.insertForm.newsale=this.insertForm.oldsale*this.calc},handleAuthorizationMenu:function(e,t){this.getAllTrack(t.goodsid)},getAllTrack:function(e){var t=this;this.$axios.get("/audit/trace?id="+e).then((function(e){t.track=e.data,console.log(t.track)}))}},created:function(){this.mainQuery()}},re=le,se=(o("c825"),Object(n["a"])(re,oe,ae,!1,null,"9af8657c",null)),ie=se.exports,ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"clock",rawName:"v-clock"}],attrs:{id:"main"}},[o("div",{staticStyle:{float:"left","margin-left":"100px","margin-top":"20px",width:"150px"}},[o("el-tree",{attrs:{data:e.treeData,props:e.defaultProps,"node-key":"typeId","default-expanded-keys":[1,2,4,5,7,15]}})],1),o("div",{staticStyle:{float:"left","padding-left":"130px","margin-top":"20px"}},[o("el-card",[o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-input",{attrs:{placeholder:"类型名称",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.formValue.typeName,callback:function(t){e.$set(e.formValue,"typeName",t)},expression:"formValue.typeName"}})],1),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-input",{attrs:{placeholder:"类型描述",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.formValue.typeremark,callback:function(t){e.$set(e.formValue,"typeremark",t)},expression:"formValue.typeremark"}})],1),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v(" 搜索 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.open()}}},[e._v(" 删除 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible2=!0}}},[e._v(" 修改 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-circle-plus"},on:{click:function(t){e.dialogFormVisible1=!0,e.resetForm("insertFormRe")}}},[e._v(" 新增 ")])],1),o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{type:"selection",width:"200"}}),o("el-table-column",{attrs:{type:"index",width:"200",label:"序号"}}),o("el-table-column",{attrs:{prop:"typeName",label:"商品类型名称",width:"200"}}),o("el-table-column",{attrs:{prop:"typeremark",label:"品牌类型描述",width:"200"}}),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-eleme"},on:{click:function(o){e.brandVisible=!0,e.getBrand(t.row)}}},[e._v(" 选用品牌 ")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[3,4,5,6],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange1,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}})],1),o("el-dialog",{attrs:{title:"新增类型信息",visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[o("el-form",{ref:"insertFormRe",attrs:{model:e.insertForm}},[o("el-col",{attrs:{span:"12"}}),o("el-form-item",{attrs:{label:"商品类型名称","label-width":e.formLabelWidth,prop:"typeName"}},[o("el-col",{attrs:{span:"12"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.typeName,callback:function(t){e.$set(e.insertForm,"typeName",t)},expression:"insertForm.typeName"}})],1)],1),o("el-form-item",{attrs:{label:"商品类型描述","label-width":e.formLabelWidth,prop:"typeremark"}},[o("el-col",{attrs:{span:"12"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.typeremark,callback:function(t){e.$set(e.insertForm,"typeremark",t)},expression:"insertForm.typeremark"}})],1)],1),o("el-form-item",{attrs:{label:"父菜单","label-width":e.formLabelWidth,prop:"typePid"}},[o("el-col",{attrs:{span:"12"}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择父类型"},model:{value:e.insertForm.typePid,callback:function(t){e.$set(e.insertForm,"typePid",t)},expression:"insertForm.typePid"}},e._l(e.parentMenus,(function(e){return o("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible1=!1,e.insert()}}},[e._v("保 存")])],1)],1),o("el-dialog",{attrs:{title:"修改类型信息",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[o("el-form",{ref:"updateFormRe",attrs:{model:e.updateForm}},[o("el-col",{attrs:{span:"12"}}),o("el-form-item",{attrs:{label:"id","label-width":e.formLabelWidth,prop:"id"}},[o("el-col",{attrs:{span:"12"}},[o("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.updateForm.typeId,callback:function(t){e.$set(e.updateForm,"typeId",t)},expression:"updateForm.typeId"}})],1)],1),o("el-form-item",{attrs:{label:"商品类型名称","label-width":e.formLabelWidth}},[o("el-col",{attrs:{span:"12"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.typeName,callback:function(t){e.$set(e.updateForm,"typeName",t)},expression:"updateForm.typeName"}})],1)],1),o("el-form-item",{attrs:{label:"商品类型描述","label-width":e.formLabelWidth}},[o("el-col",{attrs:{span:"12"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.typeremark,callback:function(t){e.$set(e.updateForm,"typeremark",t)},expression:"updateForm.typeremark"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1,e.update()}}},[e._v("保 存")])],1)],1),o("el-dialog",{attrs:{title:"添加品牌信息",visible:e.brandVisible},on:{"update:visible":function(t){e.brandVisible=t}}},[o("el-transfer",{attrs:{data:e.data,titles:["可用品牌","已选品牌"]},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.brandVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.brandVisible=!1,e.saveBrand()}}},[e._v("保 存")])],1)],1)],1)},de=[],ce={data:function(){return{value:[],tableData:[],multipleSelection:[],page:{},formValue:{},delNum:[],treeData:[],defaultProps:{children:"children",label:"typeName",id:"typeId"},brandVisible:!1,formLabelWidth:"120px",dialogFormVisible1:!1,dialogFormVisible2:!1,updateForm:{},insertForm:{},parentMenus:[]}},methods:{saveBrand:function(){this.updateForm.typeBrand=this.value.join(),this.update()},getBrand:function(e){if(this.updateForm={},void 0!=e.typeBrand){var t=e.typeBrand.split(",");this.value=t.map(Number)}},queryParent:function(){var e=this;this.$axios.get("/goodsType/selectParent").then((function(t){e.parentMenus=t.data}))},insert:function(){var e=this;this.$axios.post("/goodsType",this.insertForm).then((function(t){2e4==t.code&&e.$message({message:"新增成功",type:"success"}),e.query(),e.queryTree()}))},update:function(){var e=this;this.$axios.put("/goodsType",this.updateForm).then((function(t){2e4==t.code&&e.$message({message:"修改成功",type:"success"}),e.query(),e.queryTree()}))},queryTree:function(){var e=this;this.$axios.get("/goodsType/selectTree").then((function(t){e.treeData=t.data}))},delSelected:function(){var e=this;for(var t in this.delNum=[],this.multipleSelection)console.log(t+"---"+this.multipleSelection[t].typeId),this.delNum.push(this.multipleSelection[t].typeId);this.$axios.delete("/goodsType/"+this.delNum.join()).then((function(t){2e4==t.code&&e.$message({message:"删除成功",type:"success"}),e.query(),e.queryTree()}))},open:function(){var e=this;this.$confirm("此操作将永久删除该条目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.delSelected()}))},query:function(e){var t=this,o=e;void 0!=this.formValue&&(Object.assign(this.formValue,e),o=this.formValue),this.$axios.get("/goodsType/selectAll",{params:o}).then((function(e){t.tableData=e.data.list,t.page=e.data}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange1:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},handleSelectionChange:function(e){void 0!=e&&(this.multipleSelection=e)},handleCurrentChange:function(e){void 0!=e&&(this.updateForm=e)},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},resetForm:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields()}},components:{},computed:{},created:function(){this.query(),this.queryTree(),this.queryParent()},mounted:function(){}},pe=ce,ue=(o("0116"),Object(n["a"])(pe,ne,de,!1,null,"ad77127a",null)),me=ue.exports,fe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticStyle:{"margin-top":"20px",width:"86%"}},[o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-input",{attrs:{placeholder:"商品名称",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.formValue.goodsname,callback:function(t){e.$set(e.formValue,"goodsname",t)},expression:"formValue.goodsname"}})],1),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择审核状态"},model:{value:e.formValue.auditstatus,callback:function(t){e.$set(e.formValue,"auditstatus",t)},expression:"formValue.auditstatus"}},e._l(e.status,(function(e){return o("el-option",{key:e.dicKey,attrs:{label:e.dicValue,value:e.dicKey}})})),1)],1),o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择生效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.formValue.effectivetime,callback:function(t){e.$set(e.formValue,"effectivetime",t)},expression:"formValue.effectivetime"}})],1),o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择失效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.formValue.failuretime,callback:function(t){e.$set(e.formValue,"failuretime",t)},expression:"formValue.failuretime"}})],1),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v(" 搜索 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-circle-plus"},on:{click:function(t){e.dialogFormVisible1=!0,e.resetForm("insertFormRe")}}},[e._v(" 新增价格调整申请 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-s-promotion"},on:{click:function(t){e.draftVisible=!0,e.getAllDrft()}}},[e._v(" 草稿 ")])],1),o("el-table",{ref:"multipleTable",staticStyle:{width:"86%"},attrs:{data:e.tableData,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称",width:"120"}}),o("el-table-column",{attrs:{prop:"goodstock",label:"库存",width:"120"}}),o("el-table-column",{attrs:{prop:"oldsale",label:"原商场价",width:"120"}}),o("el-table-column",{attrs:{prop:"newsale",label:"调整后商场价",width:"120"}}),o("el-table-column",{attrs:{prop:"effectivetime",label:"生效时间",width:"200"}}),o("el-table-column",{attrs:{prop:"failuretime",label:"失效时间",width:"200"}}),o("el-table-column",{attrs:{prop:"auditstatus",label:"审核状态",width:"120"}}),o("el-table-column",{attrs:{label:"操作",width:"520"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-full-screen"},on:{click:function(t){e.viewDialogForm=!0}}},[e._v(" 查看 ")]),"审核通过"!=t.row.auditstatus?o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible2=!0}}},[e._v(" 修改 ")]):e._e(),"审核通过"!=t.row.auditstatus?o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.open()}}},[e._v(" 删除 ")]):e._e(),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",icon:"el-icon-copy-document"},on:{click:function(o){e.handleAuthorizationMenu(t.$index,t.row),e.trackVisible=!0}}},[e._v(" 审核跟踪 ")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[3,4,5,6],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange1,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"价格申请单:",visible:e.viewDialogForm},on:{"update:visible":function(t){e.viewDialogForm=t}}},[o("table",{attrs:{border:"1px",cellpadding:"20px",cellspacing:"0",id:"myTable"}},[o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品id：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.goodsid)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品名称：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.goodsname)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品库存：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.goodstock)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品原始价格：")]),o("td",{staticClass:"onRight"},[o("span",[e._v("市场价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.oldprice)}}),o("span",{staticStyle:{"margin-left":"200px"}},[e._v("商城价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.oldsale)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品调价幅度：")]),o("td",{staticClass:"onRight"},[o("span",[e._v("市场价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.newprice)}}),o("span",{staticStyle:{"margin-left":"200px"}},[e._v("商城价：")]),o("span",{domProps:{textContent:e._s(e.updateForm.newsale)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格生效时间：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.effectivetime)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格失效时间：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.failuretime)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("活动情况及原因：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.reasons)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("备注：")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.updateForm.remark)}})])])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.viewDialogForm=!1}}},[e._v("返 回")])],1)]),o("el-dialog",{attrs:{title:"新增申请信息:",visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[o("el-form",{ref:"insertFormRe",attrs:{model:e.insertForm}},[o("table",{attrs:{border:"1px",cellpadding:"20px",cellspacing:"0",id:"myTable"}},[o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品id：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.insertForm.goodsid,callback:function(t){e.$set(e.insertForm,"goodsid",t)},expression:"insertForm.goodsid"}})],1),o("el-button",{staticStyle:{"margin-left":"220px"},attrs:{type:"success",icon:"el-icon-s-operation"},on:{click:e.getGoodsFormOtherPage}},[e._v(" 选择商品 ")])],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品名称：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.insertForm.goodsname,callback:function(t){e.$set(e.insertForm,"goodsname",t)},expression:"insertForm.goodsname"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品库存：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.insertForm.goodstock,callback:function(t){e.$set(e.insertForm,"goodstock",t)},expression:"insertForm.goodstock"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品原始价格：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"市场价",disabled:""},model:{value:e.insertForm.oldprice,callback:function(t){e.$set(e.insertForm,"oldprice",t)},expression:"insertForm.oldprice"}})],1),o("el-col",{staticStyle:{"margin-left":"60px"},attrs:{span:"5"}},[o("el-input",{attrs:{placeholder:"商场价",disabled:""},model:{value:e.insertForm.oldsale,callback:function(t){e.$set(e.insertForm,"oldsale",t)},expression:"insertForm.oldsale"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("调价百分比:")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off"},on:{input:e.calcprice},model:{value:e.calc,callback:function(t){e.calc=t},expression:"calc"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品调价幅度：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"市场价"},model:{value:e.insertForm.newprice,callback:function(t){e.$set(e.insertForm,"newprice",t)},expression:"insertForm.newprice"}})],1),o("el-col",{staticStyle:{"margin-left":"60px"},attrs:{span:"5"}},[o("el-input",{attrs:{placeholder:"商场价"},model:{value:e.insertForm.newsale,callback:function(t){e.$set(e.insertForm,"newsale",t)},expression:"insertForm.newsale"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格生效时间：")]),o("td",{staticClass:"onRight"},[o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择生效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.insertForm.effectivetime,callback:function(t){e.$set(e.insertForm,"effectivetime",t)},expression:"insertForm.effectivetime"}})],1)])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格失效时间：")]),o("td",{staticClass:"onRight"},[o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择失效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.insertForm.failuretime,callback:function(t){e.$set(e.insertForm,"failuretime",t)},expression:"insertForm.failuretime"}})],1)])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("活动情况及原因：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.reasons,callback:function(t){e.$set(e.insertForm,"reasons",t)},expression:"insertForm.reasons"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("备注：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.remark,callback:function(t){e.$set(e.insertForm,"remark",t)},expression:"insertForm.remark"}})],1)])])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible1=!1,e.remove()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"success"},on:{click:function(t){e.dialogFormVisible1=!1,e.draftInsert()}}},[e._v("草 稿")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible1=!1,e.formalInsert()}}},[e._v("提 交")])],1)],1),o("el-dialog",{attrs:{title:"修改申请单:",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[o("el-form",{ref:"insertFormRe",attrs:{model:e.updateForm}},[o("table",{attrs:{border:"1px",cellpadding:"20px",cellspacing:"0",id:"myTable"}},[o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品id：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsid,callback:function(t){e.$set(e.updateForm,"goodsid",t)},expression:"updateForm.goodsid"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品名称：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsname,callback:function(t){e.$set(e.updateForm,"goodsname",t)},expression:"updateForm.goodsname"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品库存：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodstock,callback:function(t){e.$set(e.updateForm,"goodstock",t)},expression:"updateForm.goodstock"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品原始价格：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"市场价",disabled:""},model:{value:e.updateForm.oldprice,callback:function(t){e.$set(e.updateForm,"oldprice",t)},expression:"updateForm.oldprice"}})],1),o("el-col",{staticStyle:{"margin-left":"60px"},attrs:{span:"5"}},[o("el-input",{attrs:{placeholder:"商场价",disabled:""},model:{value:e.updateForm.oldsale,callback:function(t){e.$set(e.updateForm,"oldsale",t)},expression:"updateForm.oldsale"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("商品调价幅度：")]),o("td",{staticClass:"onRight"},[o("el-col",{attrs:{span:"5"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"市场价"},model:{value:e.updateForm.newprice,callback:function(t){e.$set(e.updateForm,"newprice",t)},expression:"updateForm.newprice"}})],1),o("el-col",{staticStyle:{"margin-left":"60px"},attrs:{span:"5"}},[o("el-input",{attrs:{placeholder:"商场价"},model:{value:e.updateForm.newsale,callback:function(t){e.$set(e.updateForm,"newsale",t)},expression:"updateForm.newsale"}})],1)],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格生效时间：")]),o("td",{staticClass:"onRight"},[o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择生效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.updateForm.effectivetime,callback:function(t){e.$set(e.updateForm,"effectivetime",t)},expression:"updateForm.effectivetime"}})],1)])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("希望价格失效时间：")]),o("td",{staticClass:"onRight"},[o("div",{staticClass:"block",staticStyle:{display:"inline-block","margin-left":"5px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择失效日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.updateForm.failuretime,callback:function(t){e.$set(e.updateForm,"failuretime",t)},expression:"updateForm.failuretime"}})],1)])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("活动情况及原因：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.reasons,callback:function(t){e.$set(e.updateForm,"reasons",t)},expression:"updateForm.reasons"}})],1)]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("备注：")]),o("td",{staticClass:"onRight"},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1)])])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1,e.reUpdate()}}},[e._v("提 交")])],1)],1),o("el-dialog",{attrs:{title:"审核记录:",visible:e.trackVisible},on:{"update:visible":function(t){e.trackVisible=t}}},[o("el-table",{staticStyle:{width:"70%"},attrs:{data:e.track,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{prop:"approner",label:"审批人",width:"120"}}),o("el-table-column",{attrs:{prop:"aduittime",label:"审批时间",width:"250"}}),o("el-table-column",{attrs:{prop:"auditstatus",label:"审批状态",width:"120"}}),o("el-table-column",{attrs:{prop:"auditopinion",label:"审批意见",width:"150"}})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.trackVisible=!1}}},[e._v("返 回")])],1)],1),o("el-dialog",{attrs:{title:"草稿:",visible:e.draftVisible},on:{"update:visible":function(t){e.draftVisible=t}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.draftTable,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称",width:"120"}}),o("el-table-column",{attrs:{prop:"goodstock",label:"库存",width:"55"}}),o("el-table-column",{attrs:{prop:"oldsale",label:"原商场价",width:"55"}}),o("el-table-column",{attrs:{prop:"newsale",label:"调整后商场价",width:"55"}}),o("el-table-column",{attrs:{prop:"effectivetime",label:"生效时间",width:"200"}}),o("el-table-column",{attrs:{prop:"failuretime",label:"失效时间",width:"200"}}),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(o){return e.drafthandle(t.$index,t.row)}}},[e._v(" 提交为正式申请 ")])]}}])})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.draftVisible=!1}}},[e._v("返 回")])],1)],1)],1)},he=[],be={data:function(){return{draftTable:[],calc:"",status:[],tableData:[],multipleSelection:[],page:{},formValue:{},delNum:"",viewDialogForm:!1,formLabelWidth:"120px",dialogFormVisible1:!1,dialogFormVisible2:!1,trackVisible:!1,draftVisible:!1,updateForm:{},insertForm:{},track:[]}},methods:{remove:function(){sessionStorage.removeItem("product")},reUpdate:function(){this.updateForm.auditstatus=0,this.updateForm.auditlevel=1,this.update()},getGoodsFormOtherPage:function(){this.$router.push("/main/acquireProudct")},queryStatus:function(){var e=this;this.$axios.get("/audit/getStatus").then((function(t){e.status=t.data}))},insert:function(){var e=this;this.$axios.post("/audit",this.insertForm).then((function(t){2e4==t.code&&(e.$message({message:"新增成功",type:"success"}),e.remove()),e.query()}))},formalInsert:function(){this.insertForm.auditstatus=0,this.insertForm.auditlevel=1,this.insert()},draftInsert:function(){this.insertForm.auditstatus=3,this.insert()},update:function(){var e=this;this.$axios.put("/audit",this.updateForm).then((function(t){2e4==t.code&&e.$message({message:"修改成功",type:"success"}),e.query()}))},delSelected:function(){var e=this;this.$axios.delete("/audit/"+this.delNum).then((function(t){2e4==t.code&&e.$message({message:"删除成功",type:"success"}),e.query()}))},open:function(){var e=this;this.$confirm("此操作将永久删除该条目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.delSelected()}))},query:function(e){var t=this,o=e;void 0!=this.formValue&&(Object.assign(this.formValue,e),o=this.formValue),this.$axios.get("/audit/allForm",{params:o}).then((function(e){t.tableData=e.data.list,t.page=e.data}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange1:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},handleSelectionChange:function(e){void 0!=e&&(this.multipleSelection=e)},handleCurrentChange:function(e){void 0!=e&&(console.log(e),this.updateForm=e,this.delNum=e.id,this.trackId=e.goodsid)},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},resetForm:function(){void 0!=this.insertForm&&(this.insertForm={},this.calc="")},calcprice:function(){this.insertForm.newsale=this.insertForm.oldsale*this.calc},handleAuthorizationMenu:function(e,t){this.getAllTrack(t.goodsid)},getAllTrack:function(e){var t=this;this.$axios.get("/audit/trace?id="+e).then((function(e){t.track=e.data,console.log(t.track)}))},getAllDrft:function(){var e=this;this.$axios.get("/audit/draft").then((function(t){e.draftTable=t.data}))},drafthandle:function(e,t){this.updateForm={},this.updateForm.id=t.id,this.updateForm.auditstatus=0,this.updateForm.auditlevel=1,this.update()},getProduct:function(){var e=sessionStorage.getItem("product"),t=JSON.parse(e);void 0!=t&&(this.dialogFormVisible1=!0,this.insertForm.goodsid=t.gcode,this.insertForm.goodsname=t.gname,this.insertForm.goodstock=t.gminsum,this.insertForm.oldprice=t.gmarketprize,this.insertForm.oldsale=t.gmallprize)}},created:function(){this.query(),this.queryStatus(),this.getProduct()}},ge=be,ye=(o("a886"),Object(n["a"])(ge,fe,he,!1,null,"31c2acc4",null)),ve=ye.exports,ke=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"clock",rawName:"v-clock"}],attrs:{id:"app"}},[o("el-card",{staticStyle:{"margin-top":"20px",width:"86%"}},[o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-input",{attrs:{placeholder:"供应商名称",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.formValue.sname,callback:function(t){e.$set(e.formValue,"sname",t)},expression:"formValue.sname"}})],1),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-input",{attrs:{placeholder:"联系人姓名",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.formValue.contacts,callback:function(t){e.$set(e.formValue,"contacts",t)},expression:"formValue.contacts"}})],1),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v(" 搜索 ")]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-circle-plus"},on:{click:function(t){e.dialogFormVisible1=!0}}},[e._v(" 新增供应商信息 ")])],1),o("el-table",{ref:"multipleTable",staticStyle:{width:"86%"},attrs:{data:e.tableData,"tooltip-effect":"dark","highlight-current-row":"","header-cell-style":e.headClass,"cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"sname",label:"供应商名称",width:"120"}}),o("el-table-column",{attrs:{prop:"contacts",label:"联系人",width:"120"}}),o("el-table-column",{attrs:{prop:"telephone",label:"电话",width:"120"}}),o("el-table-column",{attrs:{prop:"email",label:"联系邮箱",width:"160"}}),o("el-table-column",{attrs:{prop:"address",label:"地址",width:"200"}}),o("el-table-column",{attrs:{prop:"bank",label:"开户行",width:"200"}}),o("el-table-column",{attrs:{prop:"account",label:"开户账户",width:"200"}}),o("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-full-screen"},on:{click:function(t){e.viewDialogForm=!0}}},[e._v(" 选择供应商品 ")]),"审核通过"!=t.row.auditstatus?o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible2=!0}}},[e._v(" 修改 ")]):e._e(),"审核通过"!=t.row.auditstatus?o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.open()}}},[e._v(" 删除 ")]):e._e()]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[3,4,5,6],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange1,"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}}),o("el-dialog",{attrs:{title:"新增申请信息:",visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[o("el-form",{ref:"insertFormRe",attrs:{model:e.insertForm}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v("提 交")])],1)],1),o("el-dialog",{attrs:{title:"修改申请单:",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[o("el-form",{ref:"insertFormRe",attrs:{model:e.updateForm}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("提 交")])],1)],1)],1)},Fe=[],xe={data:function(){return{tableData:[],multipleSelection:[],page:{},formValue:{},delNum:"",formLabelWidth:"120px",dialogFormVisible1:!1,dialogFormVisible2:!1,updateForm:{},insertForm:{}}},methods:{insert:function(){var e=this;this.$axios.post("/audit",this.insertForm).then((function(t){2e4==t.code&&e.$message({message:"新增成功",type:"success"}),e.query()}))},update:function(){var e=this;this.$axios.put("/audit",this.updateForm).then((function(t){2e4==t.code&&e.$message({message:"修改成功",type:"success"}),e.query()}))},delSelected:function(){var e=this;this.$axios.delete("/audit/"+this.delNum).then((function(t){2e4==t.code&&e.$message({message:"删除成功",type:"success"}),e.query()}))},open:function(){var e=this;this.$confirm("此操作将永久删除该条目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.delSelected()}))},query:function(e){var t=this,o=e;void 0!=this.formValue&&(Object.assign(this.formValue,e),o=this.formValue),this.$axios.get("/supplier/selectAll",{params:o}).then((function(e){t.tableData=e.data.list,t.page=e.data}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange1:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},handleSelectionChange:function(e){void 0!=e&&(this.multipleSelection=e)},handleCurrentChange:function(e){void 0!=e&&(console.log(e),this.updateForm=e,this.delNum=e.id,this.trackId=e.goodsid)},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},components:{},computed:{},created:function(){this.query()},mounted:function(){}},we=xe,Se=(o("927a"),Object(n["a"])(we,ke,Fe,!1,null,"7c4b253b",null)),_e=Se.exports,$e=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("商品与赠品管理")]),o("el-breadcrumb-item",[e._v("商品品牌管理")]),o("el-breadcrumb-item",[e._v("商品品牌列表")])],1),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"品牌名称"}},[o("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:e.formInline.bname,callback:function(t){e.$set(e.formInline,"bname",t)},expression:"formInline.bname"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit1}},[e._v("搜索")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("新增品牌")]),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit1}},[e._v("同步基础库品牌")])],1)],1),[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[o("el-table-column",{attrs:{prop:"bid",label:"序号",width:"300"}}),o("el-table-column",{attrs:{prop:"bname",label:"品牌名称",width:"300"}}),o("el-table-column",{attrs:{prop:"bsite",label:"品牌网址",width:"500"}}),o("el-table-column",{attrs:{prop:"bdescribe",label:"品牌描述",width:"300"}}),o("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.$index,t.row),e.dialogTableVisible2=!0}}},[e._v("修改 ")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.dialogTableVisible3=!0}}},[e._v("删除 ")]),o("el-dialog",{attrs:{title:"警告",visible:e.dialogTableVisible3},on:{"update:visible":function(t){e.dialogTableVisible3=t}}},[o("p",[e._v("你确定要删除吗")]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogTableVisible3=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.handleDelete(t.$index,t.row),e.dialogTableVisible3=!1}}},[e._v("确 定")])],1)])]}}])})],1)],[o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[2,3,4,5],"page-size":e.everyPageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],o("el-dialog",{attrs:{title:"新增品牌信息",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form2,"label-width":"200px"}},[o("el-form-item",{attrs:{label:"品牌名称:"}},[o("el-input",{model:{value:e.form2.bname,callback:function(t){e.$set(e.form2,"bname",t)},expression:"form2.bname"}})],1),o("el-form-item",{attrs:{label:"品牌网址:"}},[o("el-input",{model:{value:e.form2.bsite,callback:function(t){e.$set(e.form2,"bsite",t)},expression:"form2.bsite"}})],1),o("el-form-item",{attrs:{label:"品牌描述:"}},[o("el-input",{model:{value:e.form2.bdescribe,callback:function(t){e.$set(e.form2,"bdescribe",t)},expression:"form2.bdescribe"}})],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit3}},[e._v("保存")])],1),o("el-dialog",{attrs:{title:"修改品牌信息",visible:e.dialogTableVisible2},on:{"update:visible":function(t){e.dialogTableVisible2=t}}},[o("el-form",{ref:"form",attrs:{model:e.form3,"label-width":"200px"}},[o("el-form-item",{attrs:{label:"品牌名称:"}},[o("el-input",{model:{value:e.form3.bname,callback:function(t){e.$set(e.form3,"bname",t)},expression:"form3.bname"}})],1),o("el-form-item",{attrs:{label:"品牌网址:"}},[o("el-input",{model:{value:e.form3.bsite,callback:function(t){e.$set(e.form3,"bsite",t)},expression:"form3.bsite"}})],1),o("el-form-item",{attrs:{label:"品牌描述:"}},[o("el-input",{model:{value:e.form3.bdescribe,callback:function(t){e.$set(e.form3,"bdescribe",t)},expression:"form3.bdescribe"}})],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit4}},[e._v("保存")])],1)],2)},Ce=[],Ne={data:function(){return{formInline:{bname:""},tableData:"",currentPage4:"",totalNum:"",everyPageNum:3,gridData:"",form2:{bname:"",bsite:"",bdescribe:""},form3:{bname:"",bsite:"",bdescribe:"",bid:""},dialogTableVisible:!1,dialogTableVisible2:!1,dialogTableVisible3:!1}},methods:{onSubmit1:function(){var e=this,t=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectbrand?"+t+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(t){2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){var t=this;console.log("每页 ".concat(e," 条")),this.everyPageNum=e;var o=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectbrand?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handleCurrentChange:function(e){var t=this;console.log("当前页: ".concat(e)),this.currentPage4=e;var o=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectbrand?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handleEdit:function(e,t){console.log(t),this.form3.bname=t.bname,this.form3.bsite=t.bsite,this.form3.bdescribe=t.bdescribe,this.form3.bid=t.bid},handleDelete:function(e,t){var o=this;console.log(e,t),this.$axios.get("../product/deletebrand?bid="+t.bid+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(o.totalNum=e.data.total,o.currentPage4=e.data.pageNum,o.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)})),this.onSubmit1()},onSubmit3:function(){var e=this;console.log("onsubmit3");var t=this.$qs.stringify(this.form2);this.$axios.get("../product/insertbrand?"+t+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(t){2e4==t.code&&(e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)})),this.onSubmit1()},onSubmit4:function(){var e=this,t=this.$qs.stringify(this.form3);console.log(t),this.$axios.get("../product/updatebrand?"+t+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(t){2e4==t.code&&(e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)})),this.onSubmit1()}},components:{},computed:{},created:function(){var e=this;this.$axios.get("../product/selectbrand").then((function(t){2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},mounted:function(){}},Pe=Ne,De=Object(n["a"])(Pe,$e,Ce,!1,null,"689ed965",null),ze=De.exports,Te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("商品与赠品管理")]),o("el-breadcrumb-item",[e._v("商品管理")]),o("el-breadcrumb-item",[e._v("商品信息列表")])],1),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"商品编码"}},[o("el-input",{attrs:{placeholder:"请输入编码"},model:{value:e.formInline.gcode,callback:function(t){e.$set(e.formInline,"gcode",t)},expression:"formInline.gcode"}})],1),o("el-form-item",{attrs:{label:"商品型号"}},[o("el-input",{attrs:{placeholder:"请输入产品型号"},model:{value:e.formInline.gmodel,callback:function(t){e.$set(e.formInline,"gmodel",t)},expression:"formInline.gmodel"}})],1),o("el-form-item",{attrs:{label:"商品颜色"}},[o("el-select",{attrs:{placeholder:"全部"},model:{value:e.formInline.gcolor,callback:function(t){e.$set(e.formInline,"gcolor",t)},expression:"formInline.gcolor"}},[o("el-option",[e._v("无")]),e._l(e.options,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_value}})}))],2)],1),o("el-form-item",{attrs:{label:"商品品牌"}},[o("el-select",{attrs:{placeholder:"全部"},model:{value:e.formInline.gbrand,callback:function(t){e.$set(e.formInline,"gbrand",t)},expression:"formInline.gbrand"}},[o("el-option",[e._v("无")]),e._l(e.options2,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_value}})}))],2)],1),o("el-form-item",{attrs:{label:"商品分类"}},[o("el-select",{attrs:{placeholder:"全部"},model:{value:e.formInline.gsort,callback:function(t){e.$set(e.formInline,"gsort",t)},expression:"formInline.gsort"}},[o("el-option",[e._v("无")]),e._l(e.options3,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_value}})}))],2)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit1}},[e._v("搜索")]),o("el-button",{attrs:{type:"primary"},on:{click:e.createproduct}},[e._v("创建商品")])],1)],1),[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{prop:"gid",label:"序号",width:"150"}}),o("el-table-column",{attrs:{prop:"gname",label:"商品名称",width:"120"}}),o("el-table-column",{attrs:{prop:"gsort",label:"商品分类",width:"120"}}),o("el-table-column",{attrs:{prop:"gbrand",label:"商品品牌",width:"120"}}),o("el-table-column",{attrs:{prop:"gmodel",label:"商品型号",width:"300"}}),o("el-table-column",{attrs:{prop:"gcolor",label:"商品颜色",width:"120"}}),o("el-table-column",{attrs:{label:"操作",width:"800"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handlewatch(t.$index,t.row),e.dialogTableVisible=!0}}},[e._v("查看 ")]),o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.$index,t.row),e.dialogTableVisible2=!0}}},[e._v("修改 ")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.dialogTableVisible3=!0}}},[e._v("删除 ")]),o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleSelect(t.$index,t.row),e.handleCurrentChange2}}},[e._v("选择商品类型 ")]),o("el-dialog",{attrs:{title:"警告",visible:e.dialogTableVisible3},on:{"update:visible":function(t){e.dialogTableVisible3=t}}},[o("p",[e._v("你确定要删除吗")]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogTableVisible3=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.handleDelete(t.$index,t.row),e.dialogTableVisible3=!1}}},[e._v("确 定 ")])],1)])]}}])})],1)],[o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[2,3,4,5],"page-size":e.everyPageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],o("el-dialog",{attrs:{title:"一类商品详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"200px"}},[o("el-form-item",{attrs:{label:"存货档案编码:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gcode,callback:function(t){e.$set(e.form,"gcode",t)},expression:"form.gcode"}})],1),o("el-form-item",{attrs:{label:"基础库-分类:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gsort,callback:function(t){e.$set(e.form,"gsort",t)},expression:"form.gsort"}})],1),o("el-form-item",{attrs:{label:"基础库品牌:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gbrand,callback:function(t){e.$set(e.form,"gbrand",t)},expression:"form.gbrand"}})],1),o("el-form-item",{attrs:{label:"基础库-型号:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gmodel,callback:function(t){e.$set(e.form,"gmodel",t)},expression:"form.gmodel"}})],1),o("el-form-item",{attrs:{label:"基础库-颜色:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gcolor,callback:function(t){e.$set(e.form,"gcolor",t)},expression:"form.gcolor"}})],1),o("el-form-item",{attrs:{label:"基础库-采购模式:"}},[o("el-input",{attrs:{placeholder:"集团采购",disabled:!0}})],1),o("el-form-item",{attrs:{label:"基础库-铺货:"}},[o("el-input",{attrs:{placeholder:"非铺货",disabled:!0}})],1),o("el-form-item",{attrs:{label:"基础库-备机:"}},[o("el-input",{attrs:{placeholder:"非铺货",disabled:!0}})],1),o("el-form-item",{attrs:{label:"商品名称:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gname,callback:function(t){e.$set(e.form,"gname",t)},expression:"form.gname"}})],1),o("el-form-item",{attrs:{label:"商品类型:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gtype,callback:function(t){e.$set(e.form,"gtype",t)},expression:"form.gtype"}})],1),o("el-form-item",{attrs:{label:"市场价:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gmarketprize,callback:function(t){e.$set(e.form,"gmarketprize",t)},expression:"form.gmarketprize"}})],1),o("el-form-item",{attrs:{label:"商城价:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gmallprize,callback:function(t){e.$set(e.form,"gmallprize",t)},expression:"form.gmallprize"}})],1),o("el-form-item",{attrs:{label:"最低库存量:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gminsum,callback:function(t){e.$set(e.form,"gminsum",t)},expression:"form.gminsum"}})],1),o("el-form-item",{attrs:{label:"是否可采购:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.gifBuy,callback:function(t){e.$set(e.form,"gifBuy",t)},expression:"form.gifBuy"}})],1)],1)],1),o("el-dialog",{attrs:{title:"修改一类商品",visible:e.dialogTableVisible2},on:{"update:visible":function(t){e.dialogTableVisible2=t}}},[o("el-form",{ref:"form",attrs:{model:e.form2,"label-width":"200px"}},[o("el-form-item",{attrs:{label:"存货档案编码:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form2.gcode,callback:function(t){e.$set(e.form2,"gcode",t)},expression:"form2.gcode"}})],1),o("el-form-item",{attrs:{label:"基础库-分类:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form2.gsort,callback:function(t){e.$set(e.form2,"gsort",t)},expression:"form2.gsort"}})],1),o("el-form-item",{attrs:{label:"基础库品牌:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form2.gbrand,callback:function(t){e.$set(e.form2,"gbrand",t)},expression:"form2.gbrand"}})],1),o("el-form-item",{attrs:{label:"基础库-型号:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form2.gmodel,callback:function(t){e.$set(e.form2,"gmodel",t)},expression:"form2.gmodel"}})],1),o("el-form-item",{attrs:{label:"基础库-颜色:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form2.gcolor,callback:function(t){e.$set(e.form2,"gcolor",t)},expression:"form2.gcolor"}})],1),o("el-form-item",{attrs:{label:"基础库-采购模式:"}},[o("el-input",{attrs:{placeholder:"集团采购",disabled:!0}})],1),o("el-form-item",{attrs:{label:"基础库-铺货:"}},[o("el-input",{attrs:{placeholder:"非铺货",disabled:!0}})],1),o("el-form-item",{attrs:{label:"基础库-备机:"}},[o("el-input",{attrs:{placeholder:"非铺货",disabled:!0}})],1),o("el-form-item",{attrs:{label:"商品名称:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form2.gname,callback:function(t){e.$set(e.form2,"gname",t)},expression:"form2.gname"}})],1),o("el-form-item",{attrs:{label:"商品类别:"}},[o("el-cascader",{attrs:{options:e.everytype,props:{checkStrictly:!0}},model:{value:e.form2.gtype,callback:function(t){e.$set(e.form2,"gtype",t)},expression:"form2.gtype"}})],1),o("el-form-item",{attrs:{label:"市场价:"}},[o("el-input",{model:{value:e.form2.gmarketprize,callback:function(t){e.$set(e.form2,"gmarketprize",t)},expression:"form2.gmarketprize"}})],1),o("el-form-item",{attrs:{label:"商城价:"}},[o("el-input",{model:{value:e.form2.gmallprize,callback:function(t){e.$set(e.form2,"gmallprize",t)},expression:"form2.gmallprize"}})],1),o("el-form-item",{attrs:{label:"最低库存量:"}},[o("el-input",{model:{value:e.form2.gminsum,callback:function(t){e.$set(e.form2,"gminsum",t)},expression:"form2.gminsum"}})],1),o("el-form-item",{attrs:{label:"是否可采购:"}},[o("el-select",{attrs:{placeholder:""},model:{value:e.form2.gifBuy,callback:function(t){e.$set(e.form2,"gifBuy",t)},expression:"form2.gifBuy"}},[o("el-option",{attrs:{label:"可采购",value:"可采购"}}),o("el-option",{attrs:{label:"不可采购",value:"不可采购"}})],1)],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit3}},[e._v("保存")])],1),o("el-dialog",{attrs:{title:"创建一类商品",visible:e.dialogTableVisible5},on:{"update:visible":function(t){e.dialogTableVisible5=t}}},[o("el-form",{ref:"form",attrs:{model:e.form3,"label-width":"200px"}},[o("el-form-item",{attrs:{label:"存货档案编码:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form3.gcode,callback:function(t){e.$set(e.form3,"gcode",t)},expression:"form3.gcode"}})],1),o("el-form-item",{attrs:{label:"基础库-分类:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form3.gsort,callback:function(t){e.$set(e.form3,"gsort",t)},expression:"form3.gsort"}})],1),o("el-form-item",{attrs:{label:"基础库品牌:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form3.gbrand,callback:function(t){e.$set(e.form3,"gbrand",t)},expression:"form3.gbrand"}})],1),o("el-form-item",{attrs:{label:"基础库-型号:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form3.gmodel,callback:function(t){e.$set(e.form3,"gmodel",t)},expression:"form3.gmodel"}})],1),o("el-form-item",{attrs:{label:"基础库-颜色:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form3.gcolor,callback:function(t){e.$set(e.form3,"gcolor",t)},expression:"form3.gcolor"}})],1),o("el-form-item",{attrs:{label:"基础库-采购模式:"}},[o("el-input",{attrs:{placeholder:"集团采购",disabled:!0}})],1),o("el-form-item",{attrs:{label:"基础库-铺货:"}},[o("el-input",{attrs:{placeholder:"非铺货",disabled:!0}})],1),o("el-form-item",{attrs:{label:"基础库-备机:"}},[o("el-input",{attrs:{placeholder:"非铺货",disabled:!0}})],1),o("el-form-item",{attrs:{label:"商品名称:"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form3.gname,callback:function(t){e.$set(e.form3,"gname",t)},expression:"form3.gname"}})],1),o("el-form-item",{attrs:{label:"商品类别:"}},[o("el-cascader",{attrs:{options:e.everytype,props:{checkStrictly:!0}},model:{value:e.form3.gtype,callback:function(t){e.$set(e.form3,"gtype",t)},expression:"form3.gtype"}})],1),o("el-form-item",{attrs:{label:"市场价:"}},[o("el-input",{model:{value:e.form3.gmarketprize,callback:function(t){e.$set(e.form3,"gmarketprize",t)},expression:"form3.gmarketprize"}})],1),o("el-form-item",{attrs:{label:"商城价:"}},[o("el-input",{model:{value:e.form3.gmallprize,callback:function(t){e.$set(e.form3,"gmallprize",t)},expression:"form3.gmallprize"}})],1),o("el-form-item",{attrs:{label:"最低库存量:"}},[o("el-input",{model:{value:e.form3.gminsum,callback:function(t){e.$set(e.form3,"gminsum",t)},expression:"form3.gminsum"}})],1),o("el-form-item",{attrs:{label:"是否可采购:"}},[o("el-select",{attrs:{placeholder:""},model:{value:e.form3.gifBuy,callback:function(t){e.$set(e.form3,"gifBuy",t)},expression:"form3.gifBuy"}},[o("el-option",{attrs:{label:"可采购",value:"可采购"}}),o("el-option",{attrs:{label:"不可采购",value:"不可采购"}})],1)],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit4}},[e._v("保存")])],1),o("el-dialog",{attrs:{title:"警告",visible:e.dialogTableVisible4},on:{"update:visible":function(t){e.dialogTableVisible4=t}}},[o("p",[e._v("请先选择商品类型")]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogTableVisible4=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible4=!1}}},[e._v("确 定")])],1)])],2)},qe=[],Le={data:function(){return{formInline:{gcode:"",gmodel:"",gcolor:"",gbrand:"",gsort:""},options:"",options2:"",options3:"",tableData:"",currentPage4:"",totalNum:"",everyPageNum:3,gridData:"",dialogTableVisible:!1,form:{gcode:"",gmodel:"",gcolor:"",gbrand:"",gsort:"",gtype:"",gmarketprize:"",gmallprize:"",gminsum:"",gifBuy:""},form2:{gcode:"",gmodel:"",gcolor:"",gbrand:"",gsort:"",gtype:"",gmarketprize:"",gmallprize:"",gminsum:"",gifBuy:"",gname:""},everytype:{value:"",label:"",children:""},dialogTableVisible2:!1,dialogTableVisible3:!1,dialogTableVisible4:!1,dialogTableVisible5:!1,htmlgid:"",currentRow:null,form3:{gcode:"",gmodel:"",gcolor:"",gbrand:"",gsort:"",gtype:"",gmarketprize:"",gmallprize:"",gminsum:"",gifBuy:""}}},methods:{onSubmit1:function(){var e=this,t=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectParent?"+t).then((function(t){2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},createproduct:function(){var e=this;""==this.htmlgid?this.dialogTableVisible4=!0:(this.dialogTableVisible5=!0,this.$axios.get("../product/goodstype").then((function(t){console.log(t),console.log(t.data),2e4==t.code&&(e.everytype=t.data)})).catch((function(e){console.log(e)})))},handleSizeChange:function(e){var t=this;console.log("每页 ".concat(e," 条")),this.everyPageNum=e;var o=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectParent?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handleCurrentChange:function(e){var t=this;console.log("当前页: ".concat(e)),this.currentPage4=e;var o=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectParent?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handlewatch:function(e,t){console.log(e,t),this.form=t},handleEdit:function(e,t){var o=this;console.log(e,t),this.form2=t,this.$axios.get("../product/goodstype").then((function(e){console.log(e),console.log(e.data),2e4==e.code&&(o.everytype=e.data)})).catch((function(e){console.log(e)}))},handleDelete:function(e,t){var o=this;this.$axios.get("../product/deleteproduct?gid="+t.gid+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){2e4==e.code&&(o.totalNum=e.data.total,o.currentPage4=e.data.pageNum,o.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)})),this.onSubmit1()},onSubmit3:function(){var e=this,t=this.form2.gtype;this.form2.gtype=t[t.length-1];var o=this.$qs.stringify(this.form2);console.log(o),this.$axios.post("../product/update",this.form2).then((function(t){2e4==t.data.code&&(e.everytype=t.data)})).catch((function(e){console.log(e)}))},handleSelect:function(e,t){this.htmlgid=t.gid,this.form3.gcode=t.gcode,this.form3.gsort=t.gsort,this.form3.gbrand=t.gbrand,this.form3.gmodel=t.gmodel,this.form3.gcolor=t.gcolor,this.form3.gtype=t.gtype},handleCurrentChange2:function(e){console.log(e),this.htmlgid=e.gid,console.log(this.htmlgid),this.form3.gcode=e.gcode,this.form3.gsort=e.gsort,this.form3.gbrand=e.gbrand,this.form3.gmodel=e.gmodel,this.form3.gcolor=e.gcolor,this.form3.gtype=e.gtype},onSubmit4:function(){var e=this;this.dialogTableVisible5=!1;var t=this.form3.gtype;this.form3.gtype=t[t.length-1];var o=this.$qs.stringify(this.form3);this.$axios.get("../product/insertproduct?"+o).then((function(t){2e4==t.code&&(e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))}},created:function(){var e=this;this.$axios.get("../product/selectParent").then((function(t){2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)})),this.$axios.get("../product/color").then((function(t){2e4==t.code&&(e.options=t.data)})).catch((function(e){console.log(e)})),this.$axios.get("../product/brand").then((function(t){2e4==t.code&&(e.options2=t.data)})).catch((function(e){console.log(e)})),this.$axios.get("../product/sort").then((function(t){2e4==t.code&&(e.options3=t.data)})).catch((function(e){console.log(e)}))}},Ie=Le,Oe=Object(n["a"])(Ie,Te,qe,!1,null,"593c0520",null),Be=Oe.exports,Me=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("商品与赠品管理")]),o("el-breadcrumb-item",[e._v("商品管理")]),o("el-breadcrumb-item",[e._v("产品查询列表")])],1),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"存货档案编码"}},[o("el-input",{attrs:{placeholder:"请输入编码"},model:{value:e.formInline.gcode,callback:function(t){e.$set(e.formInline,"gcode",t)},expression:"formInline.gcode"}})],1),o("el-form-item",{attrs:{label:"产品型号"}},[o("el-input",{attrs:{placeholder:"请输入产品型号"},model:{value:e.formInline.gmodel,callback:function(t){e.$set(e.formInline,"gmodel",t)},expression:"formInline.gmodel"}})],1),o("el-form-item",{attrs:{label:"基础库-颜色"}},[o("el-select",{attrs:{placeholder:"全部"},model:{value:e.formInline.gcolor,callback:function(t){e.$set(e.formInline,"gcolor",t)},expression:"formInline.gcolor"}},[o("el-option",[e._v("无")]),e._l(e.options,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_value}})}))],2)],1),o("el-form-item",{attrs:{label:"产品品牌"}},[o("el-select",{attrs:{placeholder:"全部"},model:{value:e.formInline.gbrand,callback:function(t){e.$set(e.formInline,"gbrand",t)},expression:"formInline.gbrand"}},[o("el-option",[e._v("无")]),e._l(e.options2,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_value}})}))],2)],1),o("el-form-item",{attrs:{label:"产品分类"}},[o("el-select",{attrs:{placeholder:"全部"},model:{value:e.formInline.gsort,callback:function(t){e.$set(e.formInline,"gsort",t)},expression:"formInline.gsort"}},[o("el-option",[e._v("无")]),e._l(e.options3,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_value}})}))],2)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit1}},[e._v("搜索")])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit2}},[e._v("同步")])],1)],1),[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[o("el-table-column",{attrs:{prop:"gid",label:"序号",width:"300"}}),o("el-table-column",{attrs:{prop:"gcode",label:"存货档案编码",width:"300"}}),o("el-table-column",{attrs:{prop:"gsort",label:"基础库分类",width:"300"}}),o("el-table-column",{attrs:{prop:"gbrand",label:"基础库品牌",width:"300"}}),o("el-table-column",{attrs:{prop:"gmodel",label:"基础库型号",width:"300"}}),o("el-table-column",{attrs:{prop:"gcolor",label:"基础库颜色",width:"300"}})],1)],[o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[2,3,4,5],"page-size":e.everyPageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)},Ve=[],Re={data:function(){return{formInline:{gcode:"",gmodel:"",gcolor:"",gbrand:"",gsort:""},options:"",options2:"",options3:"",tableData:"",currentPage4:"",totalNum:"",everyPageNum:3}},methods:{onSubmit1:function(){var e=this,t=this.$qs.stringify(this.formInline);console.log(t+"sss"),this.$axios.get("../product/selectParent?"+t).then((function(t){console.log(t.data),2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},onSubmit2:function(){var e=this;console.log("submit2"),this.$axios.get("../product/selectParent").then((function(t){console.log(t+"selectParent"),console.log(t.data),2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){var t=this;console.log("每页 ".concat(e," 条")),this.everyPageNum=e;var o=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectParent?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){console.log(e.data),2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))},handleCurrentChange:function(e){var t=this;console.log("当前页: ".concat(e)),this.currentPage4=e;var o=this.$qs.stringify(this.formInline);this.$axios.get("../product/selectParent?"+o+"&pageSize="+this.everyPageNum+"&currentPage="+this.currentPage4).then((function(e){console.log(e.data),2e4==e.code&&(t.tableData=e.data.list,t.totalNum=e.data.total,t.currentPage4=e.data.pageNum,t.everyPageNum=e.data.pageSize)})).catch((function(e){console.log(e)}))}},components:{},computed:{},created:function(){var e=this;this.$axios.get("../product/selectParent").then((function(t){console.log(t+"selectParent"),console.log(t.data),2e4==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total,e.currentPage4=t.data.pageNum,e.everyPageNum=t.data.pageSize)})).catch((function(e){console.log(e)})),this.$axios.get("../product/color").then((function(t){2e4==t.code&&(e.options=t.data)})).catch((function(e){console.log(e)})),this.$axios.get("../product/brand").then((function(t){2e4==t.code&&(e.options2=t.data)})).catch((function(e){console.log(e)})),this.$axios.get("../product/sort").then((function(t){2e4==t.code&&(e.options3=t.data)})).catch((function(e){console.log(e)}))}},Ae=Re,We=Object(n["a"])(Ae,Me,Ve,!1,null,"0607cb08",null),Qe=We.exports,je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[o("el-button",{attrs:{type:"success"},on:{click:function(t){e.addDialogFormVisible=!0,e.addPresent()}}},[e._v("新增赠品")]),o("el-form-item",{attrs:{label:"赠品名称"}},[o("el-input",{model:{value:e.queryForm.presentName,callback:function(t){e.$set(e.queryForm,"presentName",t)},expression:"queryForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品型号"}},[o("el-input",{model:{value:e.queryForm.presentModelNumber,callback:function(t){e.$set(e.queryForm,"presentModelNumber",t)},expression:"queryForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChangeQueryType}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品品牌"},model:{value:e.queryForm.presentBrand,callback:function(t){e.$set(e.queryForm,"presentBrand",t)},expression:"queryForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.queryForm.presentColour,callback:function(t){e.$set(e.queryForm,"presentColour",t)},expression:"queryForm.presentColour"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:e.queryEmpty}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"presentId",label:"赠品序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentId))])}}])}),o("el-table-column",{attrs:{prop:"presentName",label:"赠品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentName))])}}])}),o("el-table-column",{attrs:{prop:"presentModelNumber",label:"赠品型号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentModelNumber))])}}])}),o("el-table-column",{attrs:{prop:"presentType",label:"赠品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentType))])}}])}),o("el-table-column",{attrs:{prop:"presentMinimumStock",label:"最低库存量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentMinimumStock))])}}])}),o("el-table-column",{attrs:{prop:"presentPrice",label:"赠品单价"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentPrice))])}}])}),o("el-table-column",{attrs:{prop:"presentCost",label:"采购成本"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentCost))])}}])}),o("el-table-column",{attrs:{prop:"presentColour",label:"赠品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentColour))])}}])}),o("el-table-column",{attrs:{prop:"presentBrand",label:"赠品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentBrand))])}}])}),o("el-table-column",{attrs:{prop:"presentState",label:"赠品状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentState))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",round:"",icon:"el-icon-search"},on:{click:function(o){e.lookDialogFormVisible=!0,e.handleLook(t.row)}}},[e._v("查看 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"有效"==t.row.presentState,expression:"scope.row.presentState=='有效'"}],attrs:{size:"mini",type:"warning",round:"",icon:"el-icon-edit"},on:{click:function(o){e.updateDialogFormVisible=!0,e.handleUpdate(t.row)}}},[e._v("修改 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"有效"==t.row.presentState,expression:"scope.row.presentState=='有效'"}],attrs:{size:"mini",type:"danger",round:"",icon:"el-icon-delete"},on:{click:function(o){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),o("el-dialog",{attrs:{title:"查看详情",visible:e.lookDialogFormVisible},on:{"update:visible":function(t){e.lookDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"赠品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentName,callback:function(t){e.$set(e.lookForm,"presentName",t)},expression:"lookForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentType,callback:function(t){e.$set(e.lookForm,"presentType",t)},expression:"lookForm.presentType"}})],1),o("el-form-item",{attrs:{label:"赠品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentModelNumber,callback:function(t){e.$set(e.lookForm,"presentModelNumber",t)},expression:"lookForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentPrice,callback:function(t){e.$set(e.lookForm,"presentPrice",t)},expression:"lookForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentCost,callback:function(t){e.$set(e.lookForm,"presentCost",t)},expression:"lookForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentDepartment,callback:function(t){e.$set(e.lookForm,"presentDepartment",t)},expression:"lookForm.presentDepartment"}})],1),o("el-form-item",{attrs:{label:"最低库存量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentMinimumStock,callback:function(t){e.$set(e.lookForm,"presentMinimumStock",t)},expression:"lookForm.presentMinimumStock"}})],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentColour,callback:function(t){e.$set(e.lookForm,"presentColour",t)},expression:"lookForm.presentColour"}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentBrand,callback:function(t){e.$set(e.lookForm,"presentBrand",t)},expression:"lookForm.presentBrand"}})],1)],1)],1),o("el-dialog",{attrs:{title:"修改赠品",visible:e.updateDialogFormVisible},on:{"update:visible":function(t){e.updateDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.addForm}},[o("el-form-item",{attrs:{label:"赠品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入赠品名称"},model:{value:e.updateForm.presentName,callback:function(t){e.$set(e.updateForm,"presentName",t)},expression:"updateForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChangeUpdateType}})],1),o("el-form-item",{attrs:{label:"赠品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入赠品型号"},model:{value:e.updateForm.presentModelNumber,callback:function(t){e.$set(e.updateForm,"presentModelNumber",t)},expression:"updateForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入赠品单价"},model:{value:e.updateForm.presentPrice,callback:function(t){e.$set(e.updateForm,"presentPrice",t)},expression:"updateForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入采购成本"},model:{value:e.updateForm.presentCost,callback:function(t){e.$set(e.updateForm,"presentCost",t)},expression:"updateForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择采购部门"},model:{value:e.updateForm.presentDepartment,callback:function(t){e.$set(e.updateForm,"presentDepartment",t)},expression:"updateForm.presentDepartment"}},e._l(e.deptOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"最低库存量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入采购部门"},model:{value:e.updateForm.presentMinimumStock,callback:function(t){e.$set(e.updateForm,"presentMinimumStock",t)},expression:"updateForm.presentMinimumStock"}})],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.updateForm.presentColour,callback:function(t){e.$set(e.updateForm,"presentColour",t)},expression:"updateForm.presentColour"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品品牌"},model:{value:e.updateForm.presentBrand,callback:function(t){e.$set(e.updateForm,"presentBrand",t)},expression:"updateForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.updateDialogFormVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateDialogFormVisible=!1,e.update()}}},[e._v("确 定")])],1)])],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10,15,20],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{title:"新增赠品",visible:e.addDialogFormVisible},on:{"update:visible":function(t){e.addDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.addForm}},[o("el-form-item",{attrs:{label:"赠品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入赠品名称"},model:{value:e.addForm.presentName,callback:function(t){e.$set(e.addForm,"presentName",t)},expression:"addForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChangeAddType}})],1),o("el-form-item",{attrs:{label:"赠品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入赠品型号"},model:{value:e.addForm.presentModelNumber,callback:function(t){e.$set(e.addForm,"presentModelNumber",t)},expression:"addForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入赠品单价"},model:{value:e.addForm.presentPrice,callback:function(t){e.$set(e.addForm,"presentPrice",t)},expression:"addForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入采购成本"},model:{value:e.addForm.presentCost,callback:function(t){e.$set(e.addForm,"presentCost",t)},expression:"addForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择采购部门"},model:{value:e.addForm.presentDepartment,callback:function(t){e.$set(e.addForm,"presentDepartment",t)},expression:"addForm.presentDepartment"}},e._l(e.deptOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"最低库存量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入最低库存量"},model:{value:e.addForm.presentMinimumStock,callback:function(t){e.$set(e.addForm,"presentMinimumStock",t)},expression:"addForm.presentMinimumStock"}})],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.addForm.presentColour,callback:function(t){e.$set(e.addForm,"presentColour",t)},expression:"addForm.presentColour"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品品牌"},model:{value:e.addForm.presentBrand,callback:function(t){e.$set(e.addForm,"presentBrand",t)},expression:"addForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addSubmit(),e.addDialogFormVisible=!1}}},[e._v("确 定")]),o("el-button",{on:{click:function(t){e.addDialogFormVisible=!1,e.cancel()}}},[e._v("取 消")])],1)],1)],1)],1)},Ee=[],Ue={data:function(){return{typeOptions:[],deptOptions:[],brandOptions:[],colorOptions:[],firstClass:"",firstSelect:"",firstOption:[],secondOption:[],lookForm:{},updateForm:{presentId:"",presentName:"",presentType:"",presentColour:"",presentBrand:"",presentModelNumber:"",presentMinimumStock:"",presentPrice:"",presentCost:"",presentDepartment:"",presentState:""},queryForm:{presentId:"",presentName:"",presentType:"",presentColour:"",presentBrand:""},addDialogFormVisible:!1,lookDialogFormVisible:!1,updateDialogFormVisible:!1,addForm:{presentId:"",presentName:"",presentType:"",presentColour:"",presentBrand:"",presentModelNumber:"",presentMinimumStock:"",presentPrice:"",presentCost:"",presentDepartment:"",presentState:""},formLabelWidth:"120px",value:[],formInline:{user:"",region:""},tableData:[],page:{}}},methods:{handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},queryEmpty:function(){this.queryForm.presentColour="",this.queryForm.presentBrand="",this.queryForm.presentColour="",this.queryForm.presentModelNumber="",this.queryForm.presentName="",this.queryForm.presentType=""},query:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.queryForm),this.$axios.get("/present",{params:e}).then((function(e){2e4===e.code?(t.tableData=e.data.list,t.page=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleChangeAddType:function(e){this.addForm.presentType=e[e.length-1]},handleChangeQueryType:function(e){this.queryForm.presentType=e[e.length-1]},handleChangeUpdateType:function(e){this.updateForm.presentType=e[e.length-1]},queryPresentDepartment:function(){var e=this;this.$axios.get("/present/getDepartment").then((function(t){2e4===t.code?e.deptOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryPresentBrand:function(){var e=this;this.$axios.get("/present/getBrand").then((function(t){2e4===t.code?e.brandOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryPresentColor:function(){var e=this;this.$axios.get("/present/getColor").then((function(t){2e4===t.code?e.colorOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryPresentType:function(){var e=this;this.$axios.get("/goodsType/selectTree").then((function(t){2e4===t.code?e.$nextTick((function(){e.typeOptions=e.getTreeData(t.data)})):e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},addSubmit:function(){var e=this;this.$axios.post("/present/addPresent",this.addForm).then((function(t){2e4===t.code?(e.$message({message:"添加成功！",type:"success"}),e.query()):e.$message.error("添加失败！")}))},update:function(){var e=this;this.$axios.put("../present",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"修改赠品成功！",type:"success"}),e.query()):e.$message.error("修改赠品失败！")})).catch((function(t){console.log(t),e.$message.error("修改赠品异常！")}))},cancel:function(){this.$message({type:"info",message:"已取消操作"})},addPresent:function(){this.addForm.presentId="",this.addForm.presentName="",this.addForm.presentModelNumber="",this.addForm.presentType="",this.addForm.presentMinimumStock="",this.addForm.presentPrice="",this.addForm.presentCost="",this.addForm.presentDepartment="",this.addForm.presentColour="",this.addForm.presentBrand="",this.addForm.presentState=""},handleLook:function(e){var t=this;this.$axios.get("/present/selectPresentById/"+e.presentId).then((function(e){2e4===e.code?t.lookForm=e.data:t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleUpdate:function(e){this.updateForm.presentId=e.presentId,this.updateForm.presentName=e.presentName,this.updateForm.presentModelNumber=e.presentModelNumber,this.updateForm.presentType="",this.updateForm.presentMinimumStock=e.presentMinimumStock,this.updateForm.presentPrice=e.presentPrice,this.updateForm.presentCost=e.presentCost,this.updateForm.presentDepartment="",this.updateForm.presentColour="",this.updateForm.presentBrand="",this.updateForm.presentState=""},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.put("/present/updateState/"+e.presentId).then((function(e){t.query(),2e4===e.code?t.$message({type:"success",message:"删除成功!"}):t.$message({type:"info",message:"删除失败"})})).catch((function(){t.$message({type:"info",message:"错误"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},tableRowClassName:function(e){var t=e.rowIndex;return t%2===0?"success-row":""},getTreeData:function(e){for(var t=0;t<e.length;t++)null==e[t].children||e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e}},computed:{},created:function(){this.query(),this.queryPresentType(),this.queryPresentColor(),this.queryPresentDepartment(),this.queryPresentBrand()},mounted:function(){}},Ge=Ue,He=(o("cc9b"),Object(n["a"])(Ge,je,Ee,!1,null,"4f234f38",null)),Ke=He.exports,Je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[o("el-button",{attrs:{type:"success"},on:{click:function(t){e.addDialogFormVisible=!0}}},[e._v("新增赠品转商品")]),o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:e.queryForm.goodsName,callback:function(t){e.$set(e.queryForm,"goodsName",t)},expression:"queryForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChange}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择商品品牌"},model:{value:e.queryForm.goodsBrand,callback:function(t){e.$set(e.queryForm,"goodsBrand",t)},expression:"queryForm.goodsBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.queryForm.goodsColor,callback:function(t){e.$set(e.queryForm,"goodsColor",t)},expression:"queryForm.goodsColor"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"审核状态","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.queryForm.checkState,callback:function(t){e.$set(e.queryForm,"checkState",t)},expression:"queryForm.checkState"}},e._l(e.checkStateOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryEmpty()}}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"checkId",label:"审核序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkId))])}}])}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsName))])}}])}),o("el-table-column",{attrs:{prop:"goodsType",label:"商品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsType))])}}])}),o("el-table-column",{attrs:{prop:"goodsBrand",label:"商品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsBrand))])}}])}),o("el-table-column",{attrs:{prop:"goodsColor",label:"商品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsColor))])}}])}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsPrice))])}}])}),o("el-table-column",{attrs:{prop:"goodsNumber",label:"商品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsNumber))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",round:"",icon:"el-icon-search"},on:{click:function(o){e.lookDialogFormVisible=!0,e.handleLook(t.row)}}},[e._v("查看 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"==t.row.checkState,expression:"scope.row.checkState=='未审核'"}],attrs:{size:"mini",type:"warning",round:"",icon:"el-icon-edit"},on:{click:function(o){e.updateDialogFormVisible=!0,e.handleUpdate(t.row)}}},[e._v("修改 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"==t.row.checkState,expression:"scope.row.checkState=='未审核'"}],attrs:{size:"mini",type:"danger",round:"",icon:"el-icon-delete"},on:{click:function(o){return e.handleDelete(t.row)}}},[e._v("删除 ")]),o("el-button",{attrs:{size:"mini",type:"success",round:"",icon:"el-icon-search"},on:{click:function(o){e.checkDialogFormVisible=!0,e.handleCheck(t.row),e.handleLook(t.row)}}},[e._v("审核跟踪 ")])]}}])})],1),o("el-dialog",{attrs:{title:"查看详情",visible:e.lookDialogFormVisible},on:{"update:visible":function(t){e.lookDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsName,callback:function(t){e.$set(e.lookForm,"goodsName",t)},expression:"lookForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsType,callback:function(t){e.$set(e.lookForm,"goodsType",t)},expression:"lookForm.goodsType"}})],1),o("el-form-item",{attrs:{label:"商品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsModelNumber,callback:function(t){e.$set(e.lookForm,"goodsModelNumber",t)},expression:"lookForm.goodsModelNumber"}})],1),o("el-form-item",{attrs:{label:"商品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsPrice,callback:function(t){e.$set(e.lookForm,"goodsPrice",t)},expression:"lookForm.goodsPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsCost,callback:function(t){e.$set(e.lookForm,"goodsCost",t)},expression:"lookForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsDepartment,callback:function(t){e.$set(e.lookForm,"goodsDepartment",t)},expression:"lookForm.goodsDepartment"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsNumber,callback:function(t){e.$set(e.lookForm,"goodsNumber",t)},expression:"lookForm.goodsNumber"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsColor,callback:function(t){e.$set(e.lookForm,"goodsColor",t)},expression:"lookForm.goodsColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsBrand,callback:function(t){e.$set(e.lookForm,"goodsBrand",t)},expression:"lookForm.goodsBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"天翼价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.physicalPrice,callback:function(t){e.$set(e.lookForm,"physicalPrice",t)},expression:"lookForm.physicalPrice"}})],1),o("el-form-item",{attrs:{label:"审核状态","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.checkState,callback:function(t){e.$set(e.lookForm,"checkState",t)},expression:"lookForm.checkState"}})],1)],1)],1),o("el-dialog",{attrs:{title:"修改赠品",visible:e.updateDialogFormVisible},on:{"update:visible":function(t){e.updateDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.updateForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsName,callback:function(t){e.$set(e.updateForm,"goodsName",t)},expression:"updateForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsType,callback:function(t){e.$set(e.updateForm,"goodsType",t)},expression:"updateForm.goodsType"}})],1),o("el-form-item",{attrs:{label:"商品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsModelNumber,callback:function(t){e.$set(e.updateForm,"goodsModelNumber",t)},expression:"updateForm.goodsModelNumber"}})],1),o("el-form-item",{attrs:{label:"商品价格","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsPrice,callback:function(t){e.$set(e.updateForm,"goodsPrice",t)},expression:"updateForm.goodsPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsCost,callback:function(t){e.$set(e.updateForm,"goodsCost",t)},expression:"updateForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsCost,callback:function(t){e.$set(e.updateForm,"goodsCost",t)},expression:"updateForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsDepartment,callback:function(t){e.$set(e.updateForm,"goodsDepartment",t)},expression:"updateForm.goodsDepartment"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsColor,callback:function(t){e.$set(e.updateForm,"goodsColor",t)},expression:"updateForm.goodsColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsBrand,callback:function(t){e.$set(e.updateForm,"goodsBrand",t)},expression:"updateForm.goodsBrand"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.goodsNumber,callback:function(t){e.$set(e.updateForm,"goodsNumber",t)},expression:"updateForm.goodsNumber"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.inventoryQuantity,callback:function(t){e.$set(e.updateForm,"inventoryQuantity",t)},expression:"updateForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"天翼价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.physicalPrice,callback:function(t){e.$set(e.updateForm,"physicalPrice",t)},expression:"updateForm.physicalPrice"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.updateDialogFormVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateDialogFormVisible=!1,e.update()}}},[e._v("确 定")])],1)])],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10,15,20],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{width:"90%",title:"选择转变为商品的赠品",visible:e.addDialogFormVisible},on:{"update:visible":function(t){e.addDialogFormVisible=t}}},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.presentQueryForm}},[o("el-form-item",{attrs:{label:"赠品名称"}},[o("el-input",{model:{value:e.presentQueryForm.presentName,callback:function(t){e.$set(e.presentQueryForm,"presentName",t)},expression:"presentQueryForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品型号"}},[o("el-input",{model:{value:e.presentQueryForm.presentModelNumber,callback:function(t){e.$set(e.presentQueryForm,"presentModelNumber",t)},expression:"presentQueryForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.presentHandleChangeQueryType}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品品牌"},model:{value:e.presentQueryForm.presentBrand,callback:function(t){e.$set(e.presentQueryForm,"presentBrand",t)},expression:"presentQueryForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.presentQueryForm.presentColour,callback:function(t){e.$set(e.presentQueryForm,"presentColour",t)},expression:"presentQueryForm.presentColour"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.presentQuery()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.presentQueryEmpty()}}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.presentTableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"presentId",label:"赠品序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentId))])}}])}),o("el-table-column",{attrs:{prop:"presentName",label:"赠品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentName))])}}])}),o("el-table-column",{attrs:{prop:"presentModelNumber",label:"赠品型号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentModelNumber))])}}])}),o("el-table-column",{attrs:{prop:"presentType",label:"赠品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentType))])}}])}),o("el-table-column",{attrs:{prop:"presentMinimumStock",label:"最低库存量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentMinimumStock))])}}])}),o("el-table-column",{attrs:{prop:"presentPrice",label:"赠品单价"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentPrice))])}}])}),o("el-table-column",{attrs:{prop:"presentCost",label:"采购成本"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentCost))])}}])}),o("el-table-column",{attrs:{prop:"presentColour",label:"赠品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentColour))])}}])}),o("el-table-column",{attrs:{prop:"presentBrand",label:"赠品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentBrand))])}}])}),o("el-table-column",{attrs:{prop:"presentState",label:"赠品状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentState))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"有效"==t.row.presentState,expression:"scope.row.presentState=='有效'"}],attrs:{size:"mini",type:"primary",round:"",icon:"el-icon-search"},on:{click:function(o){e.addInnerVisible=!0,e.addPresentHandle(t.row)}}},[e._v("选择 ")])]}}])}),o("el-dialog",{attrs:{width:"80%",title:"新增赠品转商品",visible:e.addInnerVisible,"append-to-body":""},on:{"update:visible":function(t){e.addInnerVisible=t}}},[o("el-form",{attrs:{model:e.addForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsName,callback:function(t){e.$set(e.addForm,"goodsName",t)},expression:"addForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsType,callback:function(t){e.$set(e.addForm,"goodsType",t)},expression:"addForm.goodsType"}})],1),o("el-form-item",{attrs:{label:"商品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsModelNumber,callback:function(t){e.$set(e.addForm,"goodsModelNumber",t)},expression:"addForm.goodsModelNumber"}})],1),o("el-form-item",{attrs:{label:"商品价格","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsPrice,callback:function(t){e.$set(e.addForm,"goodsPrice",t)},expression:"addForm.goodsPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsCost,callback:function(t){e.$set(e.addForm,"goodsCost",t)},expression:"addForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsCost,callback:function(t){e.$set(e.addForm,"goodsCost",t)},expression:"addForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsDepartment,callback:function(t){e.$set(e.addForm,"goodsDepartment",t)},expression:"addForm.goodsDepartment"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsColor,callback:function(t){e.$set(e.addForm,"goodsColor",t)},expression:"addForm.goodsColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsBrand,callback:function(t){e.$set(e.addForm,"goodsBrand",t)},expression:"addForm.goodsBrand"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.goodsNumber,callback:function(t){e.$set(e.addForm,"goodsNumber",t)},expression:"addForm.goodsNumber"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.inventoryQuantity,callback:function(t){e.$set(e.addForm,"inventoryQuantity",t)},expression:"addForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"天翼价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.physicalPrice,callback:function(t){e.$set(e.addForm,"physicalPrice",t)},expression:"addForm.physicalPrice"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addInnerVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addInnerVisible=!1,e.addSubmit()}}},[e._v("确 定")])],1)])],1)],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.presentPage.pageNum,"page-sizes":[5,10,15,20],"page-size":e.presentPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.presentPage.total},on:{"size-change":e.presentHandleSizeChange,"current-change":e.presentHandleCurrentChange}})],1)],1),o("el-dialog",{attrs:{title:"审核跟踪",visible:e.checkDialogFormVisible},on:{"update:visible":function(t){e.checkDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsName,callback:function(t){e.$set(e.lookForm,"goodsName",t)},expression:"lookForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsType,callback:function(t){e.$set(e.lookForm,"goodsType",t)},expression:"lookForm.goodsType"}})],1),o("el-form-item",{attrs:{label:"商品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsModelNumber,callback:function(t){e.$set(e.lookForm,"goodsModelNumber",t)},expression:"lookForm.goodsModelNumber"}})],1),o("el-form-item",{attrs:{label:"商品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsPrice,callback:function(t){e.$set(e.lookForm,"goodsPrice",t)},expression:"lookForm.goodsPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsCost,callback:function(t){e.$set(e.lookForm,"goodsCost",t)},expression:"lookForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsDepartment,callback:function(t){e.$set(e.lookForm,"goodsDepartment",t)},expression:"lookForm.goodsDepartment"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsNumber,callback:function(t){e.$set(e.lookForm,"goodsNumber",t)},expression:"lookForm.goodsNumber"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsColor,callback:function(t){e.$set(e.lookForm,"goodsColor",t)},expression:"lookForm.goodsColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsBrand,callback:function(t){e.$set(e.lookForm,"goodsBrand",t)},expression:"lookForm.goodsBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"天翼价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.physicalPrice,callback:function(t){e.$set(e.lookForm,"physicalPrice",t)},expression:"lookForm.physicalPrice"}})],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkTableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"recordAuditor",label:"审核人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordAuditor))])}}])}),o("el-table-column",{attrs:{prop:"recordTime",label:"审核时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordTime))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"recordOpinion",label:"审核意见",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordOpinion))])}}])})],1)],1)],1)],1)},Xe=[],Ye={data:function(){return{checkTableData:[],presentTableData:[],typeOptions:[],checkStateOptions:[],brandOptions:[],colorOptions:[],firstClass:"",firstSelect:"",firstOption:[],secondOption:[],lookForm:{},updateForm:{goodsName:"",goodsNumber:"",goodsModelNumber:"",goodsType:"",goodsBrand:"",goodsColor:"",goodsDepartment:"",goodsPrice:"",goodsCost:"",inventoryQuantity:"",physicalPrice:""},presentQueryForm:{presentId:"",presentName:"",presentType:"",presentColour:"",presentBrand:""},queryForm:{},checkDialogFormVisible:!1,choiceDialogFormVisible:!1,addDialogFormVisible:!1,lookDialogFormVisible:!1,updateDialogFormVisible:!1,addInnerVisible:!1,addForm:{goodsId:"",goodsNumber:"",goodsName:"",goodsType:"",goodsBrand:"",goodsColor:"",goodsPrice:"",inventoryQuantity:"",physicalPrice:"",checkState:""},formLabelWidth:"120px",value:[],tableData:[],page:{},presentPage:{}}},methods:{handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},queryEmpty:function(){this.queryForm.goodsName="",this.queryForm.goodsType="",this.queryForm.goodsColor="",this.queryForm.goodsBrand="",this.queryForm.checkState=""},query:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.queryForm),this.$axios.get("/presentCheck",{params:e}).then((function(e){2e4===e.code?(t.tableData=e.data.list,t.page=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleChange:function(e){this.queryForm.goodsType=e[e.length-1]},queryType:function(){var e=this;this.$axios.get("/goodsType/selectTree").then((function(t){2e4===t.code?e.$nextTick((function(){e.typeOptions=e.getTreeData(t.data)})):e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryCheckState:function(){var e=this;this.$axios.get("/presentCheck/getCheckState").then((function(t){2e4===t.code?e.checkStateOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryBrand:function(){var e=this;this.$axios.get("/present/getBrand").then((function(t){2e4===t.code?e.brandOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryColor:function(){var e=this;this.$axios.get("/present/getColor").then((function(t){2e4===t.code?e.colorOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},handleCheck:function(e){var t=this;this.$axios.get("/PresentCheckRecordHandler/selectPresentCheckRecordByCheckId/"+e.checkId).then((function(e){2e4===e.code?t.checkTableData=e.data:t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},addSubmit:function(){var e=this;this.$axios.post("/presentCheck/addPresentCheck",this.addForm).then((function(t){2e4===t.code?(e.$message({message:"添加成功！",type:"success"}),e.query()):e.$message.error("添加失败！")}))},update:function(){var e=this;this.$axios.put("/presentCheck",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"修改赠品成功！",type:"success"}),e.query()):e.$message.error("修改赠品失败！")})).catch((function(t){console.log(t),e.$message.error("修改赠品异常！")}))},cancel:function(){this.$message({type:"info",message:"已取消操作"})},addPresentHandle:function(e){this.addForm.goodsId=e.presentId,this.addForm.goodsName=e.presentName,this.addForm.goodsNumber=e.presentMinimumStock,this.addForm.goodsModelNumber=e.presentModelNumber,this.addForm.goodsType=e.presentType,this.addForm.goodsBrand=e.presentBrand,this.addForm.goodsColor=e.presentColour,this.addForm.goodsDepartment=e.presentDepartment,this.addForm.goodsPrice=e.presentPrice,this.addForm.goodsCost=e.presentCost,this.addForm.physicalPrice="",this.addForm.inventoryQuantity=""},handleLook:function(e){this.lookForm.goodsName=e.goodsName,this.lookForm.goodsNumber=e.goodsNumber,this.lookForm.goodsModelNumber=e.goodsModelNumber,this.lookForm.goodsType=e.goodsType,this.lookForm.goodsBrand=e.goodsBrand,this.lookForm.goodsColor=e.goodsColor,this.lookForm.goodsDepartment=e.goodsDepartment,this.lookForm.goodsPrice=e.goodsPrice,this.lookForm.goodsCost=e.goodsCost,this.lookForm.inventoryQuantity=e.inventoryQuantity,this.lookForm.physicalPrice=e.physicalPrice,this.lookForm.checkState=e.checkState},handleUpdate:function(e){this.updateForm.checkId=e.checkId,this.updateForm.goodsName=e.goodsName,this.updateForm.goodsNumber=e.goodsNumber,this.updateForm.goodsModelNumber=e.goodsModelNumber,this.updateForm.goodsType=e.goodsType,this.updateForm.goodsBrand=e.goodsBrand,this.updateForm.goodsColor=e.goodsColor,this.updateForm.goodsDepartment=e.goodsDepartment,this.updateForm.goodsPrice=e.goodsPrice,this.updateForm.goodsCost=e.goodsCost,this.updateForm.inventoryQuantity=e.inventoryQuantity,this.updateForm.physicalPrice=e.physicalPrice},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.delete("/presentCheck/delPresentCheckById/"+e.checkId).then((function(e){t.query(),2e4===e.code?t.$message({type:"success",message:"删除成功!"}):t.$message({type:"info",message:"删除失败"})})).catch((function(){t.$message({type:"info",message:"错误"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},tableRowClassName:function(e){var t=e.rowIndex;return t%2===0?"success-row":""},getTreeData:function(e){for(var t=0;t<e.length;t++)null==e[t].children||e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e},presentHandleChangeQueryType:function(e){this.presentQueryForm.goodsType=e[e.length-1]},presentHandleSizeChange:function(e){this.presentQuery({pageNum:this.presentPage.pageNum,pageSize:e})},presentHandleCurrentChange:function(e){this.presentQuery({pageNum:e,pageSize:this.presentPage.pageSize})},presentQuery:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.presentQueryForm),this.$axios.get("/present",{params:e}).then((function(e){2e4===e.code?(t.presentTableData=e.data.list,t.presentPage=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},presentQueryEmpty:function(){this.presentQueryForm.presentColour="",this.presentQueryForm.presentBrand="",this.presentQueryForm.presentColour="",this.presentQueryForm.presentModelNumber="",this.presentQueryForm.presentName="",this.presentQueryForm.presentType=""}},components:{},computed:{},created:function(){this.query(),this.queryType(),this.queryBrand(),this.queryCheckState(),this.queryColor(),this.presentQuery()},mounted:function(){}},Ze=Ye,et=(o("7a65"),Object(n["a"])(Ze,Je,Xe,!1,null,"42eb2f29",null)),tt=et.exports,ot=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:e.queryForm.goodsName,callback:function(t){e.$set(e.queryForm,"goodsName",t)},expression:"queryForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChange}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择商品品牌"},model:{value:e.queryForm.goodsBrand,callback:function(t){e.$set(e.queryForm,"goodsBrand",t)},expression:"queryForm.goodsBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.queryForm.goodsColor,callback:function(t){e.$set(e.queryForm,"goodsColor",t)},expression:"queryForm.goodsColor"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"审核状态","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.queryForm.checkState,callback:function(t){e.$set(e.queryForm,"checkState",t)},expression:"queryForm.checkState"}},e._l(e.checkStateOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryEmpty()}}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"checkId",label:"审核序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkId))])}}])}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsName))])}}])}),o("el-table-column",{attrs:{prop:"goodsType",label:"商品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsType))])}}])}),o("el-table-column",{attrs:{prop:"goodsBrand",label:"商品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsBrand))])}}])}),o("el-table-column",{attrs:{prop:"goodsColor",label:"商品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsColor))])}}])}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsPrice))])}}])}),o("el-table-column",{attrs:{prop:"goodsNumber",label:"商品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goodsNumber))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"==t.row.checkState,expression:"scope.row.checkState=='未审核'"}],attrs:{size:"mini",type:"warning",round:"",icon:"el-icon-edit"},on:{click:function(o){e.lookDialogFormVisible=!0,e.handleLook(t.row)}}},[e._v("审核 ")]),o("el-button",{attrs:{size:"mini",type:"success",round:"",icon:"el-icon-search"},on:{click:function(o){e.checkDialogFormVisible=!0,e.handleLook(t.row),e.queryCheck(t.row)}}},[e._v("审核跟踪 ")])]}}])})],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10,15,20],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{title:"审核",visible:e.lookDialogFormVisible},on:{"update:visible":function(t){e.lookDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.updateForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsName,callback:function(t){e.$set(e.lookForm,"goodsName",t)},expression:"lookForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsType,callback:function(t){e.$set(e.lookForm,"goodsType",t)},expression:"lookForm.goodsType"}})],1),o("el-form-item",{attrs:{label:"商品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsModelNumber,callback:function(t){e.$set(e.lookForm,"goodsModelNumber",t)},expression:"lookForm.goodsModelNumber"}})],1),o("el-form-item",{attrs:{label:"商品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsPrice,callback:function(t){e.$set(e.lookForm,"goodsPrice",t)},expression:"lookForm.goodsPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsCost,callback:function(t){e.$set(e.lookForm,"goodsCost",t)},expression:"lookForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsDepartment,callback:function(t){e.$set(e.lookForm,"goodsDepartment",t)},expression:"lookForm.goodsDepartment"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsNumber,callback:function(t){e.$set(e.lookForm,"goodsNumber",t)},expression:"lookForm.goodsNumber"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsColor,callback:function(t){e.$set(e.lookForm,"goodsColor",t)},expression:"lookForm.goodsColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsBrand,callback:function(t){e.$set(e.lookForm,"goodsBrand",t)},expression:"lookForm.goodsBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"天翼价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.physicalPrice,callback:function(t){e.$set(e.lookForm,"physicalPrice",t)},expression:"lookForm.physicalPrice"}})],1),o("el-form-item",{attrs:{label:"审核意见"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.updateForm.recordOpinion,callback:function(t){e.$set(e.updateForm,"recordOpinion",t)},expression:"updateForm.recordOpinion"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.lookDialogFormVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lookDialogFormVisible=!1,e.updateFalse()}}},[e._v("通过审核")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lookDialogFormVisible=!1,e.updateTrue()}}},[e._v("驳回审核")])],1)])],1),o("el-dialog",{attrs:{title:"审核跟踪",visible:e.checkDialogFormVisible},on:{"update:visible":function(t){e.checkDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsName,callback:function(t){e.$set(e.lookForm,"goodsName",t)},expression:"lookForm.goodsName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsType,callback:function(t){e.$set(e.lookForm,"goodsType",t)},expression:"lookForm.goodsType"}})],1),o("el-form-item",{attrs:{label:"商品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsModelNumber,callback:function(t){e.$set(e.lookForm,"goodsModelNumber",t)},expression:"lookForm.goodsModelNumber"}})],1),o("el-form-item",{attrs:{label:"商品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsPrice,callback:function(t){e.$set(e.lookForm,"goodsPrice",t)},expression:"lookForm.goodsPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsCost,callback:function(t){e.$set(e.lookForm,"goodsCost",t)},expression:"lookForm.goodsCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsDepartment,callback:function(t){e.$set(e.lookForm,"goodsDepartment",t)},expression:"lookForm.goodsDepartment"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsNumber,callback:function(t){e.$set(e.lookForm,"goodsNumber",t)},expression:"lookForm.goodsNumber"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsColor,callback:function(t){e.$set(e.lookForm,"goodsColor",t)},expression:"lookForm.goodsColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.goodsBrand,callback:function(t){e.$set(e.lookForm,"goodsBrand",t)},expression:"lookForm.goodsBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"天翼价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.physicalPrice,callback:function(t){e.$set(e.lookForm,"physicalPrice",t)},expression:"lookForm.physicalPrice"}})],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkTableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"recordAuditor",label:"审核人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordAuditor))])}}])}),o("el-table-column",{attrs:{prop:"recordTime",label:"审核时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordTime))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"recordOpinion",label:"审核意见",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordOpinion))])}}])})],1)],1)],1)],1)},at=[],lt={data:function(){return{updateForm:{checkId:"",recordId:"",recordAuditor:"",recordOpinion:"",checkState:"",recordTime:""},typeOptions:[],checkStateOptions:[],brandOptions:[],colorOptions:[],firstOption:[],secondOption:[],lookForm:{},queryForm:{},checkDialogFormVisible:!1,lookDialogFormVisible:!1,formLabelWidth:"120px",checkTableData:[],tableData:[],page:{},presentPage:{}}},methods:{updateTrue:function(){var e=this;this.updateForm.checkState="2",this.$axios.put("/PresentCheckRecordHandler",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"审核成功！",type:"success"}),e.query()):e.$message.error("审核失败！")})).catch((function(t){console.log(t),e.$message.error("审核异常！")}))},updateFalse:function(){var e=this;this.updateForm.checkState="1",this.$axios.put("/PresentCheckRecordHandler",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"审核成功！",type:"success"}),e.query()):e.$message.error("审核失败！")})).catch((function(t){console.log(t),e.$message.error("审核异常！")}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},queryEmpty:function(){this.queryForm.goodsName="",this.queryForm.goodsType="",this.queryForm.goodsColor="",this.queryForm.goodsBrand="",this.queryForm.checkState=""},query:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.queryForm),this.$axios.get("/presentCheck",{params:e}).then((function(e){2e4===e.code?(t.tableData=e.data.list,t.page=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},queryCheck:function(e){var t=this;this.$axios.get("/PresentCheckRecordHandler/selectPresentCheckRecordByCheckId/"+e.checkId).then((function(e){2e4===e.code?t.checkTableData=e.data:t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleChange:function(e){this.queryForm.goodsType=e[e.length-1]},queryType:function(){var e=this;this.$axios.get("/goodsType/selectTree").then((function(t){2e4===t.code?e.$nextTick((function(){e.typeOptions=e.getTreeData(t.data)})):e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryCheckState:function(){var e=this;this.$axios.get("/presentCheck/getCheckState").then((function(t){2e4===t.code?e.checkStateOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryBrand:function(){var e=this;this.$axios.get("/present/getBrand").then((function(t){2e4===t.code?e.brandOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryColor:function(){var e=this;this.$axios.get("/present/getColor").then((function(t){2e4===t.code?e.colorOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},cancel:function(){this.$message({type:"info",message:"已取消操作"})},handleLook:function(e){this.lookForm.goodsName=e.goodsName,this.lookForm.goodsNumber=e.goodsNumber,this.lookForm.goodsModelNumber=e.goodsModelNumber,this.lookForm.goodsType=e.goodsType,this.lookForm.goodsBrand=e.goodsBrand,this.lookForm.goodsColor=e.goodsColor,this.lookForm.goodsDepartment=e.goodsDepartment,this.lookForm.goodsPrice=e.goodsPrice,this.lookForm.goodsCost=e.goodsCost,this.lookForm.inventoryQuantity=e.inventoryQuantity,this.lookForm.physicalPrice=e.physicalPrice,this.lookForm.checkState=e.checkState,this.updateForm.recordOpinion="",this.updateForm.checkId=e.checkId,this.updateForm.checkState=""},tableRowClassName:function(e){var t=e.rowIndex;return t%2===0?"success-row":""},getTreeData:function(e){for(var t=0;t<e.length;t++)null==e[t].children||e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e}},components:{},computed:{},created:function(){this.query(),this.queryType(),this.queryBrand(),this.queryCheckState(),this.queryColor()}},rt=lt,st=(o("e2e4"),Object(n["a"])(rt,ot,at,!1,null,"5228b34f",null)),it=st.exports,nt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[o("el-button",{attrs:{type:"success"},on:{click:function(t){e.addDialogFormVisible=!0}}},[e._v("新增商品转赠品")]),o("el-form-item",{attrs:{label:"赠品名称"}},[o("el-input",{model:{value:e.queryForm.presentName,callback:function(t){e.$set(e.queryForm,"presentName",t)},expression:"queryForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChange}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品品牌"},model:{value:e.queryForm.presentBrand,callback:function(t){e.$set(e.queryForm,"presentBrand",t)},expression:"queryForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.queryForm.presentColor,callback:function(t){e.$set(e.queryForm,"presentColor",t)},expression:"queryForm.presentColor"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"审核状态","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.queryForm.checkState,callback:function(t){e.$set(e.queryForm,"checkState",t)},expression:"queryForm.checkState"}},e._l(e.checkStateOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryEmpty()}}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"checkId",label:"审核序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkId))])}}])}),o("el-table-column",{attrs:{prop:"presentName",label:"赠品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentName))])}}])}),o("el-table-column",{attrs:{prop:"presentType",label:"赠品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentType))])}}])}),o("el-table-column",{attrs:{prop:"presentBrand",label:"赠品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentBrand))])}}])}),o("el-table-column",{attrs:{prop:"presentColor",label:"赠品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentColor))])}}])}),o("el-table-column",{attrs:{prop:"presentPrice",label:"赠品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentPrice))])}}])}),o("el-table-column",{attrs:{prop:"presentNumber",label:"赠品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentNumber))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",round:"",icon:"el-icon-search"},on:{click:function(o){e.lookDialogFormVisible=!0,e.handleLook(t.row)}}},[e._v("查看 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"==t.row.checkState,expression:"scope.row.checkState=='未审核'"}],attrs:{size:"mini",type:"warning",round:"",icon:"el-icon-edit"},on:{click:function(o){e.updateDialogFormVisible=!0,e.handleUpdate(t.row)}}},[e._v("修改 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"==t.row.checkState,expression:"scope.row.checkState=='未审核'"}],attrs:{size:"mini",type:"danger",round:"",icon:"el-icon-delete"},on:{click:function(o){return e.handleDelete(t.row)}}},[e._v("删除 ")]),o("el-button",{attrs:{size:"mini",type:"success",round:"",icon:"el-icon-search"},on:{click:function(o){e.checkDialogFormVisible=!0,e.queryCheck(t.row),e.handleLook(t.row)}}},[e._v("订单跟踪 ")])]}}])})],1),o("el-dialog",{attrs:{title:"查看详情",visible:e.lookDialogFormVisible},on:{"update:visible":function(t){e.lookDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"赠品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentName,callback:function(t){e.$set(e.lookForm,"presentName",t)},expression:"lookForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentType,callback:function(t){e.$set(e.lookForm,"presentType",t)},expression:"lookForm.presentType"}})],1),o("el-form-item",{attrs:{label:"赠品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentModelNumber,callback:function(t){e.$set(e.lookForm,"presentModelNumber",t)},expression:"lookForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentPrice,callback:function(t){e.$set(e.lookForm,"presentPrice",t)},expression:"lookForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentCost,callback:function(t){e.$set(e.lookForm,"presentCost",t)},expression:"lookForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentDepartment,callback:function(t){e.$set(e.lookForm,"presentDepartment",t)},expression:"lookForm.presentDepartment"}})],1),o("el-form-item",{attrs:{label:"赠品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentNumber,callback:function(t){e.$set(e.lookForm,"presentNumber",t)},expression:"lookForm.presentNumber"}})],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentColor,callback:function(t){e.$set(e.lookForm,"presentColor",t)},expression:"lookForm.presentColor"}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentBrand,callback:function(t){e.$set(e.lookForm,"presentBrand",t)},expression:"lookForm.presentBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"审核状态","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.checkState,callback:function(t){e.$set(e.lookForm,"checkState",t)},expression:"lookForm.checkState"}})],1)],1)],1),o("el-dialog",{attrs:{title:"修改赠品",visible:e.updateDialogFormVisible},on:{"update:visible":function(t){e.updateDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.updateForm}},[o("el-form-item",{attrs:{label:"赠品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentName,callback:function(t){e.$set(e.updateForm,"presentName",t)},expression:"updateForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentType,callback:function(t){e.$set(e.updateForm,"presentType",t)},expression:"updateForm.presentType"}})],1),o("el-form-item",{attrs:{label:"赠品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentModelNumber,callback:function(t){e.$set(e.updateForm,"presentModelNumber",t)},expression:"updateForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品价格","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentPrice,callback:function(t){e.$set(e.updateForm,"presentPrice",t)},expression:"updateForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentCost,callback:function(t){e.$set(e.updateForm,"presentCost",t)},expression:"updateForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentDepartment,callback:function(t){e.$set(e.updateForm,"presentDepartment",t)},expression:"updateForm.presentDepartment"}})],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentColor,callback:function(t){e.$set(e.updateForm,"presentColor",t)},expression:"updateForm.presentColor"}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentBrand,callback:function(t){e.$set(e.updateForm,"presentBrand",t)},expression:"updateForm.presentBrand"}})],1),o("el-form-item",{attrs:{label:"赠品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.presentNumber,callback:function(t){e.$set(e.updateForm,"presentNumber",t)},expression:"updateForm.presentNumber"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.inventoryQuantity,callback:function(t){e.$set(e.updateForm,"inventoryQuantity",t)},expression:"updateForm.inventoryQuantity"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.updateDialogFormVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateDialogFormVisible=!1,e.update()}}},[e._v("确 定")])],1)])],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10,15,20],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{width:"90%",title:"选择转变为赠品的商品",visible:e.addDialogFormVisible},on:{"update:visible":function(t){e.addDialogFormVisible=t}}},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.presentQueryForm}},[o("el-form-item",{attrs:{label:"赠品名称"}},[o("el-input",{model:{value:e.presentQueryForm.presentName,callback:function(t){e.$set(e.presentQueryForm,"presentName",t)},expression:"presentQueryForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品型号"}},[o("el-input",{model:{value:e.presentQueryForm.presentModelNumber,callback:function(t){e.$set(e.presentQueryForm,"presentModelNumber",t)},expression:"presentQueryForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.presentHandleChangeQueryType}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品品牌"},model:{value:e.presentQueryForm.presentBrand,callback:function(t){e.$set(e.presentQueryForm,"presentBrand",t)},expression:"presentQueryForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.presentQueryForm.presentColour,callback:function(t){e.$set(e.presentQueryForm,"presentColour",t)},expression:"presentQueryForm.presentColour"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.presentQuery()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.presentQueryEmpty()}}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.presentTableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"presentId",label:"商品序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gid))])}}])}),o("el-table-column",{attrs:{prop:"presentName",label:"商品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gname))])}}])}),o("el-table-column",{attrs:{prop:"presentModelNumber",label:"商品型号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gmodel))])}}])}),o("el-table-column",{attrs:{prop:"presentType",label:"商品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gtype))])}}])}),o("el-table-column",{attrs:{prop:"presentMinimumStock",label:"商品库存量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gminsum))])}}])}),o("el-table-column",{attrs:{prop:"presentPrice",label:"商品单价"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gmallprize))])}}])}),o("el-table-column",{attrs:{prop:"presentCost",label:"采购成本"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gcost))])}}])}),o("el-table-column",{attrs:{prop:"presentColour",label:"商品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gcolor))])}}])}),o("el-table-column",{attrs:{prop:"presentBrand",label:"商品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gbrand))])}}])}),o("el-table-column",{attrs:{prop:"presentState",label:"商品状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gifdelete))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"有效"==t.row.gifdelete,expression:"scope.row.gifdelete=='有效'"}],attrs:{size:"mini",type:"primary",round:"",icon:"el-icon-search"},on:{click:function(o){e.addInnerVisible=!0,e.addPresentHandle(t.row)}}},[e._v("选择 ")])]}}])}),o("el-dialog",{attrs:{width:"80%",title:"新增商品转赠品",visible:e.addInnerVisible,"append-to-body":""},on:{"update:visible":function(t){e.addInnerVisible=t}}},[o("el-form",{attrs:{model:e.addForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentName,callback:function(t){e.$set(e.addForm,"presentName",t)},expression:"addForm.presentName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentType,callback:function(t){e.$set(e.addForm,"presentType",t)},expression:"addForm.presentType"}})],1),o("el-form-item",{attrs:{label:"商品价格","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentPrice,callback:function(t){e.$set(e.addForm,"presentPrice",t)},expression:"addForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentCost,callback:function(t){e.$set(e.addForm,"presentCost",t)},expression:"addForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentColor,callback:function(t){e.$set(e.addForm,"presentColor",t)},expression:"addForm.presentColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentBrand,callback:function(t){e.$set(e.addForm,"presentBrand",t)},expression:"addForm.presentBrand"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.addForm.presentNumber,callback:function(t){e.$set(e.addForm,"presentNumber",t)},expression:"addForm.presentNumber"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.inventoryQuantity,callback:function(t){e.$set(e.addForm,"inventoryQuantity",t)},expression:"addForm.inventoryQuantity"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addInnerVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addInnerVisible=!1,e.addSubmit()}}},[e._v("确 定")])],1)])],1)],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.presentPage.pageNum,"page-sizes":[5,10,15,20],"page-size":e.presentPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.presentPage.total},on:{"size-change":e.presentHandleSizeChange,"current-change":e.presentHandleCurrentChange}})],1)],1),o("el-dialog",{attrs:{title:"审核跟踪",visible:e.checkDialogFormVisible},on:{"update:visible":function(t){e.checkDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"赠品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentName,callback:function(t){e.$set(e.lookForm,"presentName",t)},expression:"lookForm.presentName"}})],1),o("el-form-item",{attrs:{label:"赠品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentType,callback:function(t){e.$set(e.lookForm,"presentType",t)},expression:"lookForm.presentType"}})],1),o("el-form-item",{attrs:{label:"赠品型号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentModelNumber,callback:function(t){e.$set(e.lookForm,"presentModelNumber",t)},expression:"lookForm.presentModelNumber"}})],1),o("el-form-item",{attrs:{label:"赠品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentPrice,callback:function(t){e.$set(e.lookForm,"presentPrice",t)},expression:"lookForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"采购成本","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentCost,callback:function(t){e.$set(e.lookForm,"presentCost",t)},expression:"lookForm.presentCost"}})],1),o("el-form-item",{attrs:{label:"采购部门","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentDepartment,callback:function(t){e.$set(e.lookForm,"presentDepartment",t)},expression:"lookForm.presentDepartment"}})],1),o("el-form-item",{attrs:{label:"赠品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentNumber,callback:function(t){e.$set(e.lookForm,"presentNumber",t)},expression:"lookForm.presentNumber"}})],1),o("el-form-item",{attrs:{label:"赠品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentColor,callback:function(t){e.$set(e.lookForm,"presentColor",t)},expression:"lookForm.presentColor"}})],1),o("el-form-item",{attrs:{label:"赠品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentBrand,callback:function(t){e.$set(e.lookForm,"presentBrand",t)},expression:"lookForm.presentBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkTableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"recordAuditor",label:"审核人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordAuditor))])}}])}),o("el-table-column",{attrs:{prop:"recordTime",label:"审核时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordTime))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"recordOpinion",label:"审核意见",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordOpinion))])}}])})],1)],1)],1)],1)},dt=[],ct={data:function(){return{checkTableData:[],checkDialogFormVisible:!1,presentTableData:[],typeOptions:[],checkStateOptions:[],brandOptions:[],colorOptions:[],firstClass:"",firstSelect:"",firstOption:[],secondOption:[],lookForm:{},updateForm:{presentName:"",presentNumber:"",presentModelNumber:"",presentType:"",presentBrand:"",presentColor:"",presentDepartment:"",presentPrice:"",presentCost:"",inventoryQuantity:""},presentQueryForm:{presentId:"",presentName:"",presentType:"",presentColour:"",presentBrand:""},queryForm:{},choiceDialogFormVisible:!1,addDialogFormVisible:!1,lookDialogFormVisible:!1,updateDialogFormVisible:!1,addInnerVisible:!1,addForm:{inventoryQuantity:""},formLabelWidth:"120px",value:[],tableData:[],page:{},presentPage:{}}},methods:{queryCheck:function(e){var t=this;this.$axios.get("/GoodsCheckRecordHandler/selectGoodsCheckRecordByCheckId/"+e.checkId).then((function(e){2e4===e.code?t.checkTableData=e.data:t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},queryEmpty:function(){this.queryForm.presentName="",this.queryForm.presentType="",this.queryForm.presentColor="",this.queryForm.presentBrand="",this.queryForm.checkState=""},query:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.queryForm),this.$axios.get("/GoodsCheckHandler",{params:e}).then((function(e){2e4===e.code?(t.tableData=e.data.list,t.page=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleChange:function(e){this.queryForm.presentType=e[e.length-1]},queryType:function(){var e=this;this.$axios.get("/goodsType/selectTree").then((function(t){2e4===t.code?e.$nextTick((function(){e.typeOptions=e.getTreeData(t.data)})):e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryCheckState:function(){var e=this;this.$axios.get("/presentCheck/getCheckState").then((function(t){2e4===t.code?e.checkStateOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryBrand:function(){var e=this;this.$axios.get("/present/getBrand").then((function(t){2e4===t.code?e.brandOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryColor:function(){var e=this;this.$axios.get("/present/getColor").then((function(t){2e4===t.code?e.colorOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},addSubmit:function(){var e=this;this.$axios.post("/GoodsCheckHandler/addGoodsCheck",this.addForm).then((function(t){2e4===t.code?(e.$message({message:"添加成功！",type:"success"}),e.query()):e.$message.error("添加失败！")}))},update:function(){var e=this;this.$axios.put("/GoodsCheckHandler",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"修改赠品成功！",type:"success"}),e.query()):e.$message.error("修改赠品失败！")})).catch((function(t){console.log(t),e.$message.error("修改赠品异常！")}))},cancel:function(){this.$message({type:"info",message:"已取消操作"})},addPresentHandle:function(e){this.addForm.presentId=e.gid,this.addForm.presentName=e.gname,this.addForm.presentNumber=e.gminsum,this.addForm.presentModelNumber=e.presentModelNumber,this.addForm.presentType=e.gtype,this.addForm.presentBrand=e.gbrand,this.addForm.presentColor=e.gcolor,this.addForm.presentPrice=e.gmallprize,this.addForm.presentCost=e.gcost,this.addForm.inventoryQuantity=""},handleLook:function(e){this.lookForm.presentName=e.presentName,this.lookForm.presentNumber=e.presentNumber,this.lookForm.presentModelNumber=e.presentModelNumber,this.lookForm.presentType=e.presentType,this.lookForm.presentBrand=e.presentBrand,this.lookForm.presentColor=e.presentColor,this.lookForm.presentDepartment=e.presentDepartment,this.lookForm.presentPrice=e.presentPrice,this.lookForm.presentCost=e.presentCost,this.lookForm.inventoryQuantity=e.inventoryQuantity,this.lookForm.checkState=e.checkState},handleUpdate:function(e){this.updateForm.checkId=e.checkId,this.updateForm.presentName=e.presentName,this.updateForm.presentNumber=e.presentNumber,this.updateForm.presentModelNumber=e.presentModelNumber,this.updateForm.presentType=e.presentType,this.updateForm.presentBrand=e.presentBrand,this.updateForm.presentColor=e.presentColor,this.updateForm.presentDepartment=e.presentDepartment,this.updateForm.presentPrice=e.presentPrice,this.updateForm.presentCost=e.presentCost,this.updateForm.inventoryQuantity=e.inventoryQuantity},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.delete("/GoodsCheckHandler/delGoodsCheckById/"+e.checkId).then((function(e){t.query(),2e4===e.code?t.$message({type:"success",message:"删除成功!"}):t.$message({type:"info",message:"删除失败"})})).catch((function(){t.$message({type:"info",message:"错误"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},tableRowClassName:function(e){var t=e.rowIndex;return t%2===0?"success-row":""},getTreeData:function(e){for(var t=0;t<e.length;t++)null==e[t].children||e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e},presentHandleChangeQueryType:function(e){this.presentQueryForm.goodsType=e[e.length-1]},presentHandleSizeChange:function(e){this.presentQuery({pageNum:this.presentPage.pageNum,pageSize:e})},presentHandleCurrentChange:function(e){this.presentQuery({pageNum:e,pageSize:this.presentPage.pageSize})},presentQuery:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.presentQueryForm),this.$axios.get("/present/selectGoods",{params:e}).then((function(e){2e4===e.code?(t.presentTableData=e.data.list,t.presentPage=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},presentQueryEmpty:function(){this.presentQueryForm.presentColour="",this.presentQueryForm.presentBrand="",this.presentQueryForm.presentColour="",this.presentQueryForm.presentModelNumber="",this.presentQueryForm.presentName="",this.presentQueryForm.presentType=""}},components:{},computed:{},created:function(){this.query(),this.queryType(),this.queryBrand(),this.queryCheckState(),this.queryColor(),this.presentQuery()},mounted:function(){}},pt=ct,ut=(o("b37f"),Object(n["a"])(pt,nt,dt,!1,null,"785436d6",null)),mt=ut.exports,ft=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-card",{staticClass:"box-card"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:e.queryForm.presentName,callback:function(t){e.$set(e.queryForm,"presentName",t)},expression:"queryForm.presentName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.typeOptions,props:{value:"typeId",label:"typeName"},"show-all-levels":!1},on:{change:e.handleChange}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择商品品牌"},model:{value:e.queryForm.presentBrand,callback:function(t){e.$set(e.queryForm,"presentBrand",t)},expression:"queryForm.presentBrand"}},e._l(e.brandOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择赠品颜色"},model:{value:e.queryForm.presentColor,callback:function(t){e.$set(e.queryForm,"presentColor",t)},expression:"queryForm.presentColor"}},e._l(e.colorOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"审核状态","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.queryForm.checkState,callback:function(t){e.$set(e.queryForm,"checkState",t)},expression:"queryForm.checkState"}},e._l(e.checkStateOptions,(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")])],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryEmpty()}}},[e._v("重置")])],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"checkId",label:"审核序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkId))])}}])}),o("el-table-column",{attrs:{prop:"presentName",label:"商品名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentName))])}}])}),o("el-table-column",{attrs:{prop:"presentType",label:"商品类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentType))])}}])}),o("el-table-column",{attrs:{prop:"presentBrand",label:"商品品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentBrand))])}}])}),o("el-table-column",{attrs:{prop:"presentColor",label:"商品颜色"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentColor))])}}])}),o("el-table-column",{attrs:{prop:"presentPrice",label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentPrice))])}}])}),o("el-table-column",{attrs:{prop:"presentNumber",label:"商品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.presentNumber))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"channelHandle",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"==t.row.checkState,expression:"scope.row.checkState=='未审核'"}],attrs:{size:"mini",type:"warning",round:"",icon:"el-icon-edit"},on:{click:function(o){e.lookDialogFormVisible=!0,e.handleLook(t.row)}}},[e._v("审核 ")]),o("el-button",{attrs:{size:"mini",type:"success",round:"",icon:"el-icon-search"},on:{click:function(o){e.checkDialogFormVisible=!0,e.handleLook(t.row),e.queryCheck(t.row)}}},[e._v("审核跟踪 ")])]}}])})],1),o("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10,15,20],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{title:"审核",visible:e.lookDialogFormVisible},on:{"update:visible":function(t){e.lookDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.updateForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentName,callback:function(t){e.$set(e.lookForm,"presentName",t)},expression:"lookForm.presentName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentType,callback:function(t){e.$set(e.lookForm,"presentType",t)},expression:"lookForm.presentType"}})],1),o("el-form-item",{attrs:{label:"商品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentPrice,callback:function(t){e.$set(e.lookForm,"presentPrice",t)},expression:"lookForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentNumber,callback:function(t){e.$set(e.lookForm,"presentNumber",t)},expression:"lookForm.presentNumber"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentColor,callback:function(t){e.$set(e.lookForm,"presentColor",t)},expression:"lookForm.presentColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentBrand,callback:function(t){e.$set(e.lookForm,"presentBrand",t)},expression:"lookForm.presentBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1),o("el-form-item",{attrs:{label:"审核意见"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.updateForm.recordOpinion,callback:function(t){e.$set(e.updateForm,"recordOpinion",t)},expression:"updateForm.recordOpinion"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.lookDialogFormVisible=!1,e.cancel()}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lookDialogFormVisible=!1,e.updateFalse()}}},[e._v("通过审核")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lookDialogFormVisible=!1,e.updateTrue()}}},[e._v("驳回审核")])],1)])],1),o("el-dialog",{attrs:{title:"审核跟踪",visible:e.checkDialogFormVisible},on:{"update:visible":function(t){e.checkDialogFormVisible=t}}},[o("el-form",{attrs:{model:e.lookForm}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentName,callback:function(t){e.$set(e.lookForm,"presentName",t)},expression:"lookForm.presentName"}})],1),o("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentType,callback:function(t){e.$set(e.lookForm,"presentType",t)},expression:"lookForm.presentType"}})],1),o("el-form-item",{attrs:{label:"商品单价","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentPrice,callback:function(t){e.$set(e.lookForm,"presentPrice",t)},expression:"lookForm.presentPrice"}})],1),o("el-form-item",{attrs:{label:"商品数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentNumber,callback:function(t){e.$set(e.lookForm,"presentNumber",t)},expression:"lookForm.presentNumber"}})],1),o("el-form-item",{attrs:{label:"商品颜色","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentColor,callback:function(t){e.$set(e.lookForm,"presentColor",t)},expression:"lookForm.presentColor"}})],1),o("el-form-item",{attrs:{label:"商品品牌","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.presentBrand,callback:function(t){e.$set(e.lookForm,"presentBrand",t)},expression:"lookForm.presentBrand"}})],1),o("el-form-item",{attrs:{label:"入库数量","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.lookForm.inventoryQuantity,callback:function(t){e.$set(e.lookForm,"inventoryQuantity",t)},expression:"lookForm.inventoryQuantity"}})],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkTableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"recordAuditor",label:"审核人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordAuditor))])}}])}),o("el-table-column",{attrs:{prop:"recordTime",label:"审核时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordTime))])}}])}),o("el-table-column",{attrs:{prop:"checkState",label:"审核状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.checkState))])}}])}),o("el-table-column",{attrs:{prop:"recordOpinion",label:"审核意见",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.recordOpinion))])}}])})],1)],1)],1)],1)},ht=[],bt={data:function(){return{updateForm:{checkId:"",recordId:"",recordAuditor:"",recordOpinion:"",checkState:"",recordTime:""},typeOptions:[],checkStateOptions:[],brandOptions:[],colorOptions:[],firstOption:[],secondOption:[],lookForm:{},queryForm:{},checkDialogFormVisible:!1,lookDialogFormVisible:!1,formLabelWidth:"120px",checkTableData:[],tableData:[],page:{},presentPage:{}}},methods:{updateTrue:function(){var e=this;this.updateForm.checkState="2",this.$axios.put("/GoodsCheckRecordHandler",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"审核成功！",type:"success"}),e.query()):e.$message.error("审核失败！")})).catch((function(t){console.log(t),e.$message.error("审核异常！")}))},updateFalse:function(){var e=this;this.updateForm.checkState="1",this.$axios.put("/GoodsCheckRecordHandler",this.updateForm).then((function(t){2e4===t.code?(e.$message({message:"审核成功！",type:"success"}),e.query()):e.$message.error("审核失败！")})).catch((function(t){console.log(t),e.$message.error("审核异常！")}))},handleSizeChange:function(e){this.query({pageNum:this.page.pageNum,pageSize:e})},handleCurrentChange:function(e){this.query({pageNum:e,pageSize:this.page.pageSize})},queryEmpty:function(){this.queryForm.presentName="",this.queryForm.presentType="",this.queryForm.presentColor="",this.queryForm.presentBrand="",this.queryForm.checkState=""},query:function(e){var t=this;void 0===e&&(e={}),Object.assign(e,this.queryForm),this.$axios.get("/GoodsCheckHandler",{params:e}).then((function(e){2e4===e.code?(t.tableData=e.data.list,t.page=e.data):t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},queryCheck:function(e){var t=this;this.$axios.get("/GoodsCheckRecordHandler/selectGoodsCheckRecordByCheckId/"+e.checkId).then((function(e){2e4===e.code?t.checkTableData=e.data:t.$message.error("数据查询失败！")})).catch((function(e){console.log(e),t.$message.error("服务器连接失败！")}))},handleChange:function(e){this.queryForm.presentType=e[e.length-1]},queryType:function(){var e=this;this.$axios.get("/goodsType/selectTree").then((function(t){2e4===t.code?e.$nextTick((function(){e.typeOptions=e.getTreeData(t.data)})):e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryCheckState:function(){var e=this;this.$axios.get("/presentCheck/getCheckState").then((function(t){2e4===t.code?e.checkStateOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryBrand:function(){var e=this;this.$axios.get("/present/getBrand").then((function(t){2e4===t.code?e.brandOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},queryColor:function(){var e=this;this.$axios.get("/present/getColor").then((function(t){2e4===t.code?e.colorOptions=t.data:e.$message.error("数据查询失败！")})).catch((function(t){console.log(t),e.$message.error("服务器连接失败！")}))},cancel:function(){this.$message({type:"info",message:"已取消操作"})},handleLook:function(e){this.lookForm.presentName=e.presentName,this.lookForm.presentNumber=e.presentNumber,this.lookForm.goodsModelNumber=e.goodsModelNumber,this.lookForm.presentType=e.presentType,this.lookForm.presentBrand=e.presentBrand,this.lookForm.presentColor=e.presentColor,this.lookForm.goodsDepartment=e.goodsDepartment,this.lookForm.presentPrice=e.presentPrice,this.lookForm.goodsCost=e.goodsCost,this.lookForm.inventoryQuantity=e.inventoryQuantity,this.lookForm.physicalPrice=e.physicalPrice,this.lookForm.checkState=e.checkState,this.updateForm.recordOpinion="",this.updateForm.checkId=e.checkId,this.updateForm.checkState=""},tableRowClassName:function(e){var t=e.rowIndex;return t%2===0?"success-row":""},getTreeData:function(e){for(var t=0;t<e.length;t++)null==e[t].children||e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e}},components:{},computed:{},created:function(){this.query(),this.queryType(),this.queryBrand(),this.queryCheckState(),this.queryColor()},mounted:function(){}},gt=bt,yt=(o("32dc"),Object(n["a"])(gt,ft,ht,!1,null,"714a2856",null)),vt=yt.exports,kt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[[o("el-card",{staticClass:"box-card"},[o("el-form",{ref:"orderForm",staticClass:"demo-ruleForm",attrs:{inline:!0,model:e.orderForm}},[o("el-form-item",{attrs:{label:"订单编号"}},[o("el-input",{attrs:{placeholder:"订单编号"},model:{value:e.orderForm.orderId,callback:function(t){e.$set(e.orderForm,"orderId",t)},expression:"orderForm.orderId"}})],1),o("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderType,callback:function(t){e.$set(e.orderForm,"orderType",t)},expression:"orderForm.orderType"}},e._l(e.options[0],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"订单动作",prop:"orderActive"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderActive,callback:function(t){e.$set(e.orderForm,"orderActive",t)},expression:"orderForm.orderActive"}},e._l(e.options[1],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"订单业务",prop:"orderService"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderService,callback:function(t){e.$set(e.orderForm,"orderService",t)},expression:"orderForm.orderService"}},e._l(e.options[2],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"支付方式",prop:"orderPaytype"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderPaytype,callback:function(t){e.$set(e.orderForm,"orderPaytype",t)},expression:"orderForm.orderPaytype"}},e._l(e.options[3],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderStatus,callback:function(t){e.$set(e.orderForm,"orderStatus",t)},expression:"orderForm.orderStatus"}},e._l(e.options[4],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"配送方式",prop:"orderDispatcher"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderDispatcher,callback:function(t){e.$set(e.orderForm,"orderDispatcher",t)},expression:"orderForm.orderDispatcher"}},e._l(e.options[5],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("span",[e._v("订单时间")]),o("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd 00:00:00"},model:{value:e.targetTime,callback:function(t){e.targetTime=t},expression:"targetTime"}}),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.queryByType}},[e._v("查询")]),o("el-button",{attrs:{type:"success"},on:{click:function(t){return e.resetForm("orderForm")}}},[e._v("重置")])],1)],1),o("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:8080/saleManage/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.uploadFileSuccess,multiple:"",accept:".xlsx",limit:1,"on-exceed":e.handleExceed,"on-error":e.errorUpload,"file-list":e.fileList}},[o("el-button",{attrs:{type:"primary"}},[e._v("导入数据")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"180"}}),o("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"180"}}),o("el-table-column",{attrs:{prop:"orderActive",label:"订单动作",width:"180"}}),o("el-table-column",{attrs:{prop:"orderService",label:"业务类型",width:"180"}}),o("el-table-column",{attrs:{prop:"orderPaytype",label:"支付方式",width:"180"}}),o("el-table-column",{attrs:{prop:"orderDispatcher",label:"配送方式",width:"180"}}),o("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态",width:"180"}}),o("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){e.dialogFormVisible=!0,e.handleCheck(t.row)}}},[e._v(" 查看 ")])]}}])})],1),o("el-dialog",{attrs:{title:"订单详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("table",{attrs:{width:"100%",border:"1px",cellpadding:"20px",cellspacing:"0",id:"myTable"}},[o("tr",[o("td",{attrs:{colspan:"4"}},[o("h4",{staticStyle:{"text-align":"center"}},[e._v("订单基本资料")])])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("订单编号:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderId)}})]),o("td",{staticClass:"onLeft"},[e._v("下单日期:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderTime)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("订单类型:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderType)}})]),o("td",{staticClass:"onLeft"},[e._v("订单动作:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderActive)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("业务类型:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderService)}})]),o("td",{staticClass:"onLeft"},[e._v("订单状态:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderStatus)}})])]),o("td",{attrs:{colspan:"4"}},[o("h4",{staticStyle:{"text-align":"center"}},[e._v("收货人资料")])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("收货人姓名:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeName)}})]),o("td",{staticClass:"onLeft"},[e._v("会员账号:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeId)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("联系电话:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeLinephone)}})]),o("td",{staticClass:"onLeft"},[e._v("联系手机:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeMobilephone)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("邮政编码:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneePostalcode)}})]),o("td",{staticClass:"onLeft"},[e._v("收货地址:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeAddress)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("配送地区:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeArea)}})]),o("td",{staticClass:"onLeft"},[e._v("配送方式:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderDispatcher)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("配送费用:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.delivery.deliveryCost)}})]),o("td",{staticClass:"onLeft"},[e._v("电子邮箱:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.consignee.consigneeMail)}})])]),o("tr",[o("td",{staticClass:"onLeft"},[e._v("支付人:")]),o("td",{staticClass:"onRight"},[o("span",{domProps:{textContent:e._s(e.orders.orderPayer)}})])])]),o("h4",[e._v("订单商品信息")]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goods,height:"250",border:""}},[o("el-table-column",{attrs:{prop:"goodsId",label:"商品编号",width:"180"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"180"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"单价",width:"180"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"数量",width:"180"}}),o("el-table-column",{attrs:{prop:"totalPrice",label:"总金额",width:"180"}})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("返回")])],1)],1),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]],2)},Ft=[],xt=(o("99af"),o("b0c0"),{data:function(){return{currentPage:{},pageSize:{},total:{},tableData:[],goods:[],orderForm:{orderId:"",orderType:"",orderActive:"",orderService:"",orderPaytype:"",orderStatus:"",orderDispatcher:""},options:[],targetTime:[],fileList:[],delivery:{},consignee:{},orders:{},dialogFormVisible:!1}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return t%2==1?"success-row":""},resetForm:function(e){this.orderForm.orderId="",this.targetTime=[],this.$refs[e].resetFields()},query:function(e){var t=this;this.$axios.get("/saleManage/selectAll",{params:e}).then((function(e){2e4===e.code?(t.total=e.data.orders.total,t.pageSize=e.data.orders.pageSize,t.currentPage=e.data.orders.pageNum,t.options=e.data.alltype,t.tableData=e.data.orders.list):t.$message({type:"info",message:"查询失败"})})).catch((function(e){console.log(e),t.$message({type:"warning",message:"服务器连接失败,请联系管理员"})}))},queryByType:function(){var e=this.targetTime[0],t=this.targetTime[1],o={orderId:this.orderForm.orderId,orderType:this.orderForm.orderType,orderActive:this.orderForm.orderActive,orderService:this.orderForm.orderService,orderPaytype:this.orderForm.orderPaytype,orderStatus:this.orderForm.orderStatus,orderDispatcher:this.orderForm.orderDispatcher,beginTime:e,endTime:t,page:"1",pageSize:this.pageSize};this.query(o)},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e){return this.$confirm("确定移除 ".concat(e.name,"？"))},uploadFileSuccess:function(e){this.fileList=[],console.log(e),2e4==e.code?(this.$message({message:"导入成功"+e.data.successCount+"条数据,失败"+e.data.failCount+"条数据",type:"success"}),this.query()):this.$message({type:"warning",message:"导入失败，请检查数据条数是否匹配"})},errorUpload:function(){this.$message.error("导入失败")},handleCheck:function(e){var t=this;this.$axios.get("/queryById?orderId="+e.orderId).then((function(e){console.log(e),2e4===e.code?(t.consignee=e.data.consignee,t.delivery=e.data.delivery,t.orders=e.data.saleOrder,t.goods=e.data.orderDetails):t.$message({type:"info",message:"查询失败"})})).catch((function(e){console.log(e),t.$message({type:"warning",message:"服务器连接失败,请联系管理员"})}))},handleSizeChange:function(e){this.query({page:"1",pageSize:e})},handleCurrentChange:function(e){this.query({page:e,pageSize:this.pageSize})}},created:function(){this.query()}}),wt=xt,St=(o("3541"),Object(n["a"])(wt,kt,Ft,!1,null,"1871891a",null)),_t=St.exports,$t=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[[o("el-card",{staticClass:"box-card"},[o("el-form",{ref:"orderForm",staticClass:"demo-ruleForm",attrs:{inline:!0,model:e.orderForm}},[o("el-form-item",{attrs:{label:"订单编号"}},[o("el-input",{attrs:{placeholder:"订单编号"},model:{value:e.orderForm.orderId,callback:function(t){e.$set(e.orderForm,"orderId",t)},expression:"orderForm.orderId"}})],1),o("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderType,callback:function(t){e.$set(e.orderForm,"orderType",t)},expression:"orderForm.orderType"}},e._l(e.options[0],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"订单动作",prop:"orderActive"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderActive,callback:function(t){e.$set(e.orderForm,"orderActive",t)},expression:"orderForm.orderActive"}},e._l(e.options[1],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"订单业务",prop:"orderService"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderService,callback:function(t){e.$set(e.orderForm,"orderService",t)},expression:"orderForm.orderService"}},e._l(e.options[2],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",{attrs:{label:"支付方式",prop:"orderPaytype"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.orderPaytype,callback:function(t){e.$set(e.orderForm,"orderPaytype",t)},expression:"orderForm.orderPaytype"}},e._l(e.options[3],(function(e){return o("el-option",{key:e.dic_key,attrs:{label:e.dic_value,value:e.dic_key}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.queryByType}},[e._v("查询")]),o("el-button",{attrs:{type:"success"},on:{click:function(t){return e.resetForm("orderForm")}}},[e._v("重置")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"180"}}),o("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"180"}}),o("el-table-column",{attrs:{prop:"orderActive",label:"订单动作",width:"180"}}),o("el-table-column",{attrs:{prop:"orderService",label:"业务类型",width:"180"}}),o("el-table-column",{attrs:{prop:"orderPaytype",label:"支付方式",width:"180"}}),o("el-table-column",{attrs:{prop:"orderDispatcher",label:"配送方式",width:"180"}}),o("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态",width:"180"}}),o("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.handleOut(t.row)}}},[e._v(" 出库 ")])]}}])})],1),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]],2)},Ct=[],Nt={data:function(){return{currentPage:{},pageSize:{},total:{},tableData:[],orderForm:{orderId:"",orderType:"",orderActive:"",orderService:"",orderPaytype:""},options:[]}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return t%2==1?"success-row":""},resetForm:function(e){this.orderForm.orderId="",this.$refs[e].resetFields()},query:function(e){var t=this;this.$axios.get("/query/waitout",{params:e}).then((function(e){2e4===e.code?(t.total=e.data.orders.total,t.pageSize=e.data.orders.pageSize,t.currentPage=e.data.orders.pageNum,t.options=e.data.alltype,t.tableData=e.data.orders.list):t.$message({type:"info",message:"查询失败"})})).catch((function(e){console.log(e),t.$message({type:"warning",message:"服务器连接失败,请联系管理员"})}))},queryByType:function(){var e={orderId:this.orderForm.orderId,orderType:this.orderForm.orderType,orderActive:this.orderForm.orderActive,orderService:this.orderForm.orderService,orderPaytype:this.orderForm.orderPaytype,page:"1",pageSize:this.pageSize};this.query(e)},handleOut:function(e){location.href="http://localhost:8080/dowloadWord?orderId="+e.orderId,this.query()},handleSizeChange:function(e){this.query({page:"1",pageSize:e})},handleCurrentChange:function(e){this.query({page:e,pageSize:this.pageSize})}},created:function(){this.query()}},Pt=Nt,Dt=(o("df77"),Object(n["a"])(Pt,$t,Ct,!1,null,"14adb96c",null)),zt=Dt.exports,Tt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[[o("el-card",{staticClass:"box-card"},[o("el-form",{ref:"logForm",attrs:{inline:!0,model:e.logForm}},[o("el-form-item",{attrs:{label:"访问用户名",prop:"userName"}},[o("el-input",{attrs:{placeholder:"用户名"},model:{value:e.logForm.userName,callback:function(t){e.$set(e.logForm,"userName",t)},expression:"logForm.userName"}})],1),o("el-form-item",{attrs:{label:"访问模块",prop:"userModel"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.logForm.userModel,callback:function(t){e.$set(e.logForm,"userModel",t)},expression:"logForm.userModel"}},[o("el-option",{attrs:{label:"用户模块",value:"用户模块"}}),o("el-option",{attrs:{label:"商品模块",value:"商品模块"}})],1)],1),o("el-form-item",{attrs:{label:"操作内容",prop:"userMethod"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.logForm.userMethod,callback:function(t){e.$set(e.logForm,"userMethod",t)},expression:"logForm.userMethod"}},[o("el-option",{attrs:{label:"查询",value:"查询"}})],1)],1),o("span",[e._v("订单时间")]),o("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd 00:00:00"},model:{value:e.targetTime,callback:function(t){e.targetTime=t},expression:"targetTime"}}),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.queryByType}},[e._v("查询")]),o("el-button",{attrs:{type:"success"},on:{click:function(t){return e.resetForm("logForm")}}},[e._v("重置")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[o("el-table-column",{attrs:{prop:"id",label:"序号",width:"180"}}),o("el-table-column",{attrs:{prop:"createTime",label:"操作时间",width:"180"}}),o("el-table-column",{attrs:{prop:"userName",label:"访问用户名",width:"180"}}),o("el-table-column",{attrs:{prop:"userModel",label:"访问模块",width:"180"}}),o("el-table-column",{attrs:{prop:"userMethod",label:"操作内容",width:"180"}}),o("el-table-column",{attrs:{prop:"userIp",label:"访问ip",width:"180"}})],1),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]],2)},qt=[],Lt={data:function(){return{currentPage:{},pageSize:{},total:{},tableData:[],logForm:{userName:"",userModel:"",userMethod:""},targetTime:[]}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return t%2==1?"success-row":""},resetForm:function(e){this.targetTime=[],this.$refs[e].resetFields()},query:function(e){var t=this;this.$axios.get("/log/selectAll",{params:e}).then((function(e){console.log(e),2e4===e.code?(t.total=e.data.total,t.pageSize=e.data.pageSize,t.currentPage=e.data.pageNum,t.tableData=e.data.list):t.$message({type:"info",message:"查询失败,未查到有效数据"})})).catch((function(e){console.log(e),t.$message({type:"warning",message:"服务器连接失败,请联系管理员"})}))},queryByType:function(){var e=this.targetTime[0],t=this.targetTime[1],o={userName:this.logForm.userName,userModel:this.logForm.userModel,userMethod:this.logForm.userMethod,beginTime:e,endTime:t,page:"1",pageSize:this.pageSize};console.log(o),this.query(o)},handleSizeChange:function(e){this.query({page:"1",pageSize:e})},handleCurrentChange:function(e){this.query({page:e,pageSize:this.pageSize})}},created:function(){this.query()}},It=Lt,Ot=(o("ea01"),Object(n["a"])(It,Tt,qt,!1,null,"01f25fa7",null)),Bt=Ot.exports,Mt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-container",[o("el-header"),o("el-container",[o("el-aside",{attrs:{width:"200px"}}),o("el-main",[o("el-form",{ref:"applicationform",attrs:{model:e.applicationform,"label-width":"100px",inline:!0}},[o("el-form-item",{attrs:{label:"订单编号:",prop:"orderId"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.applicationform.orderId,callback:function(t){e.$set(e.applicationform,"orderId",t)},expression:"applicationform.orderId"}})],1),o("el-form-item",{attrs:{label:"记录人:",prop:"notetakerName"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.applicationform.notetakerName,callback:function(t){e.$set(e.applicationform,"notetakerName",t)},expression:"applicationform.notetakerName"}})],1),o("el-form-item",{attrs:{label:"审批人:",prop:"approver"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.applicationform.approver,callback:function(t){e.$set(e.applicationform,"approver",t)},expression:"applicationform.approver"}})],1),o("el-form-item",{attrs:{label:"单据状态",prop:"billstate"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:e.applicationform.billstate,callback:function(t){e.$set(e.applicationform,"billstate",t)},expression:"applicationform.billstate"}},[o("el-option",{attrs:{label:"",value:""}}),o("el-option",{attrs:{label:"未审核",value:"未审核"}}),o("el-option",{attrs:{label:"已通过",value:"已通过"}}),o("el-option",{attrs:{label:"未通过",value:"未通过"}})],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",label:"1",border:"",size:"medium"},on:{click:function(t){e.addApplaction=!0}}},[e._v(" 新增申诉记录 ")]),o("el-button",{attrs:{type:"primary"},on:{click:e.exportApplaction}},[e._v("导出")])],1),o("br"),o("el-form-item",{attrs:{label:"记录时间",prop:"recoedUpdatetime"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.applicationform.recoedUpdatetime,callback:function(t){e.$set(e.applicationform,"recoedUpdatetime",t)},expression:"applicationform.recoedUpdatetime"}})],1)]),o("el-form-item",{attrs:{label:"审批时间",prop:"approvalTime"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.applicationform.approvalTime,callback:function(t){e.$set(e.applicationform,"approvalTime",t)},expression:"applicationform.approvalTime"}})],1)]),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.goSearch}},[e._v("搜索")]),o("el-button",{on:{click:function(t){return e.resetForm("applicationform")}}},[e._v("清除条件")])],1)],1),o("hr"),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rratableData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"rrappId",label:"序号",width:"80"}}),o("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"120"}}),o("el-table-column",{attrs:{prop:"reqcodeName",label:"申述记录名称",width:"180"}}),o("el-table-column",{attrs:{prop:"notetakerName",label:"记录人",width:"150"}}),o("el-table-column",{attrs:{prop:"recoedUpdatetime",label:"记录时间",width:"180"}}),o("el-table-column",{attrs:{prop:"approver",label:"审批人",width:"150"}}),o("el-table-column",{attrs:{prop:"approvalTime",label:"审核时间",width:"180"}}),o("el-table-column",{attrs:{prop:"billstate",label:"单据状态",width:"120"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){e.viewDetails=!0,e.selectApplactionDetails(t.row)}}},[e._v("查看")]),o("el-button",{attrs:{type:"warning"},on:{click:function(o){e.updateApplaction=!0,e.updateApplactionDetails(t.row)}}},[e._v("修改")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.deleteApplactionDetails(t.row)}}},[e._v("删除")])]}}])})],1),o("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[2,5,10],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),o("div",[o("el-dialog",{attrs:{title:"添加申诉记录",visible:e.addApplaction},on:{"update:visible":function(t){e.addApplaction=t}}},[o("el-form",{attrs:{"label-width":"100px",inline:!0}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"申述记录名称:"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.applactionDetalis.representationname,callback:function(t){e.$set(e.applactionDetalis,"representationname",t)},expression:"applactionDetalis.representationname"}})],1)],1),o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"申述来源:"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.applactionDetalis.representationsource,callback:function(t){e.$set(e.applactionDetalis,"representationsource",t)},expression:"applactionDetalis.representationsource"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:17}},[o("el-form-item",{attrs:{label:"申述记录描述:"}},[o("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:3},model:{value:e.applactionDetalis.representationdescribe,callback:function(t){e.$set(e.applactionDetalis,"representationdescribe",t)},expression:"applactionDetalis.representationdescribe"}})],1)],1)],1)],1),o("div",[o("el-row",{staticStyle:{"text-align":"left"}},[e._v(" 申述详细信息： ")]),o("el-row",[o("el-col",{attrs:{span:3,offset:1}},[e._v("订单基本资料：")]),o("el-col",{attrs:{span:3,offset:14}},[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.selectOrder=!0,e.selectOrderMethod()}}},[e._v("选择订单")])],1)],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"600px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("订单编号")]),o("td",[o("el-input",{attrs:{placeholder:"订单编号",disabled:!0},model:{value:e.saleOrder.orderId,callback:function(t){e.$set(e.saleOrder,"orderId",t)},expression:"saleOrder.orderId"}})],1),o("td",[e._v("下单日期")]),o("td",[o("el-input",{attrs:{placeholder:"订单日期",disabled:!0},model:{value:e.saleOrder.orderTime,callback:function(t){e.$set(e.saleOrder,"orderTime",t)},expression:"saleOrder.orderTime"}})],1)]),o("tr",[o("td",[e._v("订单类型")]),o("td",[o("el-input",{attrs:{placeholder:"订单类型",disabled:!0},model:{value:e.saleOrder.orderType,callback:function(t){e.$set(e.saleOrder,"orderType",t)},expression:"saleOrder.orderType"}})],1),o("td",[e._v("订单动作")]),o("td",[o("el-input",{attrs:{placeholder:"订单动作",disabled:!0},model:{value:e.saleOrder.orderActive,callback:function(t){e.$set(e.saleOrder,"orderActive",t)},expression:"saleOrder.orderActive"}})],1)]),o("tr",[o("td",[e._v("业务类型")]),o("td",[o("el-input",{attrs:{placeholder:"业务类型",disabled:!0},model:{value:e.saleOrder.orderService,callback:function(t){e.$set(e.saleOrder,"orderService",t)},expression:"saleOrder.orderService"}})],1),o("td",[e._v("订单状态")]),o("td",[o("el-input",{attrs:{placeholder:"业务状态",disabled:!0},model:{value:e.saleOrder.orderStatus,callback:function(t){e.$set(e.saleOrder,"orderStatus",t)},expression:"saleOrder.orderStatus"}})],1)])])])])],1),o("el-row",[o("el-col",{attrs:{span:3,offset:1}},[e._v("收货人资料：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"600px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("收货人姓名")]),o("td",[o("el-input",{attrs:{placeholder:"收货人姓名",disabled:!0},model:{value:e.consignee.consigneeName,callback:function(t){e.$set(e.consignee,"consigneeName",t)},expression:"consignee.consigneeName"}})],1),o("td",[e._v("会员账号")]),o("td",[o("el-input",{attrs:{placeholder:"会员账号",disabled:!0},model:{value:e.consignee.consigneeId,callback:function(t){e.$set(e.consignee,"consigneeId",t)},expression:"consignee.consigneeId"}})],1)]),o("tr",[o("td",[e._v("联系电话")]),o("td",[o("el-input",{attrs:{placeholder:"联系电话",disabled:!0},model:{value:e.consignee.consigneeLinephone,callback:function(t){e.$set(e.consignee,"consigneeLinephone",t)},expression:"consignee.consigneeLinephone"}})],1),o("td",[e._v("联系手机")]),o("td",[o("el-input",{attrs:{placeholder:"联系手机",disabled:!0},model:{value:e.consignee.consigneeMobilephone,callback:function(t){e.$set(e.consignee,"consigneeMobilephone",t)},expression:"consignee.consigneeMobilephone"}})],1)]),o("tr",[o("td",[e._v("邮政编码")]),o("td",[o("el-input",{attrs:{placeholder:"邮政编码",disabled:!0},model:{value:e.consignee.consigneePostalcode,callback:function(t){e.$set(e.consignee,"consigneePostalcode",t)},expression:"consignee.consigneePostalcode"}})],1),o("td",[e._v("收货地址")]),o("td",[o("el-input",{attrs:{placeholder:"收货地址",disabled:!0},model:{value:e.consignee.consigneeAddress,callback:function(t){e.$set(e.consignee,"consigneeAddress",t)},expression:"consignee.consigneeAddress"}})],1)]),o("tr",[o("td",[e._v("配送地区")]),o("td",[o("el-input",{attrs:{placeholder:"配送地区",disabled:!0},model:{value:e.consignee.consigneeArea,callback:function(t){e.$set(e.consignee,"consigneeArea",t)},expression:"consignee.consigneeArea"}})],1),o("td",[e._v("配送方式")]),o("td",[o("el-input",{attrs:{placeholder:"配送方式",disabled:!0},model:{value:e.saleOrder.orderDispatcher,callback:function(t){e.$set(e.saleOrder,"orderDispatcher",t)},expression:"saleOrder.orderDispatcher"}})],1)]),o("tr",[o("td",[e._v("配送费用")]),o("td",[o("el-input",{attrs:{placeholder:"配送费用",disabled:!0},model:{value:e.delivery.deliveryCost,callback:function(t){e.$set(e.delivery,"deliveryCost",t)},expression:"delivery.deliveryCost"}})],1),o("td",[e._v("支付方式")]),o("td",[o("el-input",{attrs:{placeholder:"支付方式",disabled:!0},model:{value:e.saleOrder.orderPaytype,callback:function(t){e.$set(e.saleOrder,"orderPaytype",t)},expression:"saleOrder.orderPaytype"}})],1)]),o("tr",[o("td",[e._v("自取时间：")]),o("td",[o("el-input",{attrs:{placeholder:"自取时间",disabled:!0},model:{value:e.delivery.deliveryTime,callback:function(t){e.$set(e.delivery,"deliveryTime",t)},expression:"delivery.deliveryTime"}})],1),o("td",[e._v("电子邮箱")]),o("td",[o("el-input",{attrs:{placeholder:"电子邮箱",disabled:!0},model:{value:e.consignee.consigneeMail,callback:function(t){e.$set(e.consignee,"consigneeMail",t)},expression:"consignee.consigneeMail"}})],1)]),o("tr",[o("td",[e._v("汇款人")]),o("td",[o("el-input",{attrs:{placeholder:"汇款人",disabled:!0},model:{value:e.saleOrder.orderPayer,callback:function(t){e.$set(e.saleOrder,"orderPayer",t)},expression:"saleOrder.orderPayer"}})],1),o("td"),o("td")]),o("tr",[o("td",[e._v("备注：")]),o("td",{attrs:{colspan:"3"}},[o("el-input",{attrs:{type:"textarea",rows:3,disabled:!0,placeholder:"备注信息内容"},model:{value:e.saleOrder.textarea,callback:function(t){e.$set(e.saleOrder,"textarea",t)},expression:"saleOrder.textarea"}})],1)])])])])],1),o("el-row",[o("el-col",{attrs:{span:5,offset:1}},[e._v("订单中商品信息：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsOrderData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}})],1)]],2)],1),o("el-row",[o("el-col",{attrs:{span:4,offset:1}},[e._v("退货/维修信息：")])],1),o("el-row",[o("el-col",{attrs:{span:4,offset:2}},[e._v(" 退货/维修类型： ")]),o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{"margin-top":"0px"}},[o("el-radio",{attrs:{label:"1",border:"",size:"medium"},on:{change:function(t){e.showRepair=!1}},model:{value:e.applactionDetalis.goodState,callback:function(t){e.$set(e.applactionDetalis,"goodState",t)},expression:"applactionDetalis.goodState"}},[e._v("退货")]),o("el-radio",{attrs:{label:"2",border:"",size:"medium"},on:{change:function(t){e.showRepair=!0}},model:{value:e.applactionDetalis.goodState,callback:function(t){e.$set(e.applactionDetalis,"goodState",t)},expression:"applactionDetalis.goodState"}},[e._v("维修")])],1)])],1),o("el-row",[o("el-col",{attrs:{span:4,offset:2}},[e._v("订单退修商品信息：")]),o("el-col",{attrs:{span:3,offset:12}},[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.selectGoodByOrder=!0}}},[e._v("选择商品")])],1)],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.retrunRepairgood,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}})],1)]],2)],1),e.showRepair?o("div",[o("el-row",[o("el-col",{attrs:{span:3,offset:2}},[e._v("维修点信息：")]),o("el-col",{attrs:{span:3,offset:13}},[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.slectRepairplace=!0,e.slectRepairPlaceMethod()}}},[e._v("选择维修点")])],1)],1),o("el-row",[o("div",[o("el-col",{attrs:{span:16,offset:5}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"500px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("检修点名称")]),o("td",[o("el-input",{attrs:{placeholder:"检修点名称",disabled:!0},model:{value:e.repairPlace.rpAddress,callback:function(t){e.$set(e.repairPlace,"rpAddress",t)},expression:"repairPlace.rpAddress"}})],1)]),o("tr",[o("td",[e._v("检修点电话")]),o("td",[o("el-input",{attrs:{placeholder:"检修点电话",disabled:!0},model:{value:e.repairPlace.rpPhone,callback:function(t){e.$set(e.repairPlace,"rpPhone",t)},expression:"repairPlace.rpPhone"}})],1)])])])])],1)])],1):e._e(),o("div",[o("el-row",[o("el-button",{attrs:{type:"primary",icon:"el-icon-message",round:""},on:{click:function(t){e.addApplaction=!1}}},[e._v("暂存")]),o("el-button",{attrs:{type:"success",icon:"el-icon-check",round:""},on:{click:function(t){e.addApplaction=!1,e.insertApplaction()}}},[e._v("提交")]),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",round:""},on:{click:function(t){e.addApplaction=!1,e.wipeData()}}},[e._v("返回")])],1)],1)],1)],1)],1),o("div",[o("el-dialog",{attrs:{title:"选择订单",visible:e.selectOrder},on:{"update:visible":function(t){e.selectOrder=t}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"100"}}),o("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"100"}}),o("el-table-column",{attrs:{prop:"orderActive",label:"订单动作",width:"80"}}),o("el-table-column",{attrs:{prop:"orderService",label:"业务类型",width:"100"}}),o("el-table-column",{attrs:{prop:"orderPaytype",label:"支付方式",width:"100"}}),o("el-table-column",{attrs:{prop:"orderDispatcher",label:"配送方式",width:"80"}}),o("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态",width:"100"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){e.selectOrder=!1,e.selectRetrunRepairOrderMethod(t.row)}}},[e._v("选择")])]}}])})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.selectOrder=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.selectOrder=!1}}},[e._v("确 定")])],1)],1)],1),o("div",[o("el-dialog",{attrs:{title:"商品",visible:e.selectGoodByOrder},on:{"update:visible":function(t){e.selectGoodByOrder=t}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsOrderData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){e.selectGoodByOrder=!1,e.selectRepairGoodMethod(t.row)}}},[e._v("选择")])]}}])})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.selectGoodByOrder=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.selectGoodByOrder=!1}}},[e._v("确 定")])],1)],1)],1),o("div",[o("el-dialog",{attrs:{title:"选择维修点",visible:e.slectRepairplace},on:{"update:visible":function(t){e.slectRepairplace=t}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.repairPlaceData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"rpId",label:"序号",width:"80"}}),o("el-table-column",{attrs:{prop:"rpAddress",label:"维修点名称",width:"350"}}),o("el-table-column",{attrs:{prop:"rpPhone",label:"维修点电话",width:"200"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){e.slectRepairplace=!1,e.repairPlace=t.row}}},[e._v("选择")])]}}])})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.slectRepairplace=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.slectRepairplace=!1}}},[e._v("确 定")])],1)],1)],1),o("div",[o("el-dialog",{attrs:{title:"详细信息",visible:e.viewDetails},on:{"update:visible":function(t){e.viewDetails=t}}},[o("el-form",{attrs:{"label-width":"100px",inline:!0}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"申述记录名称:"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{disabled:!0},model:{value:e.applactionDetalis.representationname,callback:function(t){e.$set(e.applactionDetalis,"representationname",t)},expression:"applactionDetalis.representationname"}})],1)],1),o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"申述来源:"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:e.applactionDetalis.representationsource,callback:function(t){e.$set(e.applactionDetalis,"representationsource",t)},expression:"applactionDetalis.representationsource"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:17}},[o("el-form-item",{attrs:{label:"申述记录描述:"}},[o("el-input",{staticStyle:{width:"400px"},attrs:{type:"applactionDetalis.representationdescribe",rows:3,disabled:!0},model:{value:e.applactionDetalis.representationdescribe,callback:function(t){e.$set(e.applactionDetalis,"representationdescribe",t)},expression:"applactionDetalis.representationdescribe"}})],1)],1)],1)],1),o("div",[o("el-row",{staticStyle:{"text-align":"left"}},[e._v(" 申述详细信息： ")]),o("el-row",[o("el-col",{attrs:{span:3,offset:1}},[e._v("订单基本资料：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"600px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("订单编号")]),o("td",[o("el-input",{attrs:{placeholder:"订单编号",disabled:!0},model:{value:e.saleOrder.orderId,callback:function(t){e.$set(e.saleOrder,"orderId",t)},expression:"saleOrder.orderId"}})],1),o("td",[e._v("下单日期")]),o("td",[o("el-input",{attrs:{placeholder:"订单日期",disabled:!0},model:{value:e.saleOrder.orderTime,callback:function(t){e.$set(e.saleOrder,"orderTime",t)},expression:"saleOrder.orderTime"}})],1)]),o("tr",[o("td",[e._v("订单类型")]),o("td",[o("el-input",{attrs:{placeholder:"订单类型",disabled:!0},model:{value:e.saleOrder.orderType,callback:function(t){e.$set(e.saleOrder,"orderType",t)},expression:"saleOrder.orderType"}})],1),o("td",[e._v("订单动作")]),o("td",[o("el-input",{attrs:{placeholder:"订单动作",disabled:!0},model:{value:e.saleOrder.orderActive,callback:function(t){e.$set(e.saleOrder,"orderActive",t)},expression:"saleOrder.orderActive"}})],1)]),o("tr",[o("td",[e._v("业务类型")]),o("td",[o("el-input",{attrs:{placeholder:"业务类型",disabled:!0},model:{value:e.saleOrder.orderService,callback:function(t){e.$set(e.saleOrder,"orderService",t)},expression:"saleOrder.orderService"}})],1),o("td",[e._v("订单状态")]),o("td",[o("el-input",{attrs:{placeholder:"业务状态",disabled:!0},model:{value:e.saleOrder.orderStatus,callback:function(t){e.$set(e.saleOrder,"orderStatus",t)},expression:"saleOrder.orderStatus"}})],1)])])])])],1),o("el-row",[o("el-col",{attrs:{span:3,offset:1}},[e._v("收货人资料：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"600px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("收货人姓名")]),o("td",[o("el-input",{attrs:{placeholder:"收货人姓名",disabled:!0},model:{value:e.consignee.consigneeName,callback:function(t){e.$set(e.consignee,"consigneeName",t)},expression:"consignee.consigneeName"}})],1),o("td",[e._v("会员账号")]),o("td",[o("el-input",{attrs:{placeholder:"会员账号",disabled:!0},model:{value:e.consignee.consigneeId,callback:function(t){e.$set(e.consignee,"consigneeId",t)},expression:"consignee.consigneeId"}})],1)]),o("tr",[o("td",[e._v("联系电话")]),o("td",[o("el-input",{attrs:{placeholder:"联系电话",disabled:!0},model:{value:e.consignee.consigneeLinephone,callback:function(t){e.$set(e.consignee,"consigneeLinephone",t)},expression:"consignee.consigneeLinephone"}})],1),o("td",[e._v("联系手机")]),o("td",[o("el-input",{attrs:{placeholder:"联系手机",disabled:!0},model:{value:e.consignee.consigneeMobilephone,callback:function(t){e.$set(e.consignee,"consigneeMobilephone",t)},expression:"consignee.consigneeMobilephone"}})],1)]),o("tr",[o("td",[e._v("邮政编码")]),o("td",[o("el-input",{attrs:{placeholder:"邮政编码",disabled:!0},model:{value:e.consignee.consigneePostalcode,callback:function(t){e.$set(e.consignee,"consigneePostalcode",t)},expression:"consignee.consigneePostalcode"}})],1),o("td",[e._v("收货地址")]),o("td",[o("el-input",{attrs:{placeholder:"收货地址",disabled:!0},model:{value:e.consignee.consigneeAddress,callback:function(t){e.$set(e.consignee,"consigneeAddress",t)},expression:"consignee.consigneeAddress"}})],1)]),o("tr",[o("td",[e._v("配送地区")]),o("td",[o("el-input",{attrs:{placeholder:"配送地区",disabled:!0},model:{value:e.consignee.consigneeArea,callback:function(t){e.$set(e.consignee,"consigneeArea",t)},expression:"consignee.consigneeArea"}})],1),o("td",[e._v("配送方式")]),o("td",[o("el-input",{attrs:{placeholder:"配送方式",disabled:!0},model:{value:e.saleOrder.orderDispatcher,callback:function(t){e.$set(e.saleOrder,"orderDispatcher",t)},expression:"saleOrder.orderDispatcher"}})],1)]),o("tr",[o("td",[e._v("配送费用")]),o("td",[o("el-input",{attrs:{placeholder:"配送费用",disabled:!0},model:{value:e.delivery.deliveryCost,callback:function(t){e.$set(e.delivery,"deliveryCost",t)},expression:"delivery.deliveryCost"}})],1),o("td",[e._v("支付方式")]),o("td",[o("el-input",{attrs:{placeholder:"支付方式",disabled:!0},model:{value:e.saleOrder.orderPaytype,callback:function(t){e.$set(e.saleOrder,"orderPaytype",t)},expression:"saleOrder.orderPaytype"}})],1)]),o("tr",[o("td",[e._v("自取时间：")]),o("td",[o("el-input",{attrs:{placeholder:"自取时间",disabled:!0},model:{value:e.delivery.deliveryTime,callback:function(t){e.$set(e.delivery,"deliveryTime",t)},expression:"delivery.deliveryTime"}})],1),o("td",[e._v("电子邮箱")]),o("td",[o("el-input",{attrs:{placeholder:"电子邮箱",disabled:!0},model:{value:e.consignee.consigneeMail,callback:function(t){e.$set(e.consignee,"consigneeMail",t)},expression:"consignee.consigneeMail"}})],1)]),o("tr",[o("td",[e._v("汇款人")]),o("td",[o("el-input",{attrs:{placeholder:"汇款人",disabled:!0},model:{value:e.saleOrder.orderPayer,callback:function(t){e.$set(e.saleOrder,"orderPayer",t)},expression:"saleOrder.orderPayer"}})],1),o("td"),o("td")]),o("tr",[o("td",[e._v("备注：")]),o("td",{attrs:{colspan:"3"}},[o("el-input",{attrs:{type:"textarea",rows:3,disabled:!0,placeholder:"请输入备注信息内容"},model:{value:e.saleOrder.textarea,callback:function(t){e.$set(e.saleOrder,"textarea",t)},expression:"saleOrder.textarea"}})],1)])])])])],1),o("el-row",[o("el-col",{attrs:{span:5,offset:1}},[e._v("订单退换商品信息：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsOrderData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}})],1)]],2)],1),o("el-row",[o("el-col",{attrs:{span:4,offset:1}},[e._v("退货/维修信息：")])],1),o("el-row",[o("el-col",{attrs:{span:2,offset:2}},[e._v("类型：")]),o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{"margin-top":"0px"}},[o("el-radio",{attrs:{label:"1",border:"",disabled:"",size:"medium"},on:{change:function(t){e.showRepair=!1}},model:{value:e.applactionDetalis.goodState,callback:function(t){e.$set(e.applactionDetalis,"goodState",t)},expression:"applactionDetalis.goodState"}},[e._v("退货")]),o("el-radio",{attrs:{label:"2",border:"",disabled:"",size:"medium"},on:{change:function(t){e.showRepair=!0}},model:{value:e.applactionDetalis.goodState,callback:function(t){e.$set(e.applactionDetalis,"goodState",t)},expression:"applactionDetalis.goodState"}},[e._v("维修")])],1)])],1),o("el-row",[o("el-col",{attrs:{span:4,offset:2}},[e._v("订单退修商品信息：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.retrunRepairgood,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}})],1)]],2)],1),e.showRepair?o("div",[o("el-row",[o("el-col",{attrs:{span:3,offset:2}},[e._v("维修点信息：")])],1),o("el-row",[o("div",[o("el-col",{attrs:{span:16,offset:5}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"500px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("检修点名称")]),o("td",[o("el-input",{attrs:{placeholder:"检修点名称",disabled:!0},model:{value:e.repairPlace.rpAddress,callback:function(t){e.$set(e.repairPlace,"rpAddress",t)},expression:"repairPlace.rpAddress"}})],1)]),o("tr",[o("td",[e._v("检修点电话")]),o("td",[o("el-input",{attrs:{placeholder:"检修点电话",disabled:!0},model:{value:e.repairPlace.rpPhone,callback:function(t){e.$set(e.repairPlace,"rpPhone",t)},expression:"repairPlace.rpPhone"}})],1)])])])])],1)])],1):e._e(),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.viewDetails=!1,e.wipeData()}}},[e._v("返 回")])],1)],1)],1)],1),o("div",[o("el-dialog",{attrs:{title:"修改申诉记录",visible:e.updateApplaction},on:{"update:visible":function(t){e.updateApplaction=t}}},[o("el-form",{attrs:{"label-width":"100px",inline:!0}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"申述记录名称:"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.applactionDetalis.representationname,callback:function(t){e.$set(e.applactionDetalis,"representationname",t)},expression:"applactionDetalis.representationname"}})],1)],1),o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"申述来源:"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.applactionDetalis.representationsource,callback:function(t){e.$set(e.applactionDetalis,"representationsource",t)},expression:"applactionDetalis.representationsource"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:17}},[o("el-form-item",{attrs:{label:"申述记录描述:"}},[o("el-input",{staticStyle:{width:"400px"},attrs:{type:"applactionDetalis.representationdescribe",rows:3},model:{value:e.applactionDetalis.representationdescribe,callback:function(t){e.$set(e.applactionDetalis,"representationdescribe",t)},expression:"applactionDetalis.representationdescribe"}})],1)],1)],1)],1),o("div",[o("el-row",{staticStyle:{"text-align":"left"}},[e._v(" 申述详细信息： ")]),o("el-row",[o("el-col",{attrs:{span:3,offset:1}},[e._v("订单基本资料：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"600px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("订单编号")]),o("td",[o("el-input",{attrs:{placeholder:"订单编号",disabled:!0},model:{value:e.saleOrder.orderId,callback:function(t){e.$set(e.saleOrder,"orderId",t)},expression:"saleOrder.orderId"}})],1),o("td",[e._v("下单日期")]),o("td",[o("el-input",{attrs:{placeholder:"订单日期",disabled:!0},model:{value:e.saleOrder.orderTime,callback:function(t){e.$set(e.saleOrder,"orderTime",t)},expression:"saleOrder.orderTime"}})],1)]),o("tr",[o("td",[e._v("订单类型")]),o("td",[o("el-input",{attrs:{placeholder:"订单类型",disabled:!0},model:{value:e.saleOrder.orderType,callback:function(t){e.$set(e.saleOrder,"orderType",t)},expression:"saleOrder.orderType"}})],1),o("td",[e._v("订单动作")]),o("td",[o("el-input",{attrs:{placeholder:"订单动作",disabled:!0},model:{value:e.saleOrder.orderActive,callback:function(t){e.$set(e.saleOrder,"orderActive",t)},expression:"saleOrder.orderActive"}})],1)]),o("tr",[o("td",[e._v("业务类型")]),o("td",[o("el-input",{attrs:{placeholder:"业务类型",disabled:!0},model:{value:e.saleOrder.orderService,callback:function(t){e.$set(e.saleOrder,"orderService",t)},expression:"saleOrder.orderService"}})],1),o("td",[e._v("订单状态")]),o("td",[o("el-input",{attrs:{placeholder:"业务状态",disabled:!0},model:{value:e.saleOrder.orderStatus,callback:function(t){e.$set(e.saleOrder,"orderStatus",t)},expression:"saleOrder.orderStatus"}})],1)])])])])],1),o("el-row",[o("el-col",{attrs:{span:3,offset:1}},[e._v("收货人资料：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"600px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("收货人姓名")]),o("td",[o("el-input",{attrs:{placeholder:"收货人姓名",disabled:!0},model:{value:e.consignee.consigneeName,callback:function(t){e.$set(e.consignee,"consigneeName",t)},expression:"consignee.consigneeName"}})],1),o("td",[e._v("会员账号")]),o("td",[o("el-input",{attrs:{placeholder:"会员账号",disabled:!0},model:{value:e.consignee.consigneeId,callback:function(t){e.$set(e.consignee,"consigneeId",t)},expression:"consignee.consigneeId"}})],1)]),o("tr",[o("td",[e._v("联系电话")]),o("td",[o("el-input",{attrs:{placeholder:"联系电话",disabled:!0},model:{value:e.consignee.consigneeLinephone,callback:function(t){e.$set(e.consignee,"consigneeLinephone",t)},expression:"consignee.consigneeLinephone"}})],1),o("td",[e._v("联系手机")]),o("td",[o("el-input",{attrs:{placeholder:"联系手机",disabled:!0},model:{value:e.consignee.consigneeMobilephone,callback:function(t){e.$set(e.consignee,"consigneeMobilephone",t)},expression:"consignee.consigneeMobilephone"}})],1)]),o("tr",[o("td",[e._v("邮政编码")]),o("td",[o("el-input",{attrs:{placeholder:"邮政编码",disabled:!0},model:{value:e.consignee.consigneePostalcode,callback:function(t){e.$set(e.consignee,"consigneePostalcode",t)},expression:"consignee.consigneePostalcode"}})],1),o("td",[e._v("收货地址")]),o("td",[o("el-input",{attrs:{placeholder:"收货地址",disabled:!0},model:{value:e.consignee.consigneeAddress,callback:function(t){e.$set(e.consignee,"consigneeAddress",t)},expression:"consignee.consigneeAddress"}})],1)]),o("tr",[o("td",[e._v("配送地区")]),o("td",[o("el-input",{attrs:{placeholder:"配送地区",disabled:!0},model:{value:e.consignee.consigneeArea,callback:function(t){e.$set(e.consignee,"consigneeArea",t)},expression:"consignee.consigneeArea"}})],1),o("td",[e._v("配送方式")]),o("td",[o("el-input",{attrs:{placeholder:"配送方式",disabled:!0},model:{value:e.saleOrder.orderDispatcher,callback:function(t){e.$set(e.saleOrder,"orderDispatcher",t)},expression:"saleOrder.orderDispatcher"}})],1)]),o("tr",[o("td",[e._v("配送费用")]),o("td",[o("el-input",{attrs:{placeholder:"配送费用",disabled:!0},model:{value:e.delivery.deliveryCost,callback:function(t){e.$set(e.delivery,"deliveryCost",t)},expression:"delivery.deliveryCost"}})],1),o("td",[e._v("支付方式")]),o("td",[o("el-input",{attrs:{placeholder:"支付方式",disabled:!0},model:{value:e.saleOrder.orderPaytype,callback:function(t){e.$set(e.saleOrder,"orderPaytype",t)},expression:"saleOrder.orderPaytype"}})],1)]),o("tr",[o("td",[e._v("自取时间：")]),o("td",[o("el-input",{attrs:{placeholder:"自取时间",disabled:!0},model:{value:e.delivery.deliveryTime,callback:function(t){e.$set(e.delivery,"deliveryTime",t)},expression:"delivery.deliveryTime"}})],1),o("td",[e._v("电子邮箱")]),o("td",[o("el-input",{attrs:{placeholder:"电子邮箱",disabled:!0},model:{value:e.consignee.consigneeMail,callback:function(t){e.$set(e.consignee,"consigneeMail",t)},expression:"consignee.consigneeMail"}})],1)]),o("tr",[o("td",[e._v("汇款人")]),o("td",[o("el-input",{attrs:{placeholder:"汇款人",disabled:!0},model:{value:e.saleOrder.orderPayer,callback:function(t){e.$set(e.saleOrder,"orderPayer",t)},expression:"saleOrder.orderPayer"}})],1),o("td"),o("td")]),o("tr",[o("td",[e._v("备注：")]),o("td",{attrs:{colspan:"3"}},[o("el-input",{attrs:{type:"textarea",rows:3,disabled:!0,placeholder:"请输入备注信息内容"},model:{value:e.saleOrder.textarea,callback:function(t){e.$set(e.saleOrder,"textarea",t)},expression:"saleOrder.textarea"}})],1)])])])])],1),o("el-row",[o("el-col",{attrs:{span:5,offset:1}},[e._v("订单中商品信息：")])],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsOrderData,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}})],1)]],2)],1),o("el-row",[o("el-col",{attrs:{span:4,offset:1}},[e._v("退货/维修信息：")])],1),o("el-row",[o("el-col",{attrs:{span:2,offset:2}},[e._v("类型：")]),o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{"margin-top":"0px"}},[o("el-radio",{attrs:{label:"1",border:"",disabled:"",size:"medium"},on:{change:function(t){e.showRepair=!1}},model:{value:e.applactionDetalis.goodState,callback:function(t){e.$set(e.applactionDetalis,"goodState",t)},expression:"applactionDetalis.goodState"}},[e._v("退货")]),o("el-radio",{attrs:{label:"2",border:"",disabled:"",size:"medium"},on:{change:function(t){e.showRepair=!0}},model:{value:e.applactionDetalis.goodState,callback:function(t){e.$set(e.applactionDetalis,"goodState",t)},expression:"applactionDetalis.goodState"}},[e._v("维修")])],1)])],1),o("el-row",[o("el-col",{attrs:{span:4,offset:2}},[e._v("退修商品信息：")]),o("el-col",{attrs:{span:3,offset:12}},[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.selectGoodByOrder=!0}}},[e._v("选择商品")])],1)],1),o("el-row",[o("el-col",{attrs:{span:16,offset:3}},[[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.retrunRepairgood,"header-cell-style":e.headClass,"cell-style":e.rowClass,border:""}},[o("el-table-column",{attrs:{prop:"serializeNum",label:"商品串码",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsNum",label:"商品数量",width:"130"}}),o("el-table-column",{attrs:{prop:"goodsPrice",label:"商品价格"}})],1)]],2)],1),e.showRepair?o("div",[o("el-row",[o("el-col",{attrs:{span:3,offset:2}},[e._v("维修点信息：")]),o("el-col",{attrs:{span:3,offset:13}},[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.slectRepairplace=!0,e.slectRepairPlaceMethod()}}},[e._v("选择维修点")])],1)],1),o("el-row",[o("div",[o("el-col",{attrs:{span:16,offset:5}},[o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{width:"500px",height:"100px"},attrs:{border:"1",bordercolor:"aqua",cellspacing:"0"}},[o("tr",[o("td",[e._v("检修点名称")]),o("td",[o("el-input",{attrs:{placeholder:"检修点名称",disabled:!0},model:{value:e.repairPlace.rpAddress,callback:function(t){e.$set(e.repairPlace,"rpAddress",t)},expression:"repairPlace.rpAddress"}})],1)]),o("tr",[o("td",[e._v("检修点电话")]),o("td",[o("el-input",{attrs:{placeholder:"检修点电话",disabled:!0},model:{value:e.repairPlace.rpPhone,callback:function(t){e.$set(e.repairPlace,"rpPhone",t)},expression:"repairPlace.rpPhone"}})],1)])])])])],1)])],1):e._e(),o("el-row",[o("el-button",{attrs:{type:"primary",icon:"el-icon-message",round:""},on:{click:function(t){e.updateApplaction=!1}}},[e._v("暂存")]),o("el-button",{attrs:{type:"success",icon:"el-icon-check",round:""},on:{click:function(t){e.updateApplaction=!1,e.updateApplactionSubmit()}}},[e._v("提交")]),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",round:""},on:{click:function(t){e.updateApplaction=!1,e.wipeData()}}},[e._v("返回")])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1)],1)],1)],1)],1)],1)},Vt=[],Rt=(o("841c"),{data:function(){return{applicationform:{},rratableData:[],page:{pageNum:1,pageSize:5,total:20},param:{},addApplaction:!1,updateApplaction:!1,viewDetails:!1,orderData:[],goodsOrderData:[],repairPlaceData:[],returnRepairApplaction:{},applactionDetalis:{},selectOrder:!1,selectGoodByOrder:!1,slectRepairplace:!1,saleOrder:{},consignee:{},delivery:{},repairPlace:{},retrunRepairgood:[],showRepair:!0}},methods:{search:function(e){var t=this;this.$axios.get("/retrunRepair/getAllAppliction",{params:e}).then((function(e){t.rratableData=e.data.list,t.page=e.data})).catch((function(e){console.log(e)}))},selectManyDataByOrderId:function(e){var t=this;this.$axios.get("/out/queryId?orderId="+e).then((function(e){t.delivery=e.data.delivery,t.goodsOrderData=e.data.orderDetails,t.consignee=e.data.consignee,t.saleOrder=e.data.saleOrder})).catch((function(e){console.log(e)}))},selectReturnRepairGoodByGoodSerializeNum:function(e){var t=this;this.$axios.get("/out/getGoods?uuid="+e).then((function(o){console.log("要售后的商品");var a=[],l={};l.serializeNum=e,l.goodsName=o.data.gsort,l.goodsNum=o.data.glevel,l.goodsPrice=o.data.gmarketprize,a.push(l),t.retrunRepairgood=a})).catch((function(e){console.log(e)}))},selectRepairPlaceById:function(e){var t=this;this.$axios.get("/repairPlace/getRepairPlaceById?rpId="+e).then((function(e){t.repairPlace=e.data})).catch((function(e){console.log(e)}))},goSearch:function(e){var t=this;console.log("去搜索"),Object.assign(e,this.applicationform),this.$axios.get("/retrunRepair/getApplictionBy",{params:e}).then((function(e){void 0==t.applicationform.orderId&&void 0==t.applicationform.notationName&&t.search(),t.rratableData=e.data,t.page={}})).catch((function(e){console.log(e)}))},exportApplaction:function(){console.log("导出文件")},resetForm:function(e){this.$refs[e].resetFields()},selectApplactionDetails:function(e){var t=this;console.log(e),this.$axios.get("/applicationDetail/getapplicationDetailById?rrappId="+e.rrappId).then((function(e){t.applactionDetalis=e.data,t.selectReturnRepairGoodByGoodSerializeNum(t.applactionDetalis.orderGoodid),t.selectRepairPlaceById(t.applactionDetalis.repairplaceId)})).catch((function(e){console.log(e)})),this.selectManyDataByOrderId(e.rrappId)},updateApplactionDetails:function(e){var t=this;console.log(e),this.$axios.get("/applicationDetail/getapplicationDetailById?rrappId="+e.rrappId).then((function(o){t.applactionDetalis=o.data,t.selectManyDataByOrderId(e.rrappId),t.selectReturnRepairGoodByGoodSerializeNum(t.applactionDetalis.orderGoodid),t.selectRepairPlaceById(t.applactionDetalis.repairplaceId),null!=t.retrunRepairgood.serializeNum&&(t.applactionDetalis.orderGoodid=t.retrunRepairgood.serializeNum),null!=t.repairPlace.rpId&&(t.applactionDetalis.repairplaceId=t.repairPlace.rpId),t.returnRepairApplaction=e,t.returnRepairApplaction.reqcodeName=t.applactionDetalis.representationname})).catch((function(e){console.log(e)}))},deleteApplactionDetails:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log(e.rrappId),t.$axios.delete("/retrunRepair/deleteApplictionByKey",{params:e}).then((function(e){t.search(),2e4==e.code?t.$message({message:"操作成功",type:"success"}):t.$message({message:"操作失败",type:"error"})})).catch((function(e){console.log(e)})),t.$message({type:"success",message:"删除成功!"})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},selectRetrunRepairOrderMethod:function(e){this.selectManyDataByOrderId(e.orderId)},selectRepairGoodMethod:function(e){var t=[];t.push(e),this.retrunRepairgood=t,console.log(this.retrunRepairgood)},selectOrderMethod:function(){var e=this;console.log("选择订单"),this.$axios.get("/saleManage/selectAll").then((function(t){e.orderData=t.orders.list})).catch((function(e){console.log(e)}))},slectRepairPlaceMethod:function(){var e=this;console.log("选择维修点"),this.$axios.get("/repairPlace/allRepairPlace").then((function(t){e.repairPlaceData=t.data})).catch((function(e){console.log(e)}))},insertApplaction:function(){var e=this;console.log("去提交添加"),this.applactionDetalis.orderId=this.saleOrder.orderId,this.applactionDetalis.orderGoodid=this.retrunRepairgood[0].serializeNum,null!=this.repairPlace.rpId?this.applactionDetalis.repairplaceId=this.repairPlace.rpId:this.applactionDetalis.repairplaceId=0,this.returnRepairApplaction.orderId=this.applactionDetalis.orderId,this.returnRepairApplaction.reqcodeName=this.applactionDetalis.representationname,this.returnRepairApplaction.billstate=2,console.log(this.applactionDetalis),console.log(this.returnRepairApplaction);var t=this.returnRepairApplaction;this.$axios.post("/retrunRepair/addAppliction",t).then((function(t){2e4==t.code?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败",type:"error"})})).catch((function(e){console.log(e)}));var o=this.applactionDetalis;this.$axios.post("/applicationDetail/addApplicationDetail",o).then((function(t){2e4==t.code?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败",type:"error"})})).catch((function(e){console.log(e)}))},updateApplactionSubmit:function(){var e=this;console.log("去提交修改"),console.log(this.applactionDetalis),console.log(this.returnRepairApplaction);var t=this.returnRepairApplaction;this.$axios.post("/retrunRepair/updateAppliction",t).then((function(t){2e4==t.code?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败",type:"error"})})).catch((function(e){console.log(e)}));var o=this.applactionDetalis;this.$axios.post("/applicationDetail/updateApplicationDetail",o).then((function(t){2e4==t.code?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败",type:"error"})})).catch((function(e){console.log(e)}))},wipeData:function(){this.prderData=[],this.goodsOrderData=[],this.repairPlaceData=[],this.returnRepairApplaction={},this.applactionDetalis={},this.saleOrder={},this.consignee={},this.delivery={},this.repairPlace={},this.retrunRepairgood=[]},handleCurrentChange:function(e){this.search({pageNum:e,pageSize:this.page.pageSize})},handleSizeChange:function(e){this.search({pageNum:this.page.pageNum,pageSize:e})},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},components:{},created:function(){this.search()},mounted:function(){}}),At=Rt,Wt=(o("aab1"),Object(n["a"])(At,Mt,Vt,!1,null,"5db1ede6",null)),Qt=Wt.exports,jt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[o("a",{attrs:{href:"#"}},[e._v("返厂入库单审核")])])],1),o("hr"),o("el-form",{ref:"Factoryform",attrs:{model:e.Factoryform,"label-width":"100px",inline:!0}},[o("el-button",{attrs:{type:"info",plain:"",prop:"state"},on:{click:e.daishenhe}},[e._v("待审核")]),o("el-button",{attrs:{type:"warning",plain:"",prop:"state"},on:{click:e.shenheguo}},[e._v("审核通过")]),o("el-button",{attrs:{type:"danger",plain:"",prop:"state"},on:{click:e.shenhebu}},[e._v("审核不过")]),o("hr"),o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"制单时间：",prop:"beginTimeP"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.Factoryform.beginTimeP,callback:function(t){e.$set(e.Factoryform,"beginTimeP",t)},expression:"Factoryform.beginTimeP"}})],1)]),o("el-form-item",{attrs:{label:"至",prop:"endTimeP"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.Factoryform.endTimeP,callback:function(t){e.$set(e.Factoryform,"endTimeP",t)},expression:"Factoryform.endTimeP"}})],1)]),o("el-form-item",{attrs:{label:"返厂出库单号:",prop:"DeliveryOrderNo"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.Factoryform.DeliveryOrderNo,callback:function(t){e.$set(e.Factoryform,"DeliveryOrderNo",t)},expression:"Factoryform.DeliveryOrderNo"}})],1),o("el-form-item",{attrs:{label:"返厂出库标志:",prop:"OutboundSign"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:e.Factoryform.OutboundSign,callback:function(t){e.$set(e.Factoryform,"OutboundSign",t)},expression:"Factoryform.OutboundSign"}},[o("el-option",{attrs:{label:"未选择",value:""}}),o("el-option",{attrs:{label:"已出库",value:"已出库"}}),o("el-option",{attrs:{label:"未出库",value:"未出库"}})],1)],1),o("br"),o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"审批时间：",prop:"beginTimeA"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.Factoryform.beginTimeA,callback:function(t){e.$set(e.Factoryform,"beginTimeA",t)},expression:"Factoryform.beginTimeA"}})],1)]),o("el-form-item",{attrs:{label:"至",prop:"endTimeA"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.Factoryform.endTimeA,callback:function(t){e.$set(e.Factoryform,"endTimeA",t)},expression:"Factoryform.endTimeA"}})],1)]),o("el-form-item",{attrs:{label:"制单人:",prop:"Creator"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.Factoryform.Creator,callback:function(t){e.$set(e.Factoryform,"Creator",t)},expression:"Factoryform.Creator"}})],1),o("el-form-item",{attrs:{label:"返厂地点:",prop:"address"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.Factoryform.address,callback:function(t){e.$set(e.Factoryform,"address",t)},expression:"Factoryform.address"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.rushenhesearch}},[e._v("搜索")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.rushenheRese("Factoryform")}}},[e._v("重置")]),o("el-button",{attrs:{type:"primary"},on:{click:e.Exportdocument}},[e._v("导出")])],1)],1),o("hr"),o("el-table",{ref:"tableData",staticStyle:{width:"99%"},attrs:{data:e.shenhetableData,"highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"rid",label:"序号",width:"100"}}),o("el-table-column",{attrs:{prop:"deliveryorderno",label:"返厂出库单号",width:"150"}}),o("el-table-column",{attrs:{prop:"outboundsign",label:"返厂出库标志",width:"180"}}),o("el-table-column",{attrs:{prop:"creator",label:"制单人",width:"150"}}),o("el-table-column",{attrs:{prop:"preparationtime",label:"制单时间",width:"150"}}),o("el-table-column",{attrs:{prop:"approvedby",label:"审批人",width:"150"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审批时间",width:"150"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.shenhe(t.row)}}},[e._v("审核")]),o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.RFAudit(t.row)}}},[e._v("审核时间")])]}}])})],1),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"380px"},attrs:{"current-page":e.page.pageNum,"page-sizes":[1,5],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}}),o("el-dialog",{attrs:{title:"审核出库单",visible:e.shenheformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.shenheformmotai=t}}},[o("el-form",{ref:"yijianform",attrs:{model:e.yijianform,"label-width":"100px",rules:e.rules}},[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.neirong,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{prop:"goodsleixing",label:"商品跟踪信息"}})],1),o("el-table",{staticStyle:{width:"300px","margin-top":"50px","margin-left":"70%"},attrs:{data:e.neirongaddress,border:""}},[o("el-table-column",{attrs:{prop:"address",label:"返厂地点"}})],1),o("el-form-item",{staticStyle:{"margin-left":"68%","margin-top":"20px"},attrs:{label:"审核意见:",prop:"shenpijilu"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea"},model:{value:e.yijianform.shenpijilu,callback:function(t){e.$set(e.yijianform,"shenpijilu",t)},expression:"yijianform.shenpijilu"}})],1),o("el-form-item",{staticStyle:{"margin-left":"68%","margin-top":"20px"},attrs:{label:"审核状态:",prop:"state"}},[o("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.yijianform.state,callback:function(t){e.$set(e.yijianform,"state",t)},expression:"yijianform.state"}},[o("el-option",{attrs:{label:"审核通过",value:"审核通过"}}),o("el-option",{attrs:{label:"审核未通过",value:"审核未通过"}})],1)],1)],1),o("el-button",{staticStyle:{"margin-left":"70%"},on:{click:function(t){return e.yijiansub("yijianform")}}},[e._v("确定")]),o("el-button",{on:{click:function(t){e.shenheformmotai=!1}}},[e._v("返回")]),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"60px"},attrs:{"current-page":e.shenhepage.pageNum,"page-sizes":[2,5],"page-size":e.shenhepage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.shenhepage.total},on:{"size-change":e.shenheSizeChange,"current-change":e.shenhePageChange}})],1),o("el-dialog",{attrs:{title:"审核跟踪",visible:e.RFAuditformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.RFAuditformmotai=t}}},[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.RFAudittable,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}})],1),o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.RFAudittable2,border:""}},[o("el-table-column",{attrs:{prop:"address",label:"返厂地点",width:"120"}}),o("el-table-column",{attrs:{prop:"approvedby",label:"审批人"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审批时间"}}),o("el-table-column",{attrs:{prop:"state",label:"审批状态"}}),o("el-table-column",{attrs:{prop:"shenpijilu",label:"审批意见"}})],1),o("el-button",{staticStyle:{"margin-left":"90%","margin-top":"50px"},on:{click:function(t){e.shenheformmotai=!1}}},[e._v("返回")])],1)],1)},Et=[],Ut={data:function(){return{Factoryform:{DeliveryOrderNo:"",OutboundSign:"",Creator:"",address:"",beginTimeP:"",endTimeP:"",beginTimeA:"",endTimeA:"",ppageNum:1,ppageSize:5,state:""},shenheformmotai:!1,RFAuditformmotai:!1,shenhetableData:[{}],shenheneirong:[],yijianform:{shenpijilu:"",state:"",deliveryorderno:""},RFAudittable:[{}],RFAudittable2:[{}],rules:{shenpijilu:[{required:!0,message:"请输入审核意见",trigger:"change"}],state:[{required:!0,message:"请选择审核状态",trigger:"blur"}]},page:{},neirong:[],neirongaddress:[{address:""}],shenhepage:{pageNum:"1",pageSize:"2"},RFAuditpage:{pageNum:"1",pageSize:"2"},number:""}},methods:{Exportdocument:function(){location.href="http://localhost:8080/RFactoryshenhe/Export/"},rushenhesearch:function(){var e=this;this.$axios.post("/RFactoryshenhe/Rshenhesearch",this.Factoryform).then((function(t){e.shenhetableData=t.data.list,e.page=t.data})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){console.log(e),this.Factoryform.ppageNum=this.page.pageNum,this.Factoryform.ppageSize=e,this.rushenhesearch({})},handlePageChange:function(e){this.Factoryform.ppageNum=e,this.Factoryform.ppageSize=this.page.pageSize,this.rushenhesearch({})},daishenhe:function(){this.Factoryform.state="未审核",this.rushenhesearch()},shenheguo:function(){this.Factoryform.state="已通过",this.rushenhesearch()},shenhebu:function(){this.Factoryform.state="未通过",this.rushenhesearch()},rushenheRese:function(e){this.$refs[e].resetFields()},shenhe:function(e){var t=this;void 0!=e.deliveryorderno&&(this.number=e.deliveryorderno),this.$axios.get("/RFactoryshenhe/RFshenhe?pageNumber="+this.shenhepage.pageNum+"&pageSize="+this.shenhepage.pageSize+"&RFshenheid="+this.number).then((function(e){t.neirong=e.data.list,t.neirongaddress[0].address=t.neirong[0].goodsaddress,t.shenhepage=e.data,t.shenheformmotai=!0})).catch((function(e){console.log(e)}))},shenheSizeChange:function(e){this.shenhepage.pageSize=e,this.shenhe({})},shenhePageChange:function(e){this.shenhepage.pageNum=e,this.shenhe({})},yijiansub:function(e){var t=this;this.yijianform.deliveryorderno=this.number,this.$refs[e].validate((function(e){e&&t.$axios.post("/RFactoryshenhe/yijiansub",t.yijianform).then((function(e){1==e.data?t.$message({message:"操作成功",type:"success"}):t.$message({message:"操作失败",type:"warning"})})).catch((function(e){console.log(e)}))}))},RFAudit:function(e){var t=this;void 0!=e.deliveryorderno&&(this.number=e.deliveryorderno),this.$axios.get("/RFactoryshenhe/RFAudit?RFshenheid="+this.number).then((function(e){2e4==e.code&&(t.RFAuditformmotai=!0,t.RFAudittable=e.data.goods,t.RFAudittable2[0]=e.data.fact,console.log(e.data.data.goods))})).catch((function(e){console.log(e)}))}},components:{},computed:{},created:function(){this.rushenhesearch()}},Gt=Ut,Ht=Object(n["a"])(Gt,jt,Et,!1,null,"788fcfc8",null),Kt=Ht.exports,Jt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[o("a",{attrs:{href:"#"}},[e._v("返厂入库管理")])])],1),o("hr"),o("el-form",{ref:"ruform",attrs:{model:e.ruform,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"制单时间：",prop:"beginTimeP"}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.ruform.beginTimeP,callback:function(t){e.$set(e.ruform,"beginTimeP",t)},expression:"ruform.beginTimeP"}})],1)]),o("el-form-item",{attrs:{label:"至",prop:"endTimeP"}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.ruform.endTimeP,callback:function(t){e.$set(e.ruform,"endTimeP",t)},expression:"ruform.endTimeP"}})],1)]),o("el-form-item",{attrs:{label:"返入出库单号:",prop:"deliveryorderno"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.ruform.deliveryorderno,callback:function(t){e.$set(e.ruform,"deliveryorderno",t)},expression:"ruform.deliveryorderno"}})],1),o("el-form-item",{attrs:{label:"审核状态",prop:"state"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:e.ruform.state,callback:function(t){e.$set(e.ruform,"state",t)},expression:"ruform.state"}},[o("el-option",{attrs:{label:"已通过",value:"已通过"}}),o("el-option",{attrs:{label:"未审核",value:"未审核"}}),o("el-option",{attrs:{label:"未通过",value:"未通过"}})],1)],1),o("br"),o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"审批时间：",prop:"beginTimeA"}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.ruform.beginTimeA,callback:function(t){e.$set(e.ruform,"beginTimeA",t)},expression:"ruform.beginTimeA"}})],1)]),o("el-form-item",{attrs:{label:"至",prop:"endTimeA"}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.ruform.endTimeA,callback:function(t){e.$set(e.ruform,"endTimeA",t)},expression:"ruform.endTimeA"}})],1)]),o("el-form-item",{attrs:{label:"制单人:",prop:"creator"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.ruform.creator,callback:function(t){e.$set(e.ruform,"creator",t)},expression:"ruform.creator"}})],1),o("el-form-item",{attrs:{label:"返入出库标志:",prop:"outboundsign"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"未选择"},model:{value:e.ruform.outboundsign,callback:function(t){e.$set(e.ruform,"outboundsign",t)},expression:"ruform.outboundsign"}},[o("el-option",{attrs:{label:"已入库",value:"已入库"}}),o("el-option",{attrs:{label:"未入库",value:"未入库"}})],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.ruSubmit}},[e._v("新增入库单")]),o("el-button",{attrs:{type:"primary"},on:{click:e.rusearch}},[e._v("搜索")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.rudeletet("ruform")}}},[e._v("删除")]),o("el-button",{attrs:{type:"primary"},on:{click:e.Exportdocument}},[e._v("导出")])],1)],1),o("hr"),o("el-table",{ref:"rutableData",staticStyle:{width:"99%"},attrs:{data:e.rutableData,"highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"rid",label:"序号",width:"100"}}),o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"deliveryorderno",label:"返厂入库单号",width:"150"}}),o("el-table-column",{attrs:{prop:"outboundsign",label:"返厂入库标志",width:"180"}}),o("el-table-column",{attrs:{prop:"creator",label:"制单人",width:"150"}}),o("el-table-column",{attrs:{prop:"preparationtime",label:"制作时间",width:"150"}}),o("el-table-column",{attrs:{prop:"approvedby",label:"审批人",width:"150"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审核时间",width:"150"}}),o("el-table-column",{attrs:{prop:"state",label:"状态",width:"150"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.query(t.row)}}},[e._v("查看")]),o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.modifylog(t.row)}}},[e._v("修改")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.shenhe(t.row)}}},[e._v("审核")])]}}])})],1),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"320px"},attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}}),o("el-dialog",{attrs:{title:"新增入库单",visible:e.ruformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.ruformmotai=t}}},[o("el-form",{ref:"ruBadgoods",attrs:{model:e.ruBadgoods,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"10%"},attrs:{label:"商品名称:",prop:"goodsname"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.ruBadgoods.goodsname,callback:function(t){e.$set(e.ruBadgoods,"goodsname",t)},expression:"ruBadgoods.goodsname"}})],1),o("el-form-item",{attrs:{label:"商品型号:",prop:"goodsmodel"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.ruBadgoods.goodsmodel,callback:function(t){e.$set(e.ruBadgoods,"goodsmodel",t)},expression:"ruBadgoods.goodsmodel"}})],1),o("el-form-item",{attrs:{label:"商品颜色",prop:"goodscolor"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.ruBadgoods.goodscolor,callback:function(t){e.$set(e.ruBadgoods,"goodscolor",t)},expression:"ruBadgoods.goodscolor"}},[o("el-option",{attrs:{label:"黑色",value:"黑色"}}),o("el-option",{attrs:{label:"白色",value:"白色"}}),o("el-option",{attrs:{label:"红色",value:"红色"}})],1)],1),o("el-form-item",{attrs:{label:"商品品牌",prop:"goodsbrand"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.ruBadgoods.goodsbrand,callback:function(t){e.$set(e.ruBadgoods,"goodsbrand",t)},expression:"ruBadgoods.goodsbrand"}},[o("el-option",{attrs:{label:"三星",value:"三星"}}),o("el-option",{attrs:{label:"华为",value:"华为"}}),o("el-option",{attrs:{label:"苹果",value:"苹果"}})],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.rubadsearch({})}}},[e._v("搜索")])],1)],1),o("hr"),[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rutable,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{label:"返厂配置"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"请选择返厂类型"},model:{value:t.row.goodsleixing,callback:function(o){e.$set(t.row,"goodsleixing",o)},expression:"scope.row.goodsleixing"}},[o("el-option",{attrs:{label:"维修",value:"维修"}}),o("el-option",{attrs:{label:"退货",value:"退货"}})],1)]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.rudeletebutt(t.row.id,t.$index)}}},[e._v("删除")])]}}])})],1)],o("el-form",{ref:"yanzhengform",staticStyle:{"margin-top":"50px"},attrs:{model:e.yanzhengform,"label-width":"150px",rules:e.rules,inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"2%"},attrs:{label:"返厂入库地址:",prop:"address"}},[o("el-select",{attrs:{placeholder:"请选择返地点",clearable:""},model:{value:e.yanzhengform.address,callback:function(t){e.$set(e.yanzhengform,"address",t)},expression:"yanzhengform.address"}},[o("el-option",{attrs:{label:"天翼一库",value:"天翼一库"}}),o("el-option",{attrs:{label:"天翼二库",value:"天翼二库"}})],1)],1),o("el-form-item",{staticStyle:{"margin-left":"45%"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("yanzhengform")}}},[e._v("立即创建")]),o("el-button",{on:{click:function(t){return e.resetintableData()}}},[e._v("重置")]),o("el-button",{on:{click:function(t){return e.incancel(e.newformmotai=!1)}}},[e._v("返回")])],1)],1),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"60px"},attrs:{"current-page":e.badpage.pageNum,"page-sizes":[5,10],"page-size":e.badpage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.badpage.total},on:{"size-change":e.badSizeChange,"current-change":e.badPageChange}})],2),o("el-dialog",{attrs:{title:"新增入库单",visible:e.xiangqingmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.xiangqingmotai=t}}},[[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.xiangqingtableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{prop:"goodsleixing",label:"返厂类型"}}),o("el-table-column",{attrs:{prop:"goodsaddress",label:"返厂地点",width:"150"}})],1)]],2),o("el-dialog",{attrs:{title:"修改入库单",visible:e.modifyformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.modifyformmotai=t}}},[o("el-form",{ref:"modifyBadgoods",attrs:{model:e.modifyBadgoods,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"300px"},attrs:{label:"商品名称:"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.modifyBadgoods.goodsname,callback:function(t){e.$set(e.modifyBadgoods,"goodsname",t)},expression:"modifyBadgoods.goodsname"}})],1),o("el-form-item",{attrs:{label:"商品型号:"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.modifyBadgoods.goodstype,callback:function(t){e.$set(e.modifyBadgoods,"goodstype",t)},expression:"modifyBadgoods.goodstype"}})],1),o("el-form-item",{attrs:{label:"商品颜色"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.modifyBadgoods.goodscolor,callback:function(t){e.$set(e.modifyBadgoods,"goodscolor",t)},expression:"modifyBadgoods.goodscolor"}},[o("el-option",{attrs:{label:"黑色",value:"黑色"}}),o("el-option",{attrs:{label:"白色",value:"白色"}}),o("el-option",{attrs:{label:"红色",value:"红色"}})],1)],1),o("el-form-item",{attrs:{label:"商品品牌"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.modifyBadgoods.goodsbrand,callback:function(t){e.$set(e.modifyBadgoods,"goodsbrand",t)},expression:"modifyBadgoods.goodsbrand"}},[o("el-option",{attrs:{label:"三星",value:"三星"}}),o("el-option",{attrs:{label:"华为",value:"华为"}}),o("el-option",{attrs:{label:"苹果",value:"苹果"}})],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.modifylog({})}}},[e._v("搜索")])],1)],1),[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.modifytable,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{label:"返厂配置"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"请选择返厂类型"},model:{value:t.row.goodsleixing,callback:function(o){e.$set(t.row,"goodsleixing",o)},expression:"scope.row.goodsleixing"}},[o("el-option",{attrs:{label:"维修",value:"维修"}}),o("el-option",{attrs:{label:"退货",value:"退货"}})],1)]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.modifydeleted(t.row.id,t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],o("el-form",{ref:"yanzhengform",staticStyle:{"margin-top":"50px","margin-left":"70%"},attrs:{model:e.yanzhengform,"label-width":"100px",rules:e.rules}},[o("el-form-item",{attrs:{label:"返厂地址:",prop:"address"}},[o("el-select",{attrs:{placeholder:"请选择返地点",clearable:""},model:{value:e.yanzhengform.address,callback:function(t){e.$set(e.yanzhengform,"address",t)},expression:"yanzhengform.address"}},[o("el-option",{attrs:{label:"天翼一库",value:"天翼一库"}}),o("el-option",{attrs:{label:"天翼二库",value:"天翼二库"}})],1)],1)],1),o("el-button",{staticStyle:{"margin-top":"50px","margin-left":"90%"},attrs:{type:"primary"},on:{click:function(t){return e.modifybutton("yanzhengform")}}},[e._v("立即修改")])],2),o("el-dialog",{attrs:{title:"审核入库单",visible:e.shenheformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.shenheformmotai=t}}},[[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.shenhetableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{prop:"goodsleixing",label:"商品跟踪信息"}})],1),o("el-table",{staticStyle:{width:"70%","margin-top":"50px","margin-left":"30%"},attrs:{data:e.shenheneirong,border:""}},[o("el-table-column",{attrs:{prop:"approvedby",label:"审批人"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审批时间"}}),o("el-table-column",{attrs:{prop:"state",label:"审批状态"}}),o("el-table-column",{attrs:{prop:"shenpijilu",label:"审批意见"}})],1)],o("el-button",{staticStyle:{"margin-top":"50px","margin-left":"90%"},attrs:{type:"primary"},on:{click:function(t){e.shenheformmotai=!1}}},[e._v("返回")])],2)],1)},Xt=[],Yt=(o("a434"),{data:function(){return{ruform:{deliveryorderno:"",state:"",beginTimeP:"",endTimeP:"",beginTimeA:"",endTimeA:"",outboundsign:"",creator:""},rutableData:[{goodsid:"",goodsbrand:"",goodsname:"",goodsmodel:"",goodscolor:"",goodssupplier:"",goodstrack:"",goodsleixing:"",selection:[]}],page:{pageSize:"5",pageNum:"1"},ruformmotai:!1,xiangqingmotai:!1,xiangqingtableData:[],modifyformmotai:!1,shenheformmotai:!1,shenhetableData:[{}],shenheneirong:[{}],ruBadgoods:{goodsname:"",goodsmodel:"",goodscolor:"",goodsbrand:"",goodssupplier:""},rutable:[{goodsid:"",goodsbrand:"",goodsname:"",goodsmodel:"",goodscolor:"",goodssupplier:"",goodstrack:"",goodsleixing:""}],modifyBadgoods:{goodsname:"",goodsmodel:"",goodscolor:"",goodsbrand:"",goodschuchangid:""},modifytable:[{goodsid:"",goodsbrand:"",goodsname:"",goodsmodel:"",goodscolor:"",goodssupplier:"",goodstrack:"",goodsleixing:""}],deletednum:[],rules:{address:[{required:!0,message:"请选择入库地址",trigger:"blur"}]},yanzhengform:{address:""},number:"",badpage:{pageNum:"1",pageSize:"5"}}},methods:{newSubmit:function(){},Exportdocument:function(){location.href="http://localhost:8080/RFactory/Export/"},rusearch:function(){var e=this;this.$axios.get("/RFactory/rusearch?pageNum="+this.page.pageNum+"&pageSize="+this.page.pageSize+"&deliveryorderno="+this.ruform.deliveryorderno+"&state="+this.ruform.state+"&beginTimeP="+this.ruform.beginTimeP+"&endTimeP="+this.ruform.endTimeP+"&beginTimeA="+this.ruform.beginTimeA+"&endTimeA="+this.ruform.endTimeA+"&outboundsign="+this.ruform.outboundsign+"&creator="+this.ruform.creator).then((function(t){e.rutableData=t.data.list,e.page=t.data})).catch((function(e){console.log(e)}))},rudeletet:function(){var e=this;this.$axios.post("/RFactory/rudeletet",this.$refs.rutableData.selection).then((function(t){1==t.data?(e.$message({message:"删除成功",type:"success"}),location.reload()):e.$message({message:"删除失败",type:"warning"})})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){console.log(e),this.page.pageSize=e,this.rusearch({})},handlePageChange:function(e){this.page.pageNum=e,this.rusearch({})},query:function(e){var t=this;this.number=e.deliveryorderno,this.$axios.get("/RFactory/query?number="+this.number).then((function(e){t.xiangqingtableData=e.data,t.xiangqingmotai=!0})).catch((function(e){console.log(e)}))},modifylog:function(e){var t=this;""==this.modifyBadgoods.goodschuchangid&&(console.log(this.modifyBadgoods.goodschuchangid),this.modifyBadgoods.goodschuchangid=e.deliveryorderno),this.$axios.get("/RFactory/modify?goodschuchangid="+this.modifyBadgoods.goodschuchangid+"&goodsname="+this.modifyBadgoods.goodsname+"&goodsmodel="+this.modifyBadgoods.goodsmodel+"&goodscolor="+this.modifyBadgoods.goodscolor+"&goodsbrand="+this.modifyBadgoods.goodsbrand).then((function(e){t.modifytable=e.data,t.modifyformmotai=!0})).catch((function(e){console.log(e)}))},modifydeleted:function(e,t,o){this.deletednum.push(o.goodsid),console.log(this.deletednum),this.modifytable.splice(t,1)},modifybutton:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.$axios.post("/RFactory/PPmodify",{address:t.yanzhengform.address,goods:t.modifytable,number:t.modifyBadgoods.goodschuchangid,deletednum:t.deletednum}).then((function(e){1==e.data&&(t.modifyformmotai=!1,t.$message({message:"修改成功",type:"success"}))}))}))},shenhe:function(e){var t=this;this.number=e.deliveryorderno,this.$axios.get("/RFactory/shenhe?shenheid="+this.number).then((function(e){t.shenhetableData=e.data.shenhegoods,t.shenheneirong=e.data.shenhejilu,t.shenheformmotai=!0})).catch((function(e){console.log(e)}))},ruSubmit:function(){this.ruformmotai=!0,this.rubadsearch({})},rubadsearch:function(){var e=this;this.$axios.get("/RFactory/rubadgoods?pageNum="+this.badpage.pageNum+"&pageSize="+this.badpage.pageSize+"&goodsname="+this.ruBadgoods.goodsname+"&goodsmodel="+this.ruBadgoods.goodsmodel+"&goodscolor="+this.ruBadgoods.goodscolor+"&goodsbrand="+this.ruBadgoods.goodsbrand+"&goodssupplier="+this.ruBadgoods.goodssupplier+"&goodschuchangid="+this.number).then((function(t){e.rutable=t.data.list,e.badpage=t.data})).catch((function(e){console.log(e)}))},badSizeChange:function(e){this.badpage.pageSize=e,this.rubadsearch({})},badPageChange:function(e){this.badpage.pageNum=e,this.rubadsearch({})},rudeletebutt:function(e,t){this.rutable.splice(t,1)},resetintableData:function(){this.$refs.yanzhengform.resetFields(),this.$refs.ruBadgoods.resetFields()},incancel:function(){this.ruformmotai=!1},submitForm:function(e){var t=this;0!=this.rutable.length?this.$refs[e].validate((function(e){e&&t.$axios.post("/RFactory/putinstorage",{address:t.yanzhengform.address,goods:t.rutable}).then((function(e){1==e.data?(t.modifyformmotai=!1,t.$message({message:"创建成功",type:"success"}),location.reload()):t.$message({message:"出库失败",type:"warning"})}))})):this.$message({message:"未选择商品出库失败",type:"warning"})}},components:{},computed:{},created:function(){this.rusearch()}}),Zt=Yt,eo=Object(n["a"])(Zt,Jt,Xt,!1,null,"49c0feee",null),to=eo.exports,oo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[o("a",{attrs:{href:"#"}},[e._v("返厂出库单审核")])])],1),o("hr"),o("el-button",{attrs:{type:"info",plain:""},on:{click:e.daishenhe}},[e._v("待审核")]),o("el-button",{attrs:{type:"warning",plain:""},on:{click:e.shenheguo}},[e._v("审核通过")]),o("el-button",{attrs:{type:"danger",plain:""},on:{click:e.shenhebu}},[e._v("审核不过")]),o("hr"),o("el-form",{ref:"Factoryform",attrs:{model:e.Factoryform,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"审批时间："}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.Factoryform.beginTimeA,callback:function(t){e.$set(e.Factoryform,"beginTimeA",t)},expression:"Factoryform.beginTimeA"}})],1)]),o("el-form-item",{attrs:{label:"至"}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.Factoryform.endTimeA,callback:function(t){e.$set(e.Factoryform,"endTimeA",t)},expression:"Factoryform.endTimeA"}})],1)]),o("el-form-item",{attrs:{label:"返厂出库单号:"}},[o("el-input",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:e.Factoryform.DeliveryOrderNo,callback:function(t){e.$set(e.Factoryform,"DeliveryOrderNo",t)},expression:"Factoryform.DeliveryOrderNo"}})],1),o("br"),o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"制单时间："}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.Factoryform.beginTimeP,callback:function(t){e.$set(e.Factoryform,"beginTimeP",t)},expression:"Factoryform.beginTimeP"}})],1)]),o("el-form-item",{attrs:{label:"至"}},[o("div",{staticClass:"block"},[o("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.Factoryform.endTimeP,callback:function(t){e.$set(e.Factoryform,"endTimeP",t)},expression:"Factoryform.endTimeP"}})],1)]),o("el-form-item",{attrs:{label:"制单人:"}},[o("el-input",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:e.Factoryform.Creator,callback:function(t){e.$set(e.Factoryform,"Creator",t)},expression:"Factoryform.Creator"}})],1),o("el-form-item",{attrs:{label:"返厂出库标志:"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.Factoryform.OutboundSign,callback:function(t){e.$set(e.Factoryform,"OutboundSign",t)},expression:"Factoryform.OutboundSign"}},[o("el-option",{attrs:{label:"已出库",value:"已出库"}}),o("el-option",{attrs:{label:"未出库",value:"未出库"}})],1)],1),o("el-form-item",{attrs:{label:"返厂地点:"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.Factoryform.address,callback:function(t){e.$set(e.Factoryform,"address",t)},expression:"Factoryform.address"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.rushenhesearch}},[e._v("搜索")]),o("el-button",{attrs:{type:"primary"},on:{click:e.Exportdocument}},[e._v("导出")])],1)],1),o("hr"),o("el-table",{ref:"tableData",staticStyle:{width:"99%"},attrs:{data:e.shenhetableData,"highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"rid",label:"序号",width:"100"}}),o("el-table-column",{attrs:{prop:"deliveryorderno",label:"返厂出库单号",width:"150"}}),o("el-table-column",{attrs:{prop:"outboundsign",label:"返厂出库标志",width:"180"}}),o("el-table-column",{attrs:{prop:"creator",label:"制单人",width:"150"}}),o("el-table-column",{attrs:{prop:"preparationtime",label:"制单时间",width:"150"}}),o("el-table-column",{attrs:{prop:"approvedby",label:"审批人",width:"150"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审批时间",width:"150"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.shenhe(t.row)}}},[e._v("审核")]),o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.RFAudit(t.row)}}},[e._v("审核时间")])]}}])})],1),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"350px"},attrs:{"current-page":e.page.pageNum,"page-sizes":[5,8],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}}),o("el-dialog",{attrs:{title:"返厂出库单审核",visible:e.shenheformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.shenheformmotai=t}}},[o("el-form",{ref:"yijianform",attrs:{model:e.yijianform,"label-width":"100px",rules:e.rules}},[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.neirong,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{prop:"goodsleixing",label:"商品跟踪信息"}})],1),o("el-table",{staticStyle:{width:"300px","margin-top":"50px","margin-left":"70%"},attrs:{data:e.neirongaddress,border:""}},[o("el-table-column",{attrs:{prop:"address",label:"返厂地点"}})],1),o("el-form-item",{staticStyle:{"margin-left":"68%","margin-top":"20px"},attrs:{label:"审核意见:",prop:"shenpijilu"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea"},model:{value:e.yijianform.shenpijilu,callback:function(t){e.$set(e.yijianform,"shenpijilu",t)},expression:"yijianform.shenpijilu"}})],1),o("el-form-item",{staticStyle:{"margin-left":"68%","margin-top":"20px"},attrs:{label:"审核状态:",prop:"state"}},[o("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.yijianform.state,callback:function(t){e.$set(e.yijianform,"state",t)},expression:"yijianform.state"}},[o("el-option",{attrs:{label:"审核通过",value:"已通过"}}),o("el-option",{attrs:{label:"审核未通过",value:"未通过"}})],1)],1)],1),o("el-button",{staticStyle:{"margin-left":"70%"},on:{click:function(t){return e.yijiansub("yijianform")}}},[e._v("确定")]),o("el-button",{on:{click:function(t){e.shenheformmotai=!1}}},[e._v("返回")]),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"60px"},attrs:{"current-page":e.shenhepage.pageNum,"page-sizes":[5,8],"page-size":e.shenhepage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.shenhepage.total},on:{"size-change":e.shenheSizeChange,"current-change":e.shenhePageChange}})],1),o("el-dialog",{attrs:{title:"返厂出库单审核跟踪",visible:e.RFAuditformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.RFAuditformmotai=t}}},[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.RFAudittable,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}})],1),o("el-table",{staticStyle:{width:"70%","margin-top":"30px","margin-left":"30%"},attrs:{data:e.RFAudittable2,border:""}},[o("el-table-column",{attrs:{prop:"address",label:"返厂地点",width:"120"}}),o("el-table-column",{attrs:{prop:"approvedby",label:"审批人"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审批时间"}}),o("el-table-column",{attrs:{prop:"state",label:"审批状态"}}),o("el-table-column",{attrs:{prop:"shenpijilu",label:"审批意见"}})],1),o("el-button",{staticStyle:{"margin-left":"90%","margin-top":"50px"},on:{click:function(t){e.RFAuditformmotai=!1}}},[e._v("返回")])],1)],1)},ao=[],lo={data:function(){return{Factoryform:{DeliveryOrderNo:"",OutboundSign:"",Creator:"",address:"",beginTimeP:"",endTimeP:"",beginTimeA:"",endTimeA:"",ppageNum:5,ppageSize:8,state:""},shenheformmotai:!1,RFAuditformmotai:!1,shenhetableData:[{}],shenheneirong:[],yijianform:{shenpijilu:"",state:"",deliveryorderno:""},RFAudittable:[{}],RFAudittable2:[{}],rules:{shenpijilu:[{required:!0,message:"请输入审核意见",trigger:"change"}],state:[{required:!0,message:"请选择审核状态",trigger:"blur"}]},page:{},neirong:[],neirongaddress:[{address:""}],shenhepage:{pageNum:"5",pageSize:"8"},RFAuditpage:{pageNum:"5",pageSize:"8"},number:""}},methods:{Exportdocument:function(){location.href="http://localhost:8080/CFactoryshenhe/Export/"},rushenhesearch:function(){var e=this;this.$axios.post("/CFactoryshenhe/Cshenhesearch",this.Factoryform).then((function(t){e.shenhetableData=t.data.list,e.page=t.data})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){console.log(e),this.Factoryform.ppageNum=this.page.pageNum,this.Factoryform.ppageSize=e,this.rushenhesearch({})},handlePageChange:function(e){this.Factoryform.ppageNum=e,this.Factoryform.ppageSize=this.page.pageSize,this.rushenhesearch({})},daishenhe:function(){this.Factoryform.state="未审核",this.rushenhesearch()},shenheguo:function(){this.Factoryform.state="已通过",this.rushenhesearch()},shenhebu:function(){this.Factoryform.state="未通过",this.rushenhesearch()},shenhe:function(e){var t=this;void 0!=e.deliveryorderno&&(this.number=e.deliveryorderno),this.$axios.get("/CFactoryshenhe/CFshenhe?pageNumber="+this.shenhepage.pageNum+"&pageSize="+this.shenhepage.pageSize+"&RFshenheid="+this.number).then((function(e){t.neirong=e.data.list,t.neirongaddress[0].address=t.neirong[0].goodsaddress,t.shenhepage=e.data,t.shenheformmotai=!0})).catch((function(e){console.log(e)}))},shenheSizeChange:function(e){this.shenhepage.pageSize=e,this.shenhe({})},shenhePageChange:function(e){this.shenhepage.pageNum=e,this.shenhe({})},yijiansub:function(e){var t=this;this.yijianform.deliveryorderno=this.number,this.$refs[e].validate((function(e){e&&t.$axios.post("/CFactoryshenhe/yijiansub",t.yijianform).then((function(e){1==e.data?t.$message({message:"操作成功",type:"success"}):t.$message({message:"操作失败",type:"warning"})})).catch((function(e){console.log(e)}))}))},RFAudit:function(e){var t=this;void 0!=e.deliveryorderno&&(this.number=e.deliveryorderno),this.$axios.get("/CFactoryshenhe/CFAudit?RFshenheid="+this.number).then((function(e){2e4==e.code&&(t.RFAuditformmotai=!0,t.RFAudittable=e.data.goods,t.RFAudittable2[0]=e.data.fact,console.log(e.data.data.goods))})).catch((function(e){console.log(e)}))}},components:{},computed:{},created:function(){this.rushenhesearch()},mounted:function(){}},ro=lo,so=Object(n["a"])(ro,oo,ao,!1,null,"7cb6e429",null),io=so.exports,no=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main"}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[o("el-link",{attrs:{href:"#",underline:!1}},[e._v("返厂出库管理 ")])],1)],1),o("hr"),o("el-form",{ref:"Factoryform",attrs:{model:e.Factoryform,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"审批时间"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.Factoryform.approvaltime,callback:function(t){e.$set(e.Factoryform,"approvaltime",t)},expression:"Factoryform.approvaltime"}})],1)]),o("el-form-item",{attrs:{label:"返厂出库单号:"}},[o("el-input",{staticStyle:{width:"150px"},model:{value:e.Factoryform.deliveryorderno,callback:function(t){e.$set(e.Factoryform,"deliveryorderno",t)},expression:"Factoryform.deliveryorderno"}})],1),o("br"),o("el-form-item",{staticStyle:{"margin-left":"5%"},attrs:{label:"制作时间"}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.Factoryform.preparationtime,callback:function(t){e.$set(e.Factoryform,"preparationtime",t)},expression:"Factoryform.preparationtime"}})],1)]),o("el-form-item",{attrs:{label:"返厂出库标志:"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:e.Factoryform.outboundsign,callback:function(t){e.$set(e.Factoryform,"outboundsign",t)},expression:"Factoryform.outboundsign"}},[o("el-option",{attrs:{label:"已出库",value:"已出库"}}),o("el-option",{attrs:{label:"未出库",value:"未出库"}})],1)],1),o("el-form-item",{attrs:{label:"审核状态"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:e.Factoryform.state,callback:function(t){e.$set(e.Factoryform,"state",t)},expression:"Factoryform.state"}},[o("el-option",{attrs:{label:"已通过",value:"已通过"}}),o("el-option",{attrs:{label:"未通过",value:"未通过"}}),o("el-option",{attrs:{label:"未审核",value:"未审核"}})],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.newSubmit}},[e._v("新增出库单")]),o("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),o("el-button",{attrs:{type:"primary"},on:{click:e.Factorydeletet}},[e._v("删除")]),o("el-button",{attrs:{type:"primary"},on:{click:e.Exportdocument}},[e._v("导出")])],1),o("hr"),o("el-table",{ref:"tableData",staticStyle:{width:"99%"},attrs:{data:e.tableData,"highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"rid",label:"序号",width:"100"}}),o("el-table-column",{attrs:{type:"selection",width:"100"}}),o("el-table-column",{attrs:{prop:"deliveryorderno",label:"返厂出库单号",width:"150"}}),o("el-table-column",{attrs:{prop:"outboundsign",label:"返厂出库标志",width:"180"}}),o("el-table-column",{attrs:{prop:"creator",label:"制单人",width:"150"}}),o("el-table-column",{attrs:{prop:"preparationtime",label:"制作时间",width:"150"}}),o("el-table-column",{attrs:{prop:"approvedby",label:"审批人",width:"150"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审核时间",width:"150"}}),o("el-table-column",{attrs:{prop:"state",label:"状态",width:"150"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.query(t.row)}}},[e._v("查看")]),o("el-button",{attrs:{type:"warning"},on:{click:function(o){return e.modifylog(t.row)}}},[e._v("修改")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.shenhe(t.row)}}},[e._v("审核")])]}}])})],1),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"420px"},attrs:{"current-page":e.page.pageNum,"page-sizes":[5,10],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}}),o("el-dialog",{attrs:{title:"新增出库单",visible:e.newformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.newformmotai=t}}},[o("el-form",{ref:"Badgoods",attrs:{model:e.Badgoods,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"10%"},attrs:{label:"商品名称:",prop:"goodsname"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.Badgoods.goodsname,callback:function(t){e.$set(e.Badgoods,"goodsname",t)},expression:"Badgoods.goodsname"}})],1),o("el-form-item",{attrs:{label:"商品型号:",prop:"goodstype"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.Badgoods.goodstype,callback:function(t){e.$set(e.Badgoods,"goodstype",t)},expression:"Badgoods.goodstype"}})],1),o("el-form-item",{attrs:{label:"商品颜色",prop:"goodscolor"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.Badgoods.goodscolor,callback:function(t){e.$set(e.Badgoods,"goodscolor",t)},expression:"Badgoods.goodscolor"}},[o("el-option",{attrs:{label:"黑色",value:"黑色"}}),o("el-option",{attrs:{label:"白色",value:"白色"}}),o("el-option",{attrs:{label:"红色",value:"红色"}})],1)],1),o("el-form-item",{attrs:{label:"商品品牌",prop:"goodsbrand"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.Badgoods.goodsbrand,callback:function(t){e.$set(e.Badgoods,"goodsbrand",t)},expression:"Badgoods.goodsbrand"}},[o("el-option",{attrs:{label:"三星",value:"三星"}}),o("el-option",{attrs:{label:"华为",value:"华为"}}),o("el-option",{attrs:{label:"苹果",value:"苹果"}})],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.badsearch({})}}},[e._v("搜索")])],1)],1),o("hr"),[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.intableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{label:"返厂配置"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"请选择返厂类型"},model:{value:t.row.goodsleixing,callback:function(o){e.$set(t.row,"goodsleixing",o)},expression:"scope.row.goodsleixing"}},[o("el-option",{attrs:{label:"维修",value:"维修"}}),o("el-option",{attrs:{label:"退货",value:"退货"}})],1)]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.indeletebutt(t.row.id,t.$index)}}},[e._v("删除")])]}}])})],1)],o("el-form",{ref:"yanzhengform",staticStyle:{margin:"50px"},attrs:{model:e.yanzhengform,"label-width":"100px",rules:e.rules,inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"2%"},attrs:{label:"返厂地址:",prop:"address"}},[o("el-select",{attrs:{placeholder:"请选择返地点",clearable:""},on:{change:e.xindizhi},model:{value:e.yanzhengform.address,callback:function(t){e.$set(e.yanzhengform,"address",t)},expression:"yanzhengform.address"}},[o("el-option",{attrs:{label:"苹果",value:"苹果"}}),o("el-option",{attrs:{label:"三星",value:"三星"}}),o("el-option",{attrs:{label:"华为",value:"华为"}})],1)],1),o("el-form-item",{staticStyle:{"margin-left":"45%"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("yanzhengform")}}},[e._v("立即创建")]),o("el-button",{on:{click:function(t){return e.resetintableData()}}},[e._v("重置")]),o("el-button",{on:{click:function(t){return e.incancel(e.newformmotai=!1)}}},[e._v("返回")])],1)],1),o("el-pagination",{staticStyle:{"margin-left":"36%","margin-top":"60px"},attrs:{"current-page":e.badpage.pageNum,"page-sizes":[5,10],"page-size":e.badpage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.badpage.total},on:{"size-change":e.badSizeChange,"current-change":e.badPageChange}})],2),o("el-dialog",{attrs:{title:"修改出库单",visible:e.modifyformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.modifyformmotai=t}}},[o("el-form",{ref:"modifyBadgoods",attrs:{model:e.modifyBadgoods,"label-width":"100px",inline:!0}},[o("el-form-item",{staticStyle:{"margin-left":"35%"},attrs:{label:"商品名称:"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.modifyBadgoods.goodsname,callback:function(t){e.$set(e.modifyBadgoods,"goodsname",t)},expression:"modifyBadgoods.goodsname"}})],1),o("el-form-item",{attrs:{label:"商品型号:"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.modifyBadgoods.goodsmodel,callback:function(t){e.$set(e.modifyBadgoods,"goodsmodel",t)},expression:"modifyBadgoods.goodsmodel"}})],1),o("el-form-item",{attrs:{label:"商品颜色"}},[o("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.modifyBadgoods.goodscolor,callback:function(t){e.$set(e.modifyBadgoods,"goodscolor",t)},expression:"modifyBadgoods.goodscolor"}},[o("el-option",{attrs:{label:"黑色",value:"黑色"}}),o("el-option",{attrs:{label:"白色",value:"白色"}}),o("el-option",{attrs:{label:"红色",value:"红色"}})],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.modifylog({})}}},[e._v("搜索")])],1),[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.modifyintableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{label:"返厂配置"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"请选择返厂类型"},model:{value:t.row.goodsleixing,callback:function(o){e.$set(t.row,"goodsleixing",o)},expression:"scope.row.goodsleixing"}},[o("el-option",{attrs:{label:"维修",value:"维修"}}),o("el-option",{attrs:{label:"退货",value:"退货"}})],1)]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.modifydeleted(t.row.id,t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],o("el-form",{ref:"yanzhengform",attrs:{model:e.yanzhengform,"label-width":"100px",rules:e.rules}},[o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"返厂地址:",prop:"address"}},[o("el-select",{attrs:{placeholder:"请选择返地点",clearable:""},model:{value:e.yanzhengform.address,callback:function(t){e.$set(e.yanzhengform,"address",t)},expression:"yanzhengform.address"}},[o("el-option",{attrs:{label:"苹果",value:"苹果"}}),o("el-option",{attrs:{label:"三星",value:"三星"}}),o("el-option",{attrs:{label:"华为",value:"华为"}})],1)],1)],1),o("el-button",{staticStyle:{"margin-left":"85%","margin-top":"80px"},attrs:{type:"primary"},on:{click:function(t){return e.modifybutton("yanzhengform")}}},[e._v("立即修改")])],2),o("el-dialog",{attrs:{title:"审核出库单",visible:e.shenheformmotai,width:"80%",high:"500px"},on:{"update:visible":function(t){e.shenheformmotai=t}}},[[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.shenhetableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{prop:"goodsleixing",label:"商品跟踪信息"}})],1),o("el-table",{staticStyle:{width:"70%","margin-top":"50px","margin-left":"30%"},attrs:{data:e.shenheneirong,border:""}},[o("el-table-column",{attrs:{prop:"approvedby",label:"审批人"}}),o("el-table-column",{attrs:{prop:"approvaltime",label:"审批时间"}}),o("el-table-column",{attrs:{prop:"state",label:"审批状态"}}),o("el-table-column",{attrs:{prop:"shenpijilu",label:"审批意见"}})],1)],o("el-button",{staticStyle:{"margin-top":"50px","margin-left":"90%"},attrs:{type:"primary"},on:{click:function(t){return e.shenhebutton()}}},[e._v("返回")])],2),o("el-dialog",{attrs:{title:"新增出库单",visible:e.xiangqingform,width:"80%",high:"500px"},on:{"update:visible":function(t){e.xiangqingform=t}}},[[o("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.xiangqingtableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsid",label:"商品串号",width:"120"}}),o("el-table-column",{attrs:{prop:"goodsbrand",label:"商品品牌",width:"150"}}),o("el-table-column",{attrs:{prop:"goodsname",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsmodel",label:"商品型号"}}),o("el-table-column",{attrs:{prop:"goodscolor",label:"商品颜色"}}),o("el-table-column",{attrs:{prop:"goodssupplier",label:"商品供应商"}}),o("el-table-column",{attrs:{prop:"goodstrack",label:"商品跟踪信息"}}),o("el-table-column",{attrs:{prop:"goodsleixing",label:"返厂类型"}}),o("el-table-column",{attrs:{prop:"goodsaddress",label:"返厂地点",width:"150"}})],1)]],2)],1)},co=[],po={data:function(){return{Factoryform:{deliveryorderno:"",state:"",preparationtime:"",approvaltime:"",ppageNum:1,ppageSize:5},intableData:[{goodsid:"",goodsbrand:"",goodsname:"",goodsmodel:"",goodscolor:"",goodssupplier:"",goodstrack:"",goodsleixing:""}],address:"",shenhetableData:[{}],shenheneirong:[{}],xiangqingtableData:[],xiangqingform:!1,modifyformmotai:!1,shenheformmotai:!1,modifyintableData:[],tableData:[],page:{},inpage:{pageNum:"",pageSize:""},rules:{address:[{required:!0,message:"请选择入库地址",trigger:"blur"}]},yanzhengform:{address:""},newformmotai:!1,number:"",modifyform:{},Badgoods:{goodsname:"",goodstype:"",goodscolor:"",goodsbrand:"",goodssupplier:""},badtableData:{rid:"",goodsid:"",goodsname:"",goodstype:"",goodsbrand:"",goodsmodel:"",goodscolor:"",goodssupplier:"",goodsstate:"",goodstrack:""},modifyBadgoods:{goodschuchangid:"",goodsname:"",goodsmodel:"",goodscolor:""},badpage:{pageNum:"",pageSize:""},deletednum:[]}},methods:{Exportdocument:function(){location.href="/Factory/Export/"},search:function(){var e=this;this.$axios.post("/Factory/search",this.Factoryform).then((function(t){e.tableData=t.data.list,e.page=t.data})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){console.log(e),this.Factoryform.ppageNum=this.page.pageNum,this.Factoryform.ppageSize=e,this.search({})},handlePageChange:function(e){this.Factoryform.ppageNum=e,this.Factoryform.ppageSize=this.page.pageSize,this.search({})},query:function(e){var t=this;this.number=e.deliveryorderno,this.$axios.get("/Factory/query?number="+this.number).then((function(e){t.xiangqingtableData=e.data,t.xiangqingform=!0})).catch((function(e){console.log(e)}))},modifylog:function(e){var t=this;""==this.modifyBadgoods.goodschuchangid&&(this.modifyBadgoods.goodschuchangid=e.deliveryorderno),this.$axios.get("/Factory/modify?goodschuchangid="+this.modifyBadgoods.goodschuchangid+"&goodsname="+this.modifyBadgoods.goodsname+"&goodsmodel="+this.modifyBadgoods.goodsmodel+"&goodscolor="+this.modifyBadgoods.goodscolor).then((function(e){t.modifyintableData=e.data,t.modifyformmotai=!0})).catch((function(e){console.log(e)}))},modifydeleted:function(e,t,o){this.modifyintableData.splice(t,1),this.deletednum.push(o.goodsid)},modifybutton:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.$axios.post("/Factory/PPmodify",{address:t.yanzhengform.address,goods:t.modifyintableData,number:t.modifyBadgoods.goodschuchangid,deletednum:t.deletednum}).then((function(e){1==e.data&&(t.modifyformmotai=!1,t.$message({message:"修改成功",type:"success"}))}))}))},shenhe:function(e){var t=this;this.number=e.deliveryorderno,this.$axios.get("/Factory/shenhe?shenheid="+this.number).then((function(e){t.shenhetableData=e.data.shenhegoods,t.shenheneirong=e.data.shenhejilu,t.shenheformmotai=!0})).catch((function(e){console.log(e)}))},shenhebutton:function(){this.shenheformmotai=!1},Factorydeletet:function(){var e=this;this.$axios.post("/Factory/deletet",this.$refs.tableData.selection).then((function(t){1==t.data?(e.$message({message:"删除成功",type:"success"}),location.reload()):e.$message({message:"删除失败",type:"warning"})})).catch((function(e){console.log(e)}))},xindizhi:function(){this.Badgoods.goodssupplier=this.yanzhengform.address,this.badsearch({})},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.$axios.post("/Factory/outbound",{address:t.yanzhengform.address,goods:t.intableData}).then((function(e){1==e.data?(t.modifyformmotai=!1,t.$message({message:"创建成功",type:"success"}),t.search(),t.newformmotai=!1):t.$message({message:"出库失败",type:"warning"})}))}))},newSubmit:function(){this.newformmotai=!0},indeletebutt:function(e,t){this.intableData.splice(t,1)},newbadparts:function(){this.bad=!0},badsearch:function(){var e=this;this.$axios.get("/Factory/bad?pageNumber="+this.badpage.pageNum+"&pageSize="+this.badpage.pageSize+"&goodsname="+this.Badgoods.goodsname+"&goodstype="+this.Badgoods.goodstype+"&goodscolor="+this.Badgoods.goodscolor+"&goodsbrand="+this.Badgoods.goodsbrand+"&goodssupplier="+this.Badgoods.goodssupplier+"&goodschuchangid="+this.number).then((function(t){e.intableData=t.data.list,e.modifyintableData=t.data.list,e.badpage=t.data})).catch((function(e){console.log(e)}))},badSizeChange:function(e){this.badpage.pageSize=e,this.badsearch({})},badPageChange:function(e){this.badpage.pageNum=e,this.badsearch()},resetintableData:function(){this.$refs.Badgoods.resetFields(),this.$refs.yanzhengform.resetFields()},incancel:function(){this.newform=!1}},created:function(){this.search(),this.badsearch()}},uo=po,mo=Object(n["a"])(uo,no,co,!1,null,"3a889a19",null),fo=mo.exports;a["default"].use(m["a"]);var ho=new m["a"]({mode:"hash",base:"/dist",routes:[{path:"/",name:"login",component:v,meta:{keepalive:!0}},{path:"/main",name:"Main",component:_,meta:{keepalive:!0},children:[{path:"userManage",component:z},{path:"roleManage",component:B},{path:"authManage",component:Q},{path:"deptManage",component:K},{path:"acquireProudct",component:te},{path:"goodsType",component:me},{path:"audit",component:ie},{path:"priceAudit",component:ve},{path:"supplier",component:_e},{path:"returnAndRepair",component:Qt},{path:"brandManage",component:ze},{path:"productManage",component:Be},{path:"goodsSearch",component:Qe},{path:"giftManage",component:Ke},{path:"giftToProductManage",component:tt},{path:"giftToProductAudit",component:it},{path:"productToGiftManage",component:mt},{path:"productToGiftAudit",component:vt},{path:"saleOrder",component:_t},{path:"waitToOutStorage",component:zt},{path:"logInfo",component:Bt},{path:"reFacInAudit",component:Kt},{path:"reFacInManage",component:to},{path:"reFacOutAudit",component:io},{path:"reFacOutManage",component:fo}]}]}),bo=(o("d3b7"),o("bc3a")),go=o.n(bo);go.a.interceptors.request.use((function(e){var t=e.url;if("/loginByPhone"==t||"/valCode"==t||"/loginByPassword"==t)return e;var o=localStorage.getItem("token");return null!=o?e.headers["token"]=localStorage.getItem("token"):ho.push("/"),e}),(function(e){return Promise.reject(e)})),go.a.interceptors.response.use((function(e){var t=e.data;if(52e3==t.code&&ho.push("/"),"token"in e.headers){var o=e.headers["token"];localStorage.setItem("token",o)}return t}),(function(e){return Promise.reject(e)}));var yo=go.a,vo=o("4328"),ko=o.n(vo),Fo=o("2f62");a["default"].use(Fo["a"]);var xo=new Fo["a"].Store({state:{currentUser:null,isLogin:!1},mutations:{userStatus:function(e,t){t?(e.currentUser=t,e.isLogin=!0):null==t&&(sessionStorage.setItem("userName",null),e.currentUser=null,e.isLogin=!1)}},actions:{setUser:function(e){this.commit("userStatus",e)}},getters:{isLogin:function(e){return e.isLogin},currentUser:function(e){return e.currentUser}}});a["default"].config.productionTip=!1,a["default"].use(u.a),a["default"].prototype.$qs=ko.a,a["default"].prototype.$axios=yo,new a["default"]({el:"#app",render:function(e){return e(c)},router:ho,store:xo,template:"<App/>"})},"7a65":function(e,t,o){"use strict";var a=o("99e5"),l=o.n(a);l.a},8057:function(e,t,o){},"8cee":function(e,t,o){},"927a":function(e,t,o){"use strict";var a=o("399b"),l=o.n(a);l.a},9829:function(e,t,o){},"99e5":function(e,t,o){},a0f3:function(e,t,o){},a424:function(e,t,o){},a829:function(e,t,o){},a886:function(e,t,o){"use strict";var a=o("8057"),l=o.n(a);l.a},aab1:function(e,t,o){"use strict";var a=o("4623"),l=o.n(a);l.a},b37f:function(e,t,o){"use strict";var a=o("36be"),l=o.n(a);l.a},bd2d:function(e,t,o){"use strict";var a=o("2046"),l=o.n(a);l.a},c630:function(e,t,o){},c6d1:function(e,t,o){"use strict";var a=o("8cee"),l=o.n(a);l.a},c825:function(e,t,o){"use strict";var a=o("9829"),l=o.n(a);l.a},cc9b:function(e,t,o){"use strict";var a=o("ffe5"),l=o.n(a);l.a},cf05:function(e,t,o){e.exports=o.p+"img/logo.ffff0aa4.png"},d47d:function(e,t,o){"use strict";var a=o("a829"),l=o.n(a);l.a},d8af:function(e,t,o){"use strict";var a=o("a424"),l=o.n(a);l.a},df77:function(e,t,o){"use strict";var a=o("23a8"),l=o.n(a);l.a},e2e4:function(e,t,o){"use strict";var a=o("0429"),l=o.n(a);l.a},ea01:function(e,t,o){"use strict";var a=o("1b6c"),l=o.n(a);l.a},f2fb:function(e,t,o){},ffe5:function(e,t,o){}});
//# sourceMappingURL=app.ad864e30.js.map